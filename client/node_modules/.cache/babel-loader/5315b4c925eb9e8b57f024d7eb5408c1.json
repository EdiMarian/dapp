{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/ediichim/Documents/workspace/temp/estar dapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/ediichim/Documents/workspace/temp/estar dapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.QueryResponse = void 0;\n\nvar networkParams_1 = require(\"../networkParams\");\n\nvar query_1 = require(\"./query\");\n\nvar returnCode_1 = require(\"./returnCode\");\n\nvar bignumber_js_1 = __importDefault(require(\"bignumber.js\"));\n\nvar result_1 = require(\"./result\");\n\nvar QueryResponse = /*#__PURE__*/function () {\n  function QueryResponse(init) {\n    _classCallCheck(this, QueryResponse);\n\n    this.returnData = (init === null || init === void 0 ? void 0 : init.returnData) || [];\n    this.returnCode = (init === null || init === void 0 ? void 0 : init.returnCode) || returnCode_1.ReturnCode.Unknown;\n    this.returnMessage = (init === null || init === void 0 ? void 0 : init.returnMessage) || \"\";\n    this.gasUsed = (init === null || init === void 0 ? void 0 : init.gasUsed) || networkParams_1.GasLimit.min();\n  }\n  /**\n   * Constructs a QueryResponse object from a HTTP response (as returned by the provider).\n   */\n\n\n  _createClass(QueryResponse, [{\n    key: \"getEndpointDefinition\",\n    value: function getEndpointDefinition() {\n      return this.endpointDefinition;\n    }\n  }, {\n    key: \"getReturnCode\",\n    value: function getReturnCode() {\n      return this.returnCode;\n    }\n  }, {\n    key: \"getReturnMessage\",\n    value: function getReturnMessage() {\n      return this.returnMessage;\n    }\n  }, {\n    key: \"unpackOutput\",\n    value: function unpackOutput() {\n      return result_1.Result.unpackOutput(this);\n    }\n  }, {\n    key: \"assertSuccess\",\n    value: function assertSuccess() {\n      result_1.Result.assertSuccess(this);\n    }\n  }, {\n    key: \"isSuccess\",\n    value: function isSuccess() {\n      return this.returnCode.isSuccess();\n    }\n  }, {\n    key: \"setEndpointDefinition\",\n    value: function setEndpointDefinition(endpointDefinition) {\n      this.endpointDefinition = endpointDefinition;\n    }\n  }, {\n    key: \"outputUntyped\",\n    value: function outputUntyped() {\n      this.assertSuccess();\n      var buffers = this.returnData.map(function (item) {\n        return Buffer.from(item || \"\", \"base64\");\n      });\n      return buffers;\n    }\n  }, {\n    key: \"outputTyped\",\n    value: function outputTyped() {\n      return result_1.Result.outputTyped(this);\n    }\n    /**\n     * Converts the object to a pretty, plain JavaScript object.\n     */\n\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        success: this.isSuccess(),\n        returnData: this.returnData,\n        returnCode: this.returnCode,\n        returnMessage: this.returnMessage,\n        gasUsed: this.gasUsed.valueOf()\n      };\n    }\n  }], [{\n    key: \"fromHttpResponse\",\n    value: function fromHttpResponse(payload) {\n      var returnData = payload[\"returnData\"] || payload[\"ReturnData\"];\n      var returnCode = payload[\"returnCode\"] || payload[\"ReturnCode\"];\n      var returnMessage = payload[\"returnMessage\"] || payload[\"ReturnMessage\"];\n      var gasRemaining = new bignumber_js_1.default(payload[\"gasRemaining\"] || payload[\"GasRemaining\"] || 0);\n      var gasUsed = new networkParams_1.GasLimit(query_1.MaxUint64.minus(gasRemaining).toNumber());\n      return new QueryResponse({\n        returnData: returnData,\n        returnCode: new returnCode_1.ReturnCode(returnCode),\n        returnMessage: returnMessage,\n        gasUsed: gasUsed\n      });\n    }\n  }]);\n\n  return QueryResponse;\n}();\n\nexports.QueryResponse = QueryResponse;","map":{"version":3,"sources":["../../src/smartcontracts/queryResponse.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QueryResponse = void 0;\nconst networkParams_1 = require(\"../networkParams\");\nconst query_1 = require(\"./query\");\nconst returnCode_1 = require(\"./returnCode\");\nconst bignumber_js_1 = __importDefault(require(\"bignumber.js\"));\nconst result_1 = require(\"./result\");\nclass QueryResponse {\n    constructor(init) {\n        this.returnData = (init === null || init === void 0 ? void 0 : init.returnData) || [];\n        this.returnCode = (init === null || init === void 0 ? void 0 : init.returnCode) || returnCode_1.ReturnCode.Unknown;\n        this.returnMessage = (init === null || init === void 0 ? void 0 : init.returnMessage) || \"\";\n        this.gasUsed = (init === null || init === void 0 ? void 0 : init.gasUsed) || networkParams_1.GasLimit.min();\n    }\n    /**\n     * Constructs a QueryResponse object from a HTTP response (as returned by the provider).\n     */\n    static fromHttpResponse(payload) {\n        let returnData = payload[\"returnData\"] || payload[\"ReturnData\"];\n        let returnCode = payload[\"returnCode\"] || payload[\"ReturnCode\"];\n        let returnMessage = payload[\"returnMessage\"] || payload[\"ReturnMessage\"];\n        let gasRemaining = new bignumber_js_1.default(payload[\"gasRemaining\"] || payload[\"GasRemaining\"] || 0);\n        let gasUsed = new networkParams_1.GasLimit(query_1.MaxUint64.minus(gasRemaining).toNumber());\n        return new QueryResponse({\n            returnData: returnData,\n            returnCode: new returnCode_1.ReturnCode(returnCode),\n            returnMessage: returnMessage,\n            gasUsed: gasUsed,\n        });\n    }\n    getEndpointDefinition() {\n        return this.endpointDefinition;\n    }\n    getReturnCode() {\n        return this.returnCode;\n    }\n    getReturnMessage() {\n        return this.returnMessage;\n    }\n    unpackOutput() {\n        return result_1.Result.unpackOutput(this);\n    }\n    assertSuccess() {\n        result_1.Result.assertSuccess(this);\n    }\n    isSuccess() {\n        return this.returnCode.isSuccess();\n    }\n    setEndpointDefinition(endpointDefinition) {\n        this.endpointDefinition = endpointDefinition;\n    }\n    outputUntyped() {\n        this.assertSuccess();\n        let buffers = this.returnData.map((item) => Buffer.from(item || \"\", \"base64\"));\n        return buffers;\n    }\n    outputTyped() {\n        return result_1.Result.outputTyped(this);\n    }\n    /**\n     * Converts the object to a pretty, plain JavaScript object.\n     */\n    toJSON() {\n        return {\n            success: this.isSuccess(),\n            returnData: this.returnData,\n            returnCode: this.returnCode,\n            returnMessage: this.returnMessage,\n            gasUsed: this.gasUsed.valueOf(),\n        };\n    }\n}\nexports.QueryResponse = QueryResponse;\n//# sourceMappingURL=queryResponse.js.map"]},"metadata":{},"sourceType":"script"}