{"ast":null,"code":"import { createAction, createSlice, combineReducers, configureStore } from '@reduxjs/toolkit';\nimport { ChainID, Address, ExtensionProvider, HWProvider, WalletConnectProvider, WalletProvider, ProxyProvider, ApiProvider, TransactionPayload, TransactionVersion, TransactionOptions, Transaction, Balance, GasLimit, GasPrice, Token, Nonce as Nonce$1 } from '@elrondnetwork/erdjs';\nimport isEqual from 'lodash/isEqual';\nimport { createSelectorCreator, defaultMemoize, createSelector } from 'reselect';\nimport { REHYDRATE, persistReducer, FLUSH, PAUSE, PERSIST, PURGE, REGISTER, persistStore } from 'redux-persist';\nimport throttle from 'lodash/throttle';\nimport omit from 'lodash/omit';\nimport BigNumber from 'bignumber.js';\nimport { Nonce, TransactionOptions as TransactionOptions$1, createBalanceBuilder, Token as Token$1, TokenType, Address as Address$1, TransactionPayload as TransactionPayload$1 } from '@elrondnetwork/erdjs/out';\nimport { validation, operations } from '@elrondnetwork/dapp-utils';\nimport React__default, { useState, useRef, useEffect, useContext, useCallback, createElement, Fragment, Component, useMemo } from 'react';\nimport { createStoreHook, createDispatchHook, createSelectorHook, Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport axios from 'axios';\nimport { Signature } from '@elrondnetwork/erdjs/out/signature';\nimport qs from 'qs';\nimport debounce from 'lodash/debounce'; // A type of promise-like that resolves synchronously and supports only one observer\n\nvar _Pact = /*#__PURE__*/function () {\n  function _Pact() {}\n\n  _Pact.prototype.then = function (onFulfilled, onRejected) {\n    var result = new _Pact();\n    var state = this.s;\n\n    if (state) {\n      var callback = state & 1 ? onFulfilled : onRejected;\n\n      if (callback) {\n        try {\n          _settle(result, 1, callback(this.v));\n        } catch (e) {\n          _settle(result, 2, e);\n        }\n\n        return result;\n      } else {\n        return this;\n      }\n    }\n\n    this.o = function (_this) {\n      try {\n        var value = _this.v;\n\n        if (_this.s & 1) {\n          _settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n        } else if (onRejected) {\n          _settle(result, 1, onRejected(value));\n        } else {\n          _settle(result, 2, value);\n        }\n      } catch (e) {\n        _settle(result, 2, e);\n      }\n    };\n\n    return result;\n  };\n\n  return _Pact;\n}(); // Settles a pact synchronously\n\n\nfunction _settle(pact, state, value) {\n  if (!pact.s) {\n    if (value instanceof _Pact) {\n      if (value.s) {\n        if (state & 1) {\n          state = value.s;\n        }\n\n        value = value.v;\n      } else {\n        value.o = _settle.bind(null, pact, state);\n        return;\n      }\n    }\n\n    if (value && value.then) {\n      value.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n      return;\n    }\n\n    pact.s = state;\n    pact.v = value;\n    var observer = pact.o;\n\n    if (observer) {\n      observer(pact);\n    }\n  }\n}\n\nfunction _isSettledPact(thenable) {\n  return thenable instanceof _Pact && thenable.s & 1;\n} // Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\n\n\nfunction _forTo(array, body, check) {\n  var i = -1,\n      pact,\n      reject;\n\n  function _cycle(result) {\n    try {\n      while (++i < array.length && (!check || !check())) {\n        result = body(i);\n\n        if (result && result.then) {\n          if (_isSettledPact(result)) {\n            result = result.v;\n          } else {\n            result.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n            return;\n          }\n        }\n      }\n\n      if (pact) {\n        _settle(pact, 1, result);\n      } else {\n        pact = result;\n      }\n    } catch (e) {\n      _settle(pact || (pact = new _Pact()), 2, e);\n    }\n  }\n\n  _cycle();\n\n  return pact;\n}\n\nvar _iteratorSymbol = /*#__PURE__*/typeof Symbol !== \"undefined\" ? Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\")) : \"@@iterator\"; // Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\n\n\nfunction _forOf(target, body, check) {\n  if (typeof target[_iteratorSymbol] === \"function\") {\n    var _cycle = function _cycle(result) {\n      try {\n        while (!(step = iterator.next()).done && (!check || !check())) {\n          result = body(step.value);\n\n          if (result && result.then) {\n            if (_isSettledPact(result)) {\n              result = result.v;\n            } else {\n              result.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n              return;\n            }\n          }\n        }\n\n        if (pact) {\n          _settle(pact, 1, result);\n        } else {\n          pact = result;\n        }\n      } catch (e) {\n        _settle(pact || (pact = new _Pact()), 2, e);\n      }\n    };\n\n    var iterator = target[_iteratorSymbol](),\n        step,\n        pact,\n        reject;\n\n    _cycle();\n\n    if (iterator.return) {\n      var _fixup = function _fixup(value) {\n        try {\n          if (!step.done) {\n            iterator.return();\n          }\n        } catch (e) {}\n\n        return value;\n      };\n\n      if (pact && pact.then) {\n        return pact.then(_fixup, function (e) {\n          throw _fixup(e);\n        });\n      }\n\n      _fixup();\n    }\n\n    return pact;\n  } // No support for Symbol.iterator\n\n\n  if (!(\"length\" in target)) {\n    throw new TypeError(\"Object is not iterable\");\n  } // Handle live collections properly\n\n\n  var values = [];\n\n  for (var i = 0; i < target.length; i++) {\n    values.push(target[i]);\n  }\n\n  return _forTo(values, function (i) {\n    return body(values[i]);\n  }, check);\n}\n\nvar _asyncIteratorSymbol = /*#__PURE__*/typeof Symbol !== \"undefined\" ? Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\")) : \"@@asyncIterator\"; // Asynchronously call a function and send errors to recovery continuation\n\n\nfunction _catch(body, recover) {\n  try {\n    var result = body();\n  } catch (e) {\n    return recover(e);\n  }\n\n  if (result && result.then) {\n    return result.then(void 0, recover);\n  }\n\n  return result;\n} // Asynchronously await a promise and pass the result to a finally continuation\n\n\nfunction _finallyRethrows(body, finalizer) {\n  try {\n    var result = body();\n  } catch (e) {\n    return finalizer(true, e);\n  }\n\n  if (result && result.then) {\n    return result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n  }\n\n  return finalizer(false, result);\n}\n\nvar logoutAction = createAction('logout');\nvar loginAction = createAction('login', function (payload) {\n  return {\n    payload: payload\n  };\n});\nvar createDeepEqualSelector = createSelectorCreator(defaultMemoize, isEqual);\n\nvar networkConfigSelector = function networkConfigSelector(state) {\n  return state.networkConfig;\n};\n\nvar proxySelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return state.proxy;\n});\nvar providerSelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return state.provider;\n});\nvar chainIDSelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return new ChainID(state.chainID);\n});\nvar apiProviderSelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return state.apiProvider;\n});\nvar walletConnectBridgeAddressSelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return state.network.walletConnectBridgeAddress;\n});\nvar walletConnectDeepLinkSelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return state.network.walletConnectDeepLink;\n});\nvar networkSelector = createDeepEqualSelector(networkConfigSelector, function (state) {\n  return state.network;\n});\nvar apiNetworkSelector = createDeepEqualSelector(networkSelector, function (state) {\n  return state.apiAddress;\n});\nvar explorerAddressSelector = createDeepEqualSelector(networkSelector, function (state) {\n  return state.explorerAddress;\n});\nvar egldLabelSelector = createDeepEqualSelector(networkSelector, function (state) {\n  return state.egldLabel;\n});\nvar TransactionServerStatusesEnum;\n\n(function (TransactionServerStatusesEnum) {\n  TransactionServerStatusesEnum[\"pending\"] = \"pending\";\n  TransactionServerStatusesEnum[\"fail\"] = \"fail\";\n  TransactionServerStatusesEnum[\"invalid\"] = \"invalid\";\n  TransactionServerStatusesEnum[\"success\"] = \"success\";\n  TransactionServerStatusesEnum[\"executed\"] = \"executed\";\n  TransactionServerStatusesEnum[\"completed\"] = \"completed\";\n})(TransactionServerStatusesEnum || (TransactionServerStatusesEnum = {}));\n\nvar TransactionBatchStatusesEnum;\n\n(function (TransactionBatchStatusesEnum) {\n  TransactionBatchStatusesEnum[\"signed\"] = \"signed\";\n  TransactionBatchStatusesEnum[\"cancelled\"] = \"cancelled\";\n  TransactionBatchStatusesEnum[\"success\"] = \"success\";\n  TransactionBatchStatusesEnum[\"sent\"] = \"sent\";\n  TransactionBatchStatusesEnum[\"fail\"] = \"fail\";\n  TransactionBatchStatusesEnum[\"timedOut\"] = \"timedOut\";\n})(TransactionBatchStatusesEnum || (TransactionBatchStatusesEnum = {}));\n\nvar LoginMethodsEnum;\n\n(function (LoginMethodsEnum) {\n  LoginMethodsEnum[\"ledger\"] = \"ledger\";\n  LoginMethodsEnum[\"walletconnect\"] = \"walletconnect\";\n  LoginMethodsEnum[\"wallet\"] = \"wallet\";\n  LoginMethodsEnum[\"extension\"] = \"extension\";\n  LoginMethodsEnum[\"extra\"] = \"extra\";\n  LoginMethodsEnum[\"none\"] = \"\";\n})(LoginMethodsEnum || (LoginMethodsEnum = {}));\n\nvar NotificationTypesEnum;\n\n(function (NotificationTypesEnum) {\n  NotificationTypesEnum[\"warning\"] = \"warning\";\n  NotificationTypesEnum[\"error\"] = \"error\";\n  NotificationTypesEnum[\"success\"] = \"success\";\n})(NotificationTypesEnum || (NotificationTypesEnum = {}));\n\nvar TypesOfSmartContractCallsEnum;\n\n(function (TypesOfSmartContractCallsEnum) {\n  TypesOfSmartContractCallsEnum[\"MultiESDTNFTTransfer\"] = \"MultiESDTNFTTransfer\";\n  TypesOfSmartContractCallsEnum[\"ESDTNFTTransfer\"] = \"ESDTNFTTransfer\";\n})(TypesOfSmartContractCallsEnum || (TypesOfSmartContractCallsEnum = {}));\n\nvar EnvironmentsEnum;\n\n(function (EnvironmentsEnum) {\n  EnvironmentsEnum[\"testnet\"] = \"testnet\";\n  EnvironmentsEnum[\"devnet\"] = \"devnet\";\n  EnvironmentsEnum[\"mainnet\"] = \"mainnet\";\n})(EnvironmentsEnum || (EnvironmentsEnum = {}));\n\nvar accountInfoSelector = function accountInfoSelector(state) {\n  return state.account;\n};\n\nvar addressSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.address;\n});\nvar accountSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.account;\n});\nvar accountBalanceSelector = createDeepEqualSelector(accountSelector, function (account) {\n  return account.balance;\n});\nvar accountNonceSelector = createDeepEqualSelector(accountSelector, function (state) {\n  var _state$nonce;\n\n  return (state === null || state === void 0 ? void 0 : (_state$nonce = state.nonce) === null || _state$nonce === void 0 ? void 0 : _state$nonce.valueOf()) || 0;\n});\nvar shardSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.shard;\n});\nvar ledgerAccountSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.ledgerAccount;\n});\nvar walletConnectAccountSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.walletConnectAccount;\n});\nvar isAccountLoadingSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.isAccountLoading;\n});\nvar isAccountLoadingErrorSelector = createDeepEqualSelector(accountInfoSelector, function (state) {\n  return state.accountLoadingError;\n});\n\nvar loginInfoSelector = function loginInfoSelector(state) {\n  return state.loginInfo;\n};\n\nvar loginMethodSelector = createDeepEqualSelector(loginInfoSelector, function (state) {\n  return state.loginMethod;\n});\nvar isLoggedInSelector = createDeepEqualSelector(loginInfoSelector, addressSelector, function (state, address) {\n  return state.loginMethod != LoginMethodsEnum.none && Boolean(address);\n});\nvar walletConnectLoginSelector = createDeepEqualSelector(loginInfoSelector, function (state) {\n  return state.walletConnectLogin;\n});\nvar ledgerLoginSelector = createDeepEqualSelector(loginInfoSelector, function (state) {\n  return state.ledgerLogin;\n});\nvar walletLoginSelector = createDeepEqualSelector(loginInfoSelector, function (state) {\n  return state.walletLogin;\n});\nvar loginExpiresAtSelector = createDeepEqualSelector(loginInfoSelector, function (state) {\n  return state.loginExpiresAt;\n});\n\nfunction getNewLoginExpiresTimestamp() {\n  return new Date().setHours(new Date().getHours() + 24);\n}\n\nfunction optionalRedirect(callbackUrl, shouldRedirect) {\n  if (shouldRedirect && callbackUrl != null) {\n    setTimeout(function () {\n      if (!window.location.pathname.includes(callbackUrl)) {\n        window.location.href = callbackUrl;\n      }\n    }, 200);\n  }\n}\n\nfunction getBridgeAddressFromNetwork(walletConnectBridgeAddresses) {\n  return walletConnectBridgeAddresses[Math.floor(Math.random() * walletConnectBridgeAddresses.length)];\n}\n\nvar initialState = {\n  loginMethod: LoginMethodsEnum.none,\n  walletConnectLogin: null,\n  ledgerLogin: null,\n  tokenLogin: null,\n  walletLogin: null,\n  extensionLogin: null,\n  loginExpiresAt: getNewLoginExpiresTimestamp()\n};\nvar loginInfoSlice = createSlice({\n  name: 'loginInfoSlice',\n  initialState: initialState,\n  reducers: {\n    setLoginMethod: function setLoginMethod(state, action) {\n      state.loginMethod = action.payload;\n    },\n    setTokenLogin: function setTokenLogin(state, action) {\n      state.tokenLogin = action.payload;\n    },\n    setTokenLoginSignature: function setTokenLoginSignature(state, action) {\n      if ((state === null || state === void 0 ? void 0 : state.tokenLogin) != null) {\n        state.tokenLogin.signature = action.payload;\n      }\n    },\n    setWalletLogin: function setWalletLogin(state, action) {\n      state.walletLogin = action.payload;\n    },\n    setWalletConnectLogin: function setWalletConnectLogin(state, action) {\n      state.walletConnectLogin = action.payload;\n    },\n    setLedgerLogin: function setLedgerLogin(state, action) {\n      state.ledgerLogin = action.payload;\n    },\n    setLoginExpiresAt: function setLoginExpiresAt(state, action) {\n      state.loginExpiresAt = action.payload;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(logoutAction, function () {\n      return initialState;\n    });\n    builder.addCase(loginAction, function (state, action) {\n      state.loginMethod = action.payload.loginMethod;\n      state.loginExpiresAt = getNewLoginExpiresTimestamp();\n    });\n  }\n});\nvar _loginInfoSlice$actio = loginInfoSlice.actions,\n    setWalletConnectLogin = _loginInfoSlice$actio.setWalletConnectLogin,\n    setLedgerLogin = _loginInfoSlice$actio.setLedgerLogin,\n    setTokenLogin = _loginInfoSlice$actio.setTokenLogin,\n    setTokenLoginSignature = _loginInfoSlice$actio.setTokenLoginSignature,\n    setWalletLogin = _loginInfoSlice$actio.setWalletLogin,\n    setLoginExpiresAt = _loginInfoSlice$actio.setLoginExpiresAt;\nvar loginInfo = loginInfoSlice.reducer;\nvar whitelistedActions = ['loginInfoSlice/setLoginExpiresAt', 'logout'];\nvar throttledSetNewToken = throttle(function (store) {\n  store.dispatch(setLoginExpiresAt(getNewLoginExpiresTimestamp()));\n}, 5000);\n\nvar loginSessionMiddleware = function loginSessionMiddleware(store) {\n  return function (next) {\n    return function (action) {\n      if (whitelistedActions.includes(action.type)) {\n        return next(action);\n      }\n\n      var appState = store.getState();\n      var loginTimestamp = loginExpiresAtSelector(appState);\n      var isLoggedIn = isLoggedInSelector(appState);\n\n      if (!isLoggedIn) {\n        return next(action);\n      }\n\n      if (loginTimestamp == null) {\n        return store.dispatch(setLoginExpiresAt(getNewLoginExpiresTimestamp()));\n      }\n\n      var now = Date.now();\n      var isExpired = loginTimestamp - now < 0;\n\n      if (isExpired) {\n        return setTimeout(function () {\n          try {\n            var provider = providerSelector(store.getState());\n            console.log('session expired');\n            store.dispatch(logoutAction());\n\n            var _temp2 = _catch(function () {\n              return Promise.resolve(provider.logout({\n                callbackUrl: '/'\n              })).then(function () {});\n            }, function (err) {\n              console.error('error logging out', err);\n            });\n\n            return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        }, 1000);\n      } else {\n        throttledSetNewToken(store);\n      }\n\n      return next(action);\n    };\n  };\n};\n\nvar emptyAccount = {\n  balance: '...',\n  address: '',\n  nonce: 0\n};\nvar initialState$1 = {\n  address: '',\n  account: emptyAccount,\n  ledgerAccount: null,\n  publicKey: '',\n  walletConnectAccount: null,\n  isAccountLoading: true,\n  accountLoadingError: null\n};\nvar accountInfoSlice = createSlice({\n  name: 'accountInfoSlice',\n  initialState: initialState$1,\n  reducers: {\n    setAddress: function setAddress(state, action) {\n      var address = action.payload;\n      state.address = address;\n      state.publicKey = new Address(address).hex();\n    },\n    setAccount: function setAccount(state, action) {\n      state.account = action.payload;\n      state.isAccountLoading = false;\n      state.accountLoadingError = null;\n    },\n    setAccountNonce: function setAccountNonce(state, action) {\n      state.account.nonce = action.payload;\n    },\n    setAccountShard: function setAccountShard(state, action) {\n      state.shard = action.payload;\n    },\n    setLedgerAccount: function setLedgerAccount(state, action) {\n      state.ledgerAccount = action.payload;\n    },\n    setWalletConnectAccount: function setWalletConnectAccount(state, action) {\n      state.walletConnectAccount = action.payload;\n    },\n    setIsAccountLoading: function setIsAccountLoading(state, action) {\n      state.isAccountLoading = action.payload;\n      state.accountLoadingError = null;\n    },\n    setAccountLoadingError: function setAccountLoadingError(state, action) {\n      state.accountLoadingError = action.payload;\n      state.isAccountLoading = false;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(logoutAction, function () {\n      return initialState$1;\n    });\n    builder.addCase(loginAction, function (state, action) {\n      var address = action.payload.address;\n      state.address = address;\n      state.publicKey = new Address(address).hex();\n    });\n    builder.addCase(REHYDRATE, function (state, action) {\n      var _action$payload;\n\n      if (!((_action$payload = action.payload) !== null && _action$payload !== void 0 && _action$payload.account)) {\n        return;\n      }\n\n      var accountInfo = action.payload.account;\n      var address = accountInfo.address,\n          shard = accountInfo.shard,\n          account = accountInfo.account,\n          publicKey = accountInfo.publicKey;\n      state.address = address;\n      state.shard = shard;\n      state.account = account;\n      state.publicKey = publicKey;\n    });\n  }\n});\nvar _accountInfoSlice$act = accountInfoSlice.actions,\n    setAccount = _accountInfoSlice$act.setAccount,\n    setAccountNonce = _accountInfoSlice$act.setAccountNonce,\n    setAccountShard = _accountInfoSlice$act.setAccountShard,\n    setLedgerAccount = _accountInfoSlice$act.setLedgerAccount,\n    setIsAccountLoading = _accountInfoSlice$act.setIsAccountLoading,\n    setAccountLoadingError = _accountInfoSlice$act.setAccountLoadingError;\nvar account = accountInfoSlice.reducer;\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar DAPP_INIT_ROUTE = '/dapp/init';\n\nvar getProviderType = function getProviderType(provider) {\n  switch (provider === null || provider === void 0 ? void 0 : provider.constructor) {\n    case WalletProvider:\n      return LoginMethodsEnum.wallet;\n\n    case WalletConnectProvider:\n      return LoginMethodsEnum.walletconnect;\n\n    case HWProvider:\n      return LoginMethodsEnum.ledger;\n\n    case ExtensionProvider:\n      return LoginMethodsEnum.extension;\n\n    case EmptyProvider:\n      return LoginMethodsEnum.none;\n\n    default:\n      return LoginMethodsEnum.extra;\n  }\n};\n\nvar newWalletProvider = function newWalletProvider(walletAddress) {\n  return new WalletProvider(\"\" + walletAddress + DAPP_INIT_ROUTE);\n};\n\nvar notInitializedError = function notInitializedError(caller) {\n  return \"Unable to perform \" + caller + \", Provider not initialized\";\n};\n\nvar EmptyProvider = /*#__PURE__*/function () {\n  function EmptyProvider() {}\n\n  var _proto = EmptyProvider.prototype;\n\n  _proto.init = function init() {\n    return Promise.resolve(false);\n  };\n\n  _proto.login = function login(options) {\n    throw new Error(notInitializedError(\"login with options: \" + options));\n  };\n\n  _proto.logout = function logout(options) {\n    try {\n      throw new Error(notInitializedError(\"logout with options: \" + options));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.getAddress = function getAddress() {\n    try {\n      throw new Error(notInitializedError('getAddress'));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.isInitialized = function isInitialized() {\n    return false;\n  };\n\n  _proto.isConnected = function isConnected() {\n    return Promise.resolve(false);\n  };\n\n  _proto.sendTransaction = function sendTransaction(transaction, options) {\n    try {\n      throw new Error(notInitializedError(\"sendTransaction with transactions: \" + transaction + \" options: \" + options));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.signTransaction = function signTransaction(transaction, options) {\n    try {\n      throw new Error(notInitializedError(\"signTransaction with transactions: \" + transaction + \" options: \" + options));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.signTransactions = function signTransactions(transactions, options) {\n    try {\n      throw new Error(notInitializedError(\"signTransactions with transactions: \" + transactions + \" options: \" + options));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  _proto.signMessage = function signMessage(message) {\n    try {\n      throw new Error(notInitializedError(\"signTransactions with \" + message));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  return EmptyProvider;\n}();\n\nvar emptyProvider = new EmptyProvider();\nvar initialState$2 = {\n  log: function log() {\n    return null;\n  },\n  getProvider: function getProvider() {\n    return emptyProvider;\n  },\n  init: function init() {\n    return null;\n  }\n};\nvar extraActionsSlice = createSlice({\n  name: 'extraActionsSlice',\n  initialState: initialState$2,\n  reducers: {\n    initializeExtraActions: function initializeExtraActions(state, action) {\n      return _extends({}, state, action.payload);\n    }\n  }\n});\nvar initializeExtraActions = extraActionsSlice.actions.initializeExtraActions;\nvar extraActions = extraActionsSlice.reducer;\nvar initialState$3 = {};\nvar modalsSlice = createSlice({\n  name: 'modalsSlice',\n  initialState: initialState$3,\n  reducers: {\n    setTxSubmittedModal: function setTxSubmittedModal(state, action) {\n      state.txSubmittedModal = action.payload;\n    },\n    setNotificationModal: function setNotificationModal(state, action) {\n      state.notificationModal = action.payload;\n    },\n    clearTxSubmittedModal: function clearTxSubmittedModal(state) {\n      state.txSubmittedModal = undefined;\n    },\n    clearNotificationModal: function clearNotificationModal(state) {\n      state.notificationModal = undefined;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(logoutAction, function () {\n      return initialState$3;\n    });\n  }\n});\nvar _modalsSlice$actions = modalsSlice.actions,\n    setTxSubmittedModal = _modalsSlice$actions.setTxSubmittedModal,\n    setNotificationModal = _modalsSlice$actions.setNotificationModal,\n    clearNotificationModal = _modalsSlice$actions.clearNotificationModal;\nvar modals = modalsSlice.reducer;\nvar defaultNetwork = {\n  id: 'not-configured',\n  name: 'NOT CONFIGURED',\n  egldLabel: '',\n  egldDenomination: '18',\n  decimals: '4',\n  gasPerDataByte: '1500',\n  walletConnectDeepLink: '',\n  walletConnectBridgeAddress: '',\n  walletAddress: '',\n  apiAddress: '',\n  explorerAddress: '',\n  apiTimeout: '4000'\n};\nvar initialState$4 = {\n  network: defaultNetwork,\n  proxy: new ProxyProvider(defaultNetwork.apiAddress, {\n    timeout: Number(defaultNetwork.apiTimeout)\n  }),\n  apiProvider: new ApiProvider(defaultNetwork.apiAddress, {\n    timeout: Number(defaultNetwork.apiTimeout)\n  }),\n  provider: emptyProvider,\n  chainID: '-1'\n};\nvar networkConfigSlice = createSlice({\n  name: 'appConfig',\n  initialState: initialState$4,\n  reducers: {\n    initializeNetworkConfig: function initializeNetworkConfig(state, action) {\n      var walletConnectBridgeAddress = getBridgeAddressFromNetwork(action.payload.walletConnectBridgeAddresses);\n      var network = omit(action.payload, 'walletConnectBridgeAddresses');\n      var apiAddress = network.apiAddress;\n\n      if (apiAddress) {\n        state.proxy = new ProxyProvider(apiAddress, {\n          timeout: Number(network.apiTimeout || defaultNetwork.apiTimeout)\n        });\n        state.apiProvider = new ApiProvider(apiAddress, {\n          timeout: Number(network.apiTimeout || defaultNetwork.apiTimeout)\n        });\n      }\n\n      state.network = _extends({}, state.network, network, {\n        walletConnectBridgeAddress: walletConnectBridgeAddress\n      });\n    },\n    setChainID: function setChainID(state, action) {\n      state.chainID = action.payload;\n    },\n    setProvider: function setProvider(state, action) {\n      state.provider = action.payload;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(logoutAction, function (state) {\n      state.provider = initialState$4.provider;\n    });\n  }\n});\nvar _networkConfigSlice$a = networkConfigSlice.actions,\n    initializeNetworkConfig = _networkConfigSlice$a.initializeNetworkConfig,\n    setChainID = _networkConfigSlice$a.setChainID,\n    setProvider = _networkConfigSlice$a.setProvider;\nvar networkConfig = networkConfigSlice.reducer;\nvar defaultTransactionErrorMessage = 'Transaction failed';\nvar defaultTransactionSuccessMessage = 'Transaction successful';\nvar defaultTransactionProcessingMessage = 'Processing transaction';\nvar defaultTransactionSubmittedMessage = 'Transaction submitted';\nvar initialState$5 = {};\nvar signTransactionsSlice = createSlice({\n  name: 'transactionsInfo',\n  initialState: initialState$5,\n  reducers: {\n    setTransactionsDisplayInfo: function setTransactionsDisplayInfo(state, action) {\n      var _action$payload = action.payload,\n          sessionId = _action$payload.sessionId,\n          transactionsDisplayInfo = _action$payload.transactionsDisplayInfo;\n\n      if (sessionId != null) {\n        state[sessionId] = {\n          errorMessage: (transactionsDisplayInfo === null || transactionsDisplayInfo === void 0 ? void 0 : transactionsDisplayInfo.errorMessage) || defaultTransactionErrorMessage,\n          successMessage: (transactionsDisplayInfo === null || transactionsDisplayInfo === void 0 ? void 0 : transactionsDisplayInfo.successMessage) || defaultTransactionSuccessMessage,\n          processingMessage: (transactionsDisplayInfo === null || transactionsDisplayInfo === void 0 ? void 0 : transactionsDisplayInfo.processingMessage) || defaultTransactionProcessingMessage,\n          submittedMessage: (transactionsDisplayInfo === null || transactionsDisplayInfo === void 0 ? void 0 : transactionsDisplayInfo.submittedMessage) || defaultTransactionSubmittedMessage,\n          transactionDuration: transactionsDisplayInfo === null || transactionsDisplayInfo === void 0 ? void 0 : transactionsDisplayInfo.transactionDuration\n        };\n      }\n    },\n    clearTransactionsInfoForSessionId: function clearTransactionsInfoForSessionId(state, action) {\n      if (action.payload != null) {\n        delete state[action.payload];\n      }\n    },\n    clearTransactionsInfo: function clearTransactionsInfo() {\n      return initialState$5;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(logoutAction, function () {\n      return initialState$5;\n    });\n  }\n});\nvar _signTransactionsSlic = signTransactionsSlice.actions,\n    setTransactionsDisplayInfo = _signTransactionsSlic.setTransactionsDisplayInfo,\n    clearTransactionsInfoForSessionId = _signTransactionsSlic.clearTransactionsInfoForSessionId;\nvar transactionsInfo = signTransactionsSlice.reducer;\nvar TransactionTypesEnum;\n\n(function (TransactionTypesEnum) {\n  TransactionTypesEnum[\"MultiESDTNFTTransfer\"] = \"MultiESDTNFTTransfer\";\n  TransactionTypesEnum[\"ESDTTransfer\"] = \"ESDTTransfer\";\n  TransactionTypesEnum[\"ESDTNFTTransfer\"] = \"ESDTNFTTransfer\";\n  TransactionTypesEnum[\"esdtTransaction\"] = \"esdtTransaction\";\n  TransactionTypesEnum[\"nftTransaction\"] = \"nftTransaction\";\n  TransactionTypesEnum[\"scCall\"] = \"scCall\";\n})(TransactionTypesEnum || (TransactionTypesEnum = {}));\n\nvar okInHex = '6f6b';\nvar ESDTTransferTypes = ['ESDTNFTTransfer', 'ESDTNFTBurn', 'ESDTNFTAddQuantity', 'ESDTNFTCreate', 'MultiESDTNFTTransfer', 'ESDTTransfer', 'ESDTBurn', 'ESDTLocalMint', 'ESDTLocalBurn', 'ESDTWipe', 'ESDTFreeze'];\n\nfunction areScCallsSuccessful(scResults, completedThreshold) {\n  if (completedThreshold === void 0) {\n    completedThreshold = 1;\n  }\n\n  if (!scResults) {\n    return true;\n  }\n\n  var numberOfOkParts = 0;\n  scResults.forEach(function (result) {\n    if (result !== null && result !== void 0 && result.data) {\n      var decoded = Buffer.from(result.data, 'base64').toString().split('@');\n      var hasOkPart = Boolean(decoded.find(function (part) {\n        return part === okInHex;\n      }));\n\n      if (hasOkPart) {\n        numberOfOkParts++;\n      }\n    }\n  });\n  return numberOfOkParts >= completedThreshold;\n}\n\nfunction isContract(receiver, sender, data) {\n  if (data === void 0) {\n    data = '';\n  }\n\n  try {\n    var _isContract = new Address(receiver).isContractAddress();\n\n    if (_isContract) {\n      return true;\n    }\n\n    var extractedAddress = getAddressFromDataField({\n      receiver: receiver,\n      data: data\n    });\n\n    if (!extractedAddress) {\n      return false;\n    }\n\n    var isExtractedAddressContractCall = new Address(extractedAddress).isContractAddress();\n    return isExtractedAddressContractCall || isSelfESDTContract(receiver, sender, data);\n  } catch (err) {\n    console.log('err', err);\n    return false;\n  }\n}\n\nvar isHexValidCharacters = function isHexValidCharacters(str) {\n  return str.toLowerCase().match(/[0-9a-f]/g);\n};\n\nvar isHexValidLength = function isHexValidLength(str) {\n  return str.length % 2 === 0;\n};\n\nfunction isSelfESDTContract(receiver, sender, data) {\n  var parts = data === null || data === void 0 ? void 0 : data.split('@');\n\n  if (parts == null) {\n    return false;\n  }\n\n  var type = parts[0],\n      restParts = parts.slice(1);\n  var isSelfTransaction = sender != null && receiver != null && receiver === sender;\n  var isCorrectESDTType = ESDTTransferTypes.includes(type);\n  var areDataPartsValid = restParts.every(function (part) {\n    return isHexValidCharacters(part) && isHexValidLength(part);\n  });\n  return isSelfTransaction && isCorrectESDTType && areDataPartsValid;\n}\n\nfunction getAddressFromDataField(_ref) {\n  var receiver = _ref.receiver,\n      data = _ref.data;\n\n  try {\n    if (!data) {\n      return receiver;\n    }\n\n    var parsedData = TransactionPayload.fromEncoded(data).toString();\n    var addressIndex = getAddressIndex(parsedData);\n    var parts = parsedData.split('@');\n    return addressIndex > -1 ? parts[addressIndex] : receiver;\n  } catch (err) {\n    console.log(err);\n    return;\n  }\n}\n\nfunction getAddressIndex(data) {\n  return data.includes(TypesOfSmartContractCallsEnum.MultiESDTNFTTransfer) ? 1 : data.includes(TypesOfSmartContractCallsEnum.ESDTNFTTransfer) ? 4 : -1;\n}\n\nvar pendingBatchTransactionsStates = [TransactionBatchStatusesEnum.sent];\nvar successBatchTransactionsStates = [TransactionBatchStatusesEnum.success];\nvar failBatchTransactionsStates = [TransactionBatchStatusesEnum.fail, TransactionBatchStatusesEnum.cancelled, TransactionBatchStatusesEnum.timedOut];\nvar timedOutBatchTransactionsStates = [TransactionBatchStatusesEnum.timedOut];\nvar pendingServerTransactionsStatuses = [TransactionServerStatusesEnum.pending];\nvar successServerTransactionsStates = [TransactionServerStatusesEnum.success];\nvar completedServerTransactionsStates = [TransactionServerStatusesEnum.completed];\nvar failServerTransactionsStates = [TransactionServerStatusesEnum.fail, TransactionServerStatusesEnum.invalid];\n\nfunction getIsTransactionCompleted(status) {\n  return completedServerTransactionsStates.includes(status);\n}\n\nfunction getIsTransactionPending(status, isScCall) {\n  if (isScCall === void 0) {\n    isScCall = false;\n  }\n\n  var isPending = status != null && (isBatchTransactionPending(status) || isServerTransactionPending(status));\n  return isScCall ? isPending || getIsTransactionSuccessful(status) && !getIsTransactionCompleted(status) : isPending;\n}\n\nfunction getIsTransactionSuccessful(status) {\n  return status != null && (isBatchTransactionSuccessful(status) || isServerTransactionSuccessful(status));\n}\n\nfunction getIsTransactionFailed(status) {\n  return status != null && (isBatchTransactionFailed(status) || isServerTransactionFailed(status));\n}\n\nfunction getIsTransactionTimedOut(status) {\n  return status != null && isBatchTransactionTimedOut(status);\n}\n\nfunction isBatchTransactionPending(status) {\n  return status != null && pendingBatchTransactionsStates.includes(status);\n}\n\nfunction isBatchTransactionSuccessful(status) {\n  return status != null && successBatchTransactionsStates.includes(status);\n}\n\nfunction isBatchTransactionFailed(status) {\n  return status != null && failBatchTransactionsStates.includes(status);\n}\n\nfunction isBatchTransactionTimedOut(status) {\n  return status != null && timedOutBatchTransactionsStates.includes(status);\n}\n\nfunction isServerTransactionPending(status) {\n  return status != null && pendingServerTransactionsStatuses.includes(status);\n}\n\nfunction isServerTransactionSuccessful(status) {\n  return status != null && successServerTransactionsStates.includes(status);\n}\n\nfunction isServerTransactionFailed(status) {\n  return status != null && failServerTransactionsStates.includes(status);\n}\n\nvar isUtf8 = function isUtf8(str) {\n  for (var i = 0; i < str.length; i++) {\n    if (str.charCodeAt(i) > 127) return false;\n  }\n\n  return true;\n};\n\nfunction decodePart(part) {\n  var decodedPart = part;\n\n  try {\n    var hexPart = Buffer.from(part, 'hex').toString().trim();\n\n    if (isUtf8(hexPart) && hexPart.length > 1) {\n      decodedPart = hexPart;\n    }\n  } catch (error) {}\n\n  return decodedPart;\n}\n\nvar getAllStringOccurrences = function getAllStringOccurrences(sourceStr, searchStr) {\n  return [].concat(sourceStr.matchAll(new RegExp(searchStr, 'gi'))).map(function (a) {\n    return a.index;\n  });\n};\n\nfunction parseMultiEsdtTransferData(data) {\n  var transactions = [];\n  var contractCallDataIndex = 0;\n\n  try {\n    if (data !== null && data !== void 0 && data.startsWith(TransactionTypesEnum.MultiESDTNFTTransfer) && data !== null && data !== void 0 && data.includes('@')) {\n      var _data$split = data === null || data === void 0 ? void 0 : data.split('@'),\n          receiver = _data$split[1],\n          encodedTxCount = _data$split[2],\n          rest = _data$split.slice(3);\n\n      if (receiver) {\n        var txCount = new BigNumber(encodedTxCount, 16).toNumber();\n        var itemIndex = 0;\n\n        for (var txIndex = 0; txIndex < txCount; txIndex++) {\n          var transaction = {\n            type: TransactionTypesEnum.nftTransaction,\n            data: '',\n            receiver: receiver\n          };\n\n          for (var index = 0; index < 3; index++) {\n            switch (index) {\n              case 0:\n                transaction.token = decodePart(rest[itemIndex]);\n                transaction.data = rest[itemIndex];\n                break;\n\n              case 1:\n                {\n                  var encodedNonce = rest[itemIndex] && rest[itemIndex].length ? rest[itemIndex] : '';\n\n                  if (encodedNonce) {\n                    transaction.nonce = encodedNonce;\n                  } else {\n                    transaction.type = TransactionTypesEnum.esdtTransaction;\n                  }\n\n                  transaction.data = transaction.data + \"@\" + rest[itemIndex];\n                  break;\n                }\n\n              case 2:\n                transaction.amount = new BigNumber(rest[itemIndex], 16).toString(10);\n                transaction.data = transaction.data + \"@\" + rest[itemIndex];\n                break;\n\n              default:\n                break;\n            }\n\n            contractCallDataIndex = itemIndex + 1;\n            itemIndex++;\n          }\n\n          transactions[txIndex] = transaction;\n        }\n\n        if (transactions.length !== txCount || transactions.some(function (tx) {\n          return getAllStringOccurrences(tx.data, '@').length !== 2;\n        }) || transactions.some(function (tx) {\n          return tx.data.startsWith('@');\n        })) {\n          return [];\n        }\n\n        if (rest[contractCallDataIndex]) {\n          var scCallData = rest[contractCallDataIndex];\n\n          for (var i = contractCallDataIndex + 1; i < rest.length; i++) {\n            scCallData += '@' + rest[i];\n          }\n\n          transactions[txCount] = {\n            type: TransactionTypesEnum.scCall,\n            data: scCallData,\n            receiver: receiver\n          };\n        }\n      }\n    }\n  } catch (err) {\n    return transactions;\n  }\n\n  return transactions;\n}\n\nvar noData = {\n  tokenId: '',\n  amount: ''\n};\n\nfunction getTokenFromData(data) {\n  var tokenTransfer = data === null || data === void 0 ? void 0 : data.includes(TransactionTypesEnum.ESDTTransfer);\n  var nftTransfer = data === null || data === void 0 ? void 0 : data.includes(TransactionTypesEnum.ESDTNFTTransfer);\n\n  if (data != null && (tokenTransfer || nftTransfer)) {\n    try {\n      var encodedToken = data.split('@')[1];\n      var encodedAmount = data.split('@')[tokenTransfer ? 2 : 3];\n      var tokenId = Buffer.from(encodedToken, 'hex').toString('ascii');\n\n      if (tokenId) {\n        var amount = new BigNumber('0x' + encodedAmount.replace('0x', '')).toString(10);\n        return {\n          tokenId: tokenId,\n          amount: amount\n        };\n      } else {\n        return noData;\n      }\n    } catch (e) {\n      return noData;\n    }\n  }\n\n  return noData;\n}\n\nfunction isTokenTransfer(_ref) {\n  var tokenId = _ref.tokenId,\n      erdLabel = _ref.erdLabel;\n  return Boolean(tokenId && tokenId !== erdLabel);\n}\n\nfunction buildUrlParams(search, urlParams) {\n  var urlSearchParams = new URLSearchParams(search);\n  var params = Object.fromEntries(urlSearchParams);\n  var nextUrlParams = new URLSearchParams(_extends({}, params, urlParams)).toString();\n  return {\n    nextUrlParams: nextUrlParams,\n    params: params\n  };\n}\n\nfunction builtCallbackUrl(_ref) {\n  var callbackUrl = _ref.callbackUrl,\n      _ref$urlParams = _ref.urlParams,\n      urlParams = _ref$urlParams === void 0 ? {} : _ref$urlParams;\n  var url = callbackUrl;\n\n  if (Object.entries(urlParams).length > 0) {\n    var _URL = new URL(callbackUrl),\n        search = _URL.search,\n        origin = _URL.origin,\n        pathname = _URL.pathname;\n\n    var _buildUrlParams = buildUrlParams(search, urlParams),\n        nextUrlParams = _buildUrlParams.nextUrlParams;\n\n    url = \"\" + origin + pathname + \"?\" + nextUrlParams;\n  }\n\n  return url;\n}\n\nfunction parseTransactionAfterSigning(transaction, isLedger) {\n  if (isLedger === void 0) {\n    isLedger = false;\n  }\n\n  if (isLedger) {\n    transaction.version = TransactionVersion.withTxHashSignVersion();\n    transaction.options = TransactionOptions.withTxHashSignOptions();\n  }\n\n  var parsedTransaction = transaction.toPlainObject();\n  parsedTransaction.hash = transaction.getHash().toString();\n  parsedTransaction.status = TransactionServerStatusesEnum.pending;\n  return parsedTransaction;\n}\n\nvar initialState$6 = {\n  signedTransactions: {},\n  transactionsToSign: null,\n  signTransactionsError: null,\n  customTransactionInformationForSessionId: {}\n};\nvar defaultCustomInformation = {\n  signWithoutSending: false,\n  sessionInformation: null,\n  redirectAfterSign: false,\n  completedThreshold: 1\n};\nvar transactionsSlice = createSlice({\n  name: 'transactionsSlice',\n  initialState: initialState$6,\n  reducers: {\n    moveTransactionsToSignedState: function moveTransactionsToSignedState(state, action) {\n      var _state$customTransact, _state$transactionsTo;\n\n      var _action$payload = action.payload,\n          sessionId = _action$payload.sessionId,\n          transactions = _action$payload.transactions,\n          errorMessage = _action$payload.errorMessage,\n          status = _action$payload.status;\n      var customTransactionInformation = ((_state$customTransact = state.customTransactionInformationForSessionId) === null || _state$customTransact === void 0 ? void 0 : _state$customTransact[sessionId]) || defaultCustomInformation;\n      state.signedTransactions[sessionId] = {\n        transactions: transactions,\n        status: status,\n        errorMessage: errorMessage,\n        customTransactionInformation: customTransactionInformation\n      };\n\n      if ((state === null || state === void 0 ? void 0 : (_state$transactionsTo = state.transactionsToSign) === null || _state$transactionsTo === void 0 ? void 0 : _state$transactionsTo.sessionId) === sessionId) {\n        state.transactionsToSign = initialState$6.transactionsToSign;\n      }\n    },\n    clearSignedTransaction: function clearSignedTransaction(state, action) {\n      if (state.signedTransactions[action.payload]) {\n        delete state.signedTransactions[action.payload];\n      }\n    },\n    clearTransactionToSign: function clearTransactionToSign(state, action) {\n      var _state$transactionsTo2;\n\n      if (state !== null && state !== void 0 && (_state$transactionsTo2 = state.transactionsToSign) !== null && _state$transactionsTo2 !== void 0 && _state$transactionsTo2[action.payload]) {\n        delete state.transactionsToSign[action.payload];\n      }\n    },\n    updateSignedTransaction: function updateSignedTransaction(state, action) {\n      state.signedTransactions = _extends({}, state.signedTransactions, action.payload);\n    },\n    updateSignedTransactions: function updateSignedTransactions(state, action) {\n      var _action$payload2 = action.payload,\n          sessionId = _action$payload2.sessionId,\n          status = _action$payload2.status,\n          errorMessage = _action$payload2.errorMessage,\n          transactions = _action$payload2.transactions;\n      var transaction = state.signedTransactions[sessionId];\n\n      if (transaction != null) {\n        state.signedTransactions[sessionId].status = status;\n\n        if (errorMessage != null) {\n          state.signedTransactions[sessionId].errorMessage = errorMessage;\n        }\n\n        if (transactions != null) {\n          state.signedTransactions[sessionId].transactions = transactions;\n        }\n      }\n    },\n    updateSignedTransactionStatus: function updateSignedTransactionStatus(state, action) {\n      var _state$signedTransact, _state$signedTransact2;\n\n      var _action$payload3 = action.payload,\n          sessionId = _action$payload3.sessionId,\n          status = _action$payload3.status,\n          errorMessage = _action$payload3.errorMessage,\n          transactionHash = _action$payload3.transactionHash;\n      var transactions = (_state$signedTransact = state.signedTransactions) === null || _state$signedTransact === void 0 ? void 0 : (_state$signedTransact2 = _state$signedTransact[sessionId]) === null || _state$signedTransact2 === void 0 ? void 0 : _state$signedTransact2.transactions;\n\n      if (transactions != null) {\n        var _state$signedTransact3, _state$signedTransact4, _state$signedTransact5, _state$signedTransact6;\n\n        state.signedTransactions[sessionId].transactions = transactions.map(function (transaction) {\n          if (transaction.hash === transactionHash) {\n            return _extends({}, transaction, {\n              status: status,\n              errorMessage: errorMessage\n            });\n          }\n\n          return transaction;\n        });\n        var areTransactionsSuccessful = (_state$signedTransact3 = state.signedTransactions[sessionId]) === null || _state$signedTransact3 === void 0 ? void 0 : (_state$signedTransact4 = _state$signedTransact3.transactions) === null || _state$signedTransact4 === void 0 ? void 0 : _state$signedTransact4.every(function (transaction) {\n          var isScCall = isContract(transaction.receiver, transaction.sender, transaction.data);\n          return isScCall ? getIsTransactionCompleted(transaction.status) : getIsTransactionSuccessful(transaction.status);\n        });\n        var areTransactionsFailed = (_state$signedTransact5 = state.signedTransactions[sessionId]) === null || _state$signedTransact5 === void 0 ? void 0 : (_state$signedTransact6 = _state$signedTransact5.transactions) === null || _state$signedTransact6 === void 0 ? void 0 : _state$signedTransact6.every(function (transaction) {\n          return getIsTransactionFailed(transaction.status);\n        });\n\n        if (areTransactionsSuccessful) {\n          state.signedTransactions[sessionId].status = TransactionBatchStatusesEnum.success;\n        }\n\n        if (areTransactionsFailed) {\n          state.signedTransactions[sessionId].status = TransactionBatchStatusesEnum.fail;\n        }\n      }\n    },\n    setTransactionsToSign: function setTransactionsToSign(state, action) {\n      state.transactionsToSign = action.payload;\n      var _action$payload4 = action.payload,\n          sessionId = _action$payload4.sessionId,\n          customTransactionInformation = _action$payload4.customTransactionInformation;\n      state.customTransactionInformationForSessionId[sessionId] = customTransactionInformation;\n      state.signTransactionsError = null;\n    },\n    clearAllTransactionsToSign: function clearAllTransactionsToSign(state) {\n      state.transactionsToSign = initialState$6.transactionsToSign;\n      state.signTransactionsError = null;\n    },\n    clearAllSignedTransactions: function clearAllSignedTransactions(state) {\n      state.signedTransactions = initialState$6.signedTransactions;\n    },\n    setSignTransactionsError: function setSignTransactionsError(state, action) {\n      state.signTransactionsError = action.payload;\n    }\n  },\n  extraReducers: function extraReducers(builder) {\n    builder.addCase(logoutAction, function () {\n      return initialState$6;\n    });\n    builder.addCase(REHYDRATE, function (state, action) {\n      var _action$payload5;\n\n      if (!((_action$payload5 = action.payload) !== null && _action$payload5 !== void 0 && _action$payload5.transactions)) {\n        return;\n      }\n\n      var _action$payload$trans = action.payload.transactions,\n          signedTransactions = _action$payload$trans.signedTransactions,\n          customTransactionInformationForSessionId = _action$payload$trans.customTransactionInformationForSessionId;\n      var parsedSignedTransactions = Object.entries(signedTransactions).reduce(function (acc, _ref) {\n        var sessionId = _ref[0],\n            transaction = _ref[1];\n        var txTimestamp = new Date(sessionId);\n        var expiration = new Date();\n        expiration.setHours(expiration.getHours() + 5);\n        var isExpired = expiration - txTimestamp > 0;\n\n        if (!isExpired) {\n          acc[sessionId] = transaction;\n        }\n\n        return acc;\n      }, {});\n\n      if (customTransactionInformationForSessionId != null) {\n        state.customTransactionInformationForSessionId = customTransactionInformationForSessionId;\n      }\n\n      if (signedTransactions != null) {\n        state.signedTransactions = parsedSignedTransactions;\n      }\n    });\n  }\n});\nvar _transactionsSlice$ac = transactionsSlice.actions,\n    updateSignedTransactionStatus = _transactionsSlice$ac.updateSignedTransactionStatus,\n    updateSignedTransactions = _transactionsSlice$ac.updateSignedTransactions,\n    setTransactionsToSign = _transactionsSlice$ac.setTransactionsToSign,\n    clearAllTransactionsToSign = _transactionsSlice$ac.clearAllTransactionsToSign,\n    clearAllSignedTransactions = _transactionsSlice$ac.clearAllSignedTransactions,\n    clearSignedTransaction = _transactionsSlice$ac.clearSignedTransaction,\n    setSignTransactionsError = _transactionsSlice$ac.setSignTransactionsError,\n    moveTransactionsToSignedState = _transactionsSlice$ac.moveTransactionsToSignedState;\nvar transactions = transactionsSlice.reducer;\n\nvar _window;\n\nvar reducers = {\n  account: account,\n  networkConfig: networkConfig,\n  extraActions: extraActions,\n  loginInfo: loginInfo,\n  modals: modals,\n  transactions: transactions,\n  transactionsInfo: transactionsInfo\n};\n\nif (((_window = window) === null || _window === void 0 ? void 0 : _window.localStorage) != null) {\n  var sessionStorage$1 = require('redux-persist/lib/storage/session')[\"default\"];\n\n  var transactionsInfoPersistConfig = {\n    key: 'dapp-core-transactionsInfo',\n    version: 1,\n    storage: sessionStorage$1\n  };\n  var transactionsReducer = {\n    key: 'dapp-core-transactions',\n    version: 1,\n    storage: sessionStorage$1,\n    blacklist: ['transactionsToSign']\n  };\n  reducers.transactions = persistReducer(transactionsReducer, transactions);\n  reducers.transactionsInfo = persistReducer(transactionsInfoPersistConfig, transactionsInfo);\n}\n\nvar rootReducer = combineReducers(reducers);\n\nvar _window$1;\n\nvar localStorageReducers = rootReducer;\n\nif (((_window$1 = window) === null || _window$1 === void 0 ? void 0 : _window$1.localStorage) != null) {\n  var storage = require('redux-persist/lib/storage')[\"default\"];\n\n  var persistConfig = {\n    key: 'dapp-core-store',\n    version: 1,\n    storage: storage,\n    whitelist: ['account', 'loginInfo', 'toasts', 'modals']\n  };\n  localStorageReducers = persistReducer(persistConfig, rootReducer);\n}\n\nvar store = configureStore({\n  reducer: localStorageReducers,\n  middleware: function middleware(getDefaultMiddleware) {\n    return getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER, 'appConfig/setProvider', 'accountInfoSlice/setAccount', 'accountInfoSlice/setAccountNonce', 'extraActionsSlice/initializeExtraActions'],\n        ignoredPaths: ['networkConfig.proxy', 'networkConfig.apiProvider', 'networkConfig.provider', 'payload.nonce', 'account.account.nonce', 'extraActions.log', 'payload.log', 'payload.onLogin', 'extraActions.getProvider', 'extraActions.init']\n      }\n    }).concat(loginSessionMiddleware);\n  }\n});\nvar persistor = persistStore(store);\n\nvar extraActionsSelector = function extraActionsSelector(state) {\n  return state.extraActions;\n};\n\nvar extraActionsInit = createSelector(extraActionsSelector, function (state) {\n  return state.init;\n});\n\nfunction newTransaction(rawTransaction) {\n  var data = rawTransaction.data;\n  var parsedData = data ? atob(data) : '';\n  return new Transaction(_extends({\n    value: Balance.fromString(rawTransaction.value),\n    data: new TransactionPayload(parsedData),\n    nonce: new Nonce(rawTransaction.nonce),\n    receiver: new Address(rawTransaction.receiver),\n    gasLimit: new GasLimit(rawTransaction.gasLimit),\n    gasPrice: new GasPrice(rawTransaction.gasPrice),\n    chainID: new ChainID(rawTransaction.chainID)\n  }, rawTransaction.version ? {\n    version: new TransactionVersion(rawTransaction.version)\n  } : {}, rawTransaction.options ? {\n    options: new TransactionOptions$1(rawTransaction.options)\n  } : {}));\n}\n\nvar transactionsSelectors = function transactionsSelectors(state) {\n  return state.transactions;\n};\n\nvar signedTransactionsSelector = createDeepEqualSelector(transactionsSelectors, function (state) {\n  return state.signedTransactions;\n});\nvar signTransactionsErrorSelector = createDeepEqualSelector(transactionsSelectors, function (state) {\n  return state.signTransactionsError;\n});\nvar pendingSignedTransactionsSelector = createDeepEqualSelector(signedTransactionsSelector, function (signedTransactions) {\n  return Object.entries(signedTransactions).reduce(function (acc, _ref) {\n    var sessionId = _ref[0],\n        txBody = _ref[1];\n\n    if (getIsTransactionPending(txBody.status)) {\n      acc[sessionId] = txBody;\n    }\n\n    return acc;\n  }, {});\n});\nvar successfulTransactionsSelector = createDeepEqualSelector(signedTransactionsSelector, function (signedTransactions) {\n  return Object.entries(signedTransactions).reduce(function (acc, _ref2) {\n    var sessionId = _ref2[0],\n        txBody = _ref2[1];\n\n    if (getIsTransactionSuccessful(txBody.status)) {\n      acc[sessionId] = txBody;\n    }\n\n    return acc;\n  }, {});\n});\nvar completedTransactionsSelector = createDeepEqualSelector(signedTransactionsSelector, function (signedTransactions) {\n  return Object.entries(signedTransactions).reduce(function (acc, _ref3) {\n    var sessionId = _ref3[0],\n        txBody = _ref3[1];\n\n    if (getIsTransactionCompleted(txBody.status)) {\n      acc[sessionId] = txBody;\n    }\n\n    return acc;\n  }, {});\n});\nvar failedTransactionsSelector = createDeepEqualSelector(signedTransactionsSelector, function (signedTransactions) {\n  return Object.entries(signedTransactions).reduce(function (acc, _ref4) {\n    var sessionId = _ref4[0],\n        txBody = _ref4[1];\n\n    if (getIsTransactionFailed(txBody.status)) {\n      acc[sessionId] = txBody;\n    }\n\n    return acc;\n  }, {});\n});\nvar timedOutTransactionsSelector = createDeepEqualSelector(signedTransactionsSelector, function (signedTransactions) {\n  return Object.entries(signedTransactions).reduce(function (acc, _ref5) {\n    var sessionId = _ref5[0],\n        txBody = _ref5[1];\n\n    if (getIsTransactionTimedOut(txBody.status)) {\n      acc[sessionId] = txBody;\n    }\n\n    return acc;\n  }, {});\n});\nvar transactionsToSignSelector = createDeepEqualSelector(transactionsSelectors, function (state) {\n  var _state$transactionsTo;\n\n  if ((state === null || state === void 0 ? void 0 : state.transactionsToSign) == null) {\n    return null;\n  }\n\n  return _extends({}, state.transactionsToSign, {\n    transactions: (state === null || state === void 0 ? void 0 : (_state$transactionsTo = state.transactionsToSign) === null || _state$transactionsTo === void 0 ? void 0 : _state$transactionsTo.transactions.map(function (tx) {\n      return newTransaction(tx);\n    })) || []\n  });\n});\nvar transactionStatusSelector = createDeepEqualSelector(signedTransactionsSelector, function (_, transactionSessionId) {\n  return transactionSessionId;\n}, function (signedTransactions, transactionSessionId) {\n  return transactionSessionId != null ? (signedTransactions === null || signedTransactions === void 0 ? void 0 : signedTransactions[transactionSessionId]) || {} : {};\n});\nvar defaultTransactionInfo = {\n  errorMessage: defaultTransactionErrorMessage,\n  successMessage: defaultTransactionSuccessMessage,\n  processingMessage: defaultTransactionProcessingMessage\n};\n\nvar transactionsInfoSelectors = function transactionsInfoSelectors(state) {\n  return state.transactionsInfo;\n};\n\nvar transactionDisplayInfoSelector = createDeepEqualSelector(transactionsInfoSelectors, function (_, transactionSessionId) {\n  return transactionSessionId;\n}, function (transactionsDisplayInfo, transactionSessionId) {\n  return transactionSessionId != null ? (transactionsDisplayInfo === null || transactionsDisplayInfo === void 0 ? void 0 : transactionsDisplayInfo[Number(transactionSessionId)]) || defaultTransactionInfo : defaultTransactionInfo;\n});\n\nvar modalsSliceSelector = function modalsSliceSelector(state) {\n  return state.modals;\n};\n\nvar txSubmittedModalSelector = createDeepEqualSelector(modalsSliceSelector, function (state) {\n  return state.txSubmittedModal;\n});\nvar notificationModalSelector = createDeepEqualSelector(modalsSliceSelector, function (state) {\n  return state.notificationModal;\n});\n\nfunction getIsLoggedIn() {\n  return isLoggedInSelector(store.getState());\n}\n\nvar logout = function logout(callbackUrl, onRedirect) {\n  try {\n    var provider = providerSelector(store.getState());\n    var providerType = getProviderType(provider);\n    var isLoggedIn = getIsLoggedIn();\n\n    if (!isLoggedIn) {\n      return Promise.resolve();\n    }\n\n    store.dispatch(logoutAction());\n\n    var _temp2 = _catch(function () {\n      return Promise.resolve(provider.logout({\n        callbackUrl: callbackUrl\n      })).then(function () {\n        if (callbackUrl && providerType !== LoginMethodsEnum.wallet) {\n          if (typeof onRedirect === 'function') {\n            onRedirect(callbackUrl);\n          } else {\n            window.location.href = callbackUrl;\n          }\n        }\n      });\n    }, function (err) {\n      console.error('error logging out', err);\n    });\n\n    return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction buildUrlParams$1(search, urlParams) {\n  var urlSearchParams = new URLSearchParams(search);\n  var params = Object.fromEntries(urlSearchParams);\n  var nextUrlParams = new URLSearchParams(_extends({}, params, urlParams)).toString();\n  return {\n    nextUrlParams: nextUrlParams,\n    params: params\n  };\n}\n\nvar _excluded = [\"default\"];\n\nfunction switchTrue(object) {\n  var defaultValue = object[\"default\"],\n      rest = _objectWithoutPropertiesLoose(object, _excluded);\n\n  var obj = _extends({\n    \"default\": defaultValue\n  }, rest);\n\n  var result = Object.keys(obj).reduce(function (acc, cur) {\n    var _extends2;\n\n    return _extends({}, acc, (_extends2 = {}, _extends2[cur === 'default' ? 'true' : cur] = obj[cur], _extends2));\n  }, {});\n  return result['true'];\n}\n\nfunction canTransformToPublicKey(address) {\n  try {\n    var checkAddress = new Address(address);\n    return Boolean(checkAddress.bech32());\n  } catch (_unused) {\n    return false;\n  }\n}\n\nfunction addressIsValid(destinationAddress) {\n  var isValidBach = (destinationAddress === null || destinationAddress === void 0 ? void 0 : destinationAddress.startsWith('erd')) && destinationAddress.length === 62 && /^\\w+$/.test(destinationAddress);\n  return isValidBach && canTransformToPublicKey(destinationAddress);\n}\n\nfunction getNetworkProxy() {\n  return proxySelector(store.getState());\n}\n\nfunction getApiProvider() {\n  return apiProviderSelector(store.getState());\n}\n\nfunction getAccountProvider() {\n  return providerSelector(store.getState());\n}\n\nfunction getAccountProviderType() {\n  var provider = getAccountProvider();\n  return getProviderType(provider);\n}\n\nfunction getChainID() {\n  return chainIDSelector(store.getState());\n}\n\nfunction getNetworkConfig() {\n  return networkSelector(store.getState());\n}\n\nfunction getEgldLabel() {\n  return egldLabelSelector(store.getState());\n}\n\nfunction getIsProviderEqualTo(comparedProviderType) {\n  var providerType = getAccountProviderType();\n  return providerType === comparedProviderType;\n}\n\nfunction getAddress() {\n  var search = window.location.search;\n  var appState = store.getState();\n  var provider = providerSelector(appState);\n  var address = addressSelector(appState);\n  var loggedIn = isLoggedInSelector(appState);\n  var walletLogin = walletLoginSelector(appState);\n\n  if (getIsProviderEqualTo(LoginMethodsEnum.ledger) && loggedIn) {\n    return new Promise(function (resolve) {\n      resolve(address);\n    });\n  }\n\n  return !getIsProviderEqualTo(LoginMethodsEnum.none) && !getIsProviderEqualTo(LoginMethodsEnum.wallet) && !getIsProviderEqualTo(LoginMethodsEnum.extra) ? provider.getAddress() : new Promise(function (resolve) {\n    if (walletLogin != null) {\n      var urlSearchParams = new URLSearchParams(search);\n      var params = Object.fromEntries(urlSearchParams);\n\n      if (addressIsValid(params.address)) {\n        resolve(params.address);\n      }\n    }\n\n    if (loggedIn) {\n      resolve(address);\n    }\n\n    resolve('');\n  });\n}\n\nfunction getAccount(address) {\n  var proxy = proxySelector(store.getState());\n  return proxy.getAccount(new Address(address));\n}\n\nfunction setNonce(nonce) {\n  store.dispatch(setAccountNonce(nonce));\n}\n\nfunction getLatestNonce(account) {\n  var appState = store.getState();\n  var currentAccountNonce = accountNonceSelector(appState);\n  return currentAccountNonce && !isNaN(currentAccountNonce) ? Math.max(currentAccountNonce, account.nonce.valueOf()) : account.nonce.valueOf();\n}\n\nvar getAccountBalance = function getAccountBalance(address) {\n  try {\n    var accountAddress = address;\n\n    if (accountAddress == null) {\n      var account = accountSelector(store.getState());\n      accountAddress = account.address;\n    }\n\n    return Promise.resolve(getAccount(accountAddress)).then(function (account) {\n      return account.balance.toString();\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar refreshAccount = function refreshAccount() {\n  try {\n    var _exit4 = false;\n    var provider = providerSelector(store.getState());\n\n    var _temp4 = function () {\n      if (provider.isInitialized()) {\n        var _setNewAccount3 = setNewAccount();\n\n        _exit4 = true;\n        return _setNewAccount3;\n      } else {\n        return _catch(function () {\n          return Promise.resolve(provider.init()).then(function (initialized) {\n            if (!initialized) {\n              _exit4 = true;\n              return;\n            }\n\n            var _setNewAccount2 = setNewAccount();\n\n            _exit4 = true;\n            return _setNewAccount2;\n          });\n        }, function (e) {\n          console.error('Failed initializing provider ', e);\n        });\n      }\n    }();\n\n    return Promise.resolve(_temp4 && _temp4.then ? _temp4.then(function (_result4) {\n      return _exit4 ? _result4 : undefined;\n    }) : _exit4 ? _temp4 : undefined);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar setNewAccount = function setNewAccount() {\n  try {\n    var _exit2 = false;\n\n    var _temp2 = _catch(function () {\n      return Promise.resolve(getAddress()).then(function (address) {\n        return _catch(function () {\n          return Promise.resolve(getAccount(address)).then(function (account) {\n            var accountData = {\n              balance: account.balance.toString(),\n              address: address,\n              nonce: getLatestNonce(account)\n            };\n            store.dispatch(setAccount(accountData));\n            _exit2 = true;\n            return accountData;\n          });\n        }, function (e) {\n          console.error('Failed getting account ', e);\n        });\n      });\n    }, function (e) {\n      console.error('Failed getting address ', e);\n    });\n\n    return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function (_result) {\n      return _exit2 ? _result : null;\n    }) : _exit2 ? _temp2 : null);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar isAddressOfMetachain = function isAddressOfMetachain(pubKey) {\n  var metachainPrefix = Buffer.from([0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n  var pubKeyPrefix = pubKey.slice(0, metachainPrefix.length);\n\n  if (pubKeyPrefix.equals(metachainPrefix)) {\n    return true;\n  }\n\n  var zeroAddress = Buffer.alloc(32).fill(0);\n  return pubKey.equals(zeroAddress);\n};\n\nvar getShardOfAddress = function getShardOfAddress(hexPubKey) {\n  try {\n    var numShards = 3;\n    var maskHigh = parseInt('11', 2);\n    var maskLow = parseInt('01', 2);\n    var pubKey = Buffer.from(hexPubKey, 'hex');\n    var lastByteOfPubKey = pubKey[31];\n\n    if (isAddressOfMetachain(pubKey)) {\n      return 4294967295;\n    }\n\n    var shard = lastByteOfPubKey & maskHigh;\n\n    if (shard > numShards - 1) {\n      shard = lastByteOfPubKey & maskLow;\n    }\n\n    return shard;\n  } catch (err) {\n    return -1;\n  }\n};\n\nvar logarithmicRest = function logarithmicRest(position) {\n  var minp = 0;\n  var maxp = 10;\n  var minv = Math.log(0.005);\n  var maxv = Math.log(2);\n  var scale = (maxv - minv) / (maxp - minp);\n  return Math.exp(minv + scale * (position - minp));\n};\n\nvar ERROR_SIGNING = 'error when signing';\nvar TRANSACTION_CANCELLED = 'Transaction cancelled';\nvar ERROR_SIGNING_TX = 'error signing transaction';\nvar PROVIDER_NOT_INTIALIZED = 'provider not intialized';\nvar MISSING_PROVIDER_MESSAGE = 'You need a signer/valid signer to send a transaction,use either WalletProvider, LedgerProvider or WalletConnect';\nvar DEFAULT_MIN_GAS_LIMIT = 50000;\nvar configEndpoint = {\n  mainnet: 'https://api.elrond.com/dapp/config',\n  testnet: 'https://testnet-api.elrond.com/dapp/config',\n  devnet: 'https://devnet-api.elrond.com/dapp/config'\n};\nvar fallbackNetworkConfigurations = {\n  devnet: {\n    id: 'devnet',\n    name: 'Devnet',\n    egldLabel: 'xEGLD',\n    egldDenomination: '18',\n    decimals: '4',\n    gasPerDataByte: '1500',\n    walletConnectDeepLink: 'https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/',\n    walletConnectBridgeAddresses: ['https://bridge.walletconnect.org'],\n    walletAddress: 'https://devnet-wallet.elrond.com',\n    apiAddress: 'https://devnet-api.elrond.com',\n    explorerAddress: 'http://devnet-explorer.elrond.com',\n    apiTimeout: '4000'\n  },\n  testnet: {\n    id: 'testnet',\n    name: 'Testnet',\n    egldLabel: 'xEGLD',\n    egldDenomination: '18',\n    decimals: '4',\n    gasPerDataByte: '1500',\n    walletConnectDeepLink: 'https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/',\n    walletConnectBridgeAddresses: ['https://bridge.walletconnect.org'],\n    walletAddress: 'https://testnet-wallet.elrond.com',\n    apiAddress: 'https://testnet-api.elrond.com',\n    explorerAddress: 'http://testnet-explorer.elrond.com',\n    apiTimeout: '4000'\n  },\n  mainnet: {\n    id: 'mainnet',\n    name: 'Mainnet',\n    egldLabel: 'xEGLD',\n    egldDenomination: '18',\n    decimals: '4',\n    gasPerDataByte: '1500',\n    walletConnectDeepLink: 'https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/',\n    walletConnectBridgeAddresses: ['https://bridge.walletconnect.org'],\n    walletAddress: 'https://wallet.elrond.com',\n    apiAddress: 'https://api.elrond.com',\n    explorerAddress: 'https://explorer.elrond.com',\n    apiTimeout: '4000'\n  }\n};\nvar ledgerErrorCodes = {\n  0x9000: {\n    code: 'codeSuccess',\n    message: 'Success'\n  },\n  0x6985: {\n    code: 'ERR_USER_DENIED',\n    message: 'Rejected by user'\n  },\n  0x6d00: {\n    code: 'ERR_UNKNOWN_INSTRUCTION',\n    message: 'Unknown instruction'\n  },\n  0x6e00: {\n    code: 'ERR_WRONG_CLA',\n    message: 'Wrong CLA'\n  },\n  0x6e01: {\n    code: 'ERR_INVALID_ARGUMENTS',\n    message: 'Invalid arguments'\n  },\n  0x6e02: {\n    code: 'ERR_INVALID_MESSAGE',\n    message: 'Invalid message'\n  },\n  0x6e03: {\n    code: 'ERR_INVALID_P1',\n    message: 'Invalid P1'\n  },\n  0x6e04: {\n    code: 'ERR_MESSAGE_TOO_LONG',\n    message: 'Message too long'\n  },\n  0x6e05: {\n    code: 'ERR_RECEIVER_TOO_LONG',\n    message: 'Receiver too long'\n  },\n  0x6e06: {\n    code: 'ERR_AMOUNT_TOO_LONG',\n    message: 'Amount too long'\n  },\n  0x6e07: {\n    code: 'ERR_CONTRACT_DATA_DISABLED',\n    message: 'Contract data disabled in app options'\n  },\n  0x6e08: {\n    code: 'ERR_MESSAGE_INCOMPLETE',\n    message: 'Message incomplete'\n  },\n  0x6e10: {\n    code: 'ERR_SIGNATURE_FAILED',\n    message: 'Signature failed'\n  },\n  0x6e09: {\n    code: 'ERR_WRONG_TX_VERSION',\n    message: 'Wrong TX version'\n  },\n  0x6e0a: {\n    code: 'ERR_NONCE_TOO_LONG',\n    message: 'Nonce too long'\n  },\n  0x6e0b: {\n    code: 'ERR_INVALID_AMOUNT',\n    message: 'Invalid amount'\n  },\n  0x6e0c: {\n    code: 'ERR_INVALID_FEE',\n    message: 'Invalid fee'\n  },\n  0x6e0d: {\n    code: 'ERR_PRETTY_FAILED',\n    message: 'Pretty failed'\n  },\n  0x6e0e: {\n    code: 'ERR_DATA_TOO_LONG',\n    message: 'Data too long'\n  },\n  0x6e0f: {\n    code: 'ERR_WRONG_TX_OPTIONS',\n    message: 'Invalid transaction options'\n  },\n  0x6e11: {\n    code: 'ERR_SIGN_TX_DEPRECATED',\n    message: 'Regular transaction signing is deprecated in this version. Use hash signing.'\n  }\n};\nvar ledgerErrorCodes$1 = {\n  __proto__: null,\n  'default': ledgerErrorCodes\n};\nvar gasPriceModifier = '0.01';\nvar gasPerDataByte = '1500';\nvar defaultGasPrice = 1000000000;\nvar defaultGasLimit = 60000000;\nvar denomination = 18;\nvar decimals = 4;\nvar dappInitRoute = '/dapp/init';\nvar walletSignSession = 'signSession';\n\nfunction pipe(previous) {\n  return {\n    \"if\": function _if(condition) {\n      if (condition) {\n        return {\n          then: function then(newValue) {\n            return newValue instanceof Function ? pipe(newValue(previous)) : pipe(newValue);\n          }\n        };\n      } else {\n        return {\n          then: function then() {\n            return pipe(previous);\n          }\n        };\n      }\n    },\n    then: function then(newValue) {\n      return newValue instanceof Function ? pipe(newValue(previous)) : pipe(newValue);\n    },\n    valueOf: function valueOf() {\n      return previous;\n    }\n  };\n}\n\nBigNumber.config({\n  ROUNDING_MODE: BigNumber.ROUND_FLOOR\n});\n\nfunction denominate(_ref) {\n  var input = _ref.input,\n      _ref$denomination = _ref.denomination,\n      denomination$1 = _ref$denomination === void 0 ? denomination : _ref$denomination,\n      _ref$decimals = _ref.decimals,\n      decimals$1 = _ref$decimals === void 0 ? decimals : _ref$decimals,\n      _ref$showLastNonZeroD = _ref.showLastNonZeroDecimal,\n      showLastNonZeroDecimal = _ref$showLastNonZeroD === void 0 ? true : _ref$showLastNonZeroD,\n      _ref$addCommas = _ref.addCommas,\n      addCommas = _ref$addCommas === void 0 ? false : _ref$addCommas;\n  var token = new Token({\n    decimals: denomination$1\n  });\n\n  if (typeof input === 'string' && !validation.stringIsInteger(input, false)) {\n    throw new Error('Invalid input');\n  }\n\n  return pipe(input)[\"if\"](typeof input === 'string').then(function () {\n    return new Balance(token, 0, new BigNumber(input)).toDenominated();\n  })[\"if\"](input.constructor === Balance).then(function () {\n    return input.toDenominated();\n  }).then(function (current) {\n    var bnBalance = new BigNumber(current);\n\n    if (bnBalance.isZero()) {\n      return '0';\n    }\n\n    var balance = bnBalance.toString(10);\n\n    var _balance$split = balance.split('.'),\n        integerPart = _balance$split[0],\n        decimalPart = _balance$split[1];\n\n    var bNdecimalPart = new BigNumber(decimalPart || 0);\n    var decimalPlaces = pipe(0)[\"if\"](Boolean(decimalPart && showLastNonZeroDecimal)).then(function () {\n      return Math.max(decimalPart.length, decimals$1);\n    })[\"if\"](bNdecimalPart.isZero() && !showLastNonZeroDecimal).then(0)[\"if\"](Boolean(decimalPart && !showLastNonZeroDecimal)).then(function () {\n      return Math.min(decimalPart.length, decimals$1);\n    }).valueOf();\n    var shownDecimalsAreZero = decimalPart && decimals$1 >= 1 && decimals$1 <= decimalPart.length && bNdecimalPart.isGreaterThan(0) && new BigNumber(decimalPart.substring(0, decimals$1)).isZero();\n    var formatted = bnBalance.toFormat(decimalPlaces);\n    var formattedBalance = pipe(balance)[\"if\"](addCommas).then(formatted)[\"if\"](Boolean(shownDecimalsAreZero) && !showLastNonZeroDecimal).then(function (current) {\n      var integerPartZero = new BigNumber(integerPart).isZero();\n\n      var _current$split = current.split('.'),\n          numericPart = _current$split[0];\n\n      var zeroPlaceholders = new Array(decimals$1 - 1).fill(0);\n      var zeros = [].concat(zeroPlaceholders, [0]).join('');\n      var minAmount = [].concat(zeroPlaceholders, [1]).join('');\n\n      if (integerPartZero) {\n        return \"<\" + numericPart + \".\" + minAmount;\n      } else {\n        return numericPart + \".\" + zeros;\n      }\n    }).valueOf();\n    return formattedBalance;\n  }).valueOf();\n}\n\nfunction nominate(input, customDenomination) {\n  var balance = createBalanceBuilder(new Token$1({\n    decimals: customDenomination || denomination,\n    type: TokenType.Fungible\n  }));\n  return balance(input).toString();\n}\n\nvar classnames = {};\n\ntry {\n  classnames = require('classnames');\n} catch (err) {}\n\nvar classnames$1 = classnames;\n\nfunction getGeneratedClasses(className, shouldRenderDefaultCss, defaultStyles) {\n  return Object.entries(defaultStyles).reduce(function (acc, _ref) {\n    var key = _ref[0],\n        defaultClassNames = _ref[1];\n    acc[key] = classnames$1 === null || classnames$1 === void 0 ? void 0 : classnames$1(className + \"_\" + key, shouldRenderDefaultCss && defaultClassNames);\n    return acc;\n  }, {});\n}\n\nvar wrapperClassName = 'dapp-core-ui-component';\nvar moment = {};\n\ntry {\n  moment = require('moment');\n} catch (err) {}\n\nvar moment$1 = moment;\n\nvar setItem = function setItem(_ref) {\n  var key = _ref.key,\n      data = _ref.data,\n      expires = _ref.expires;\n  sessionStorage.setItem(String(key), JSON.stringify({\n    expires: expires,\n    data: data\n  }));\n};\n\nvar getItem = function getItem(key) {\n  var item = sessionStorage.getItem(String(key));\n\n  if (!item) {\n    return null;\n  }\n\n  var deserializedItem = JSON.parse(item);\n\n  if (!deserializedItem) {\n    return null;\n  }\n\n  if (!deserializedItem.hasOwnProperty('expires') || !deserializedItem.hasOwnProperty('data')) {\n    return null;\n  }\n\n  var expired = moment$1().unix() >= deserializedItem.expires;\n\n  if (expired) {\n    sessionStorage.removeItem(String(key));\n    return null;\n  }\n\n  return deserializedItem.data;\n};\n\nvar removeItem = function removeItem(key) {\n  return sessionStorage.removeItem(String(key));\n};\n\nvar clear = function clear() {\n  return sessionStorage.clear();\n};\n\nvar storage$1 = {\n  setItem: setItem,\n  getItem: getItem,\n  removeItem: removeItem,\n  clear: clear\n};\nvar defaultContextValue = null;\nvar DappCoreContext = React__default.createContext(defaultContextValue);\nvar useStore = createStoreHook(DappCoreContext);\nvar useDispatch = createDispatchHook(DappCoreContext);\nvar useSelector = createSelectorHook(DappCoreContext);\n\nvar useExtensionLogin = function useExtensionLogin(_ref) {\n  var initiateLogin = function initiateLogin() {\n    try {\n      setIsLoading(true);\n      var provider = ExtensionProvider.getInstance();\n      return Promise.resolve(_finallyRethrows(function () {\n        return _catch(function () {\n          return Promise.resolve(provider.init()).then(function (isSuccessfullyInitialized) {\n            if (!isSuccessfullyInitialized) {\n              console.warn('Something went wrong trying to redirect to wallet login..');\n              return;\n            }\n\n            var callbackUrl = encodeURIComponent(\"\" + window.location.origin + callbackRoute);\n\n            var providerLoginData = _extends({\n              callbackUrl: callbackUrl\n            }, token && {\n              token: token\n            });\n\n            return Promise.resolve(provider.login(providerLoginData)).then(function () {\n              dispatch(setProvider(provider));\n              var _provider$account = provider.account,\n                  signature = _provider$account.signature,\n                  address = _provider$account.address;\n\n              if (signature) {\n                dispatch(setTokenLogin({\n                  loginToken: String(token),\n                  signature: signature\n                }));\n              }\n\n              dispatch(loginAction({\n                address: address,\n                loginMethod: LoginMethodsEnum.extension\n              }));\n              optionalRedirect(callbackRoute, redirectAfterLogin);\n            });\n          });\n        }, function (error) {\n          console.error('error loging in', error);\n          setError('error logging in' + error.message);\n        });\n      }, function (_wasThrown, _result) {\n        setIsLoading(false);\n        if (_wasThrown) throw _result;\n        return _result;\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var callbackRoute = _ref.callbackRoute,\n      token = _ref.token,\n      _ref$redirectAfterLog = _ref.redirectAfterLogin,\n      redirectAfterLogin = _ref$redirectAfterLog === void 0 ? false : _ref$redirectAfterLog;\n\n  var _useState = useState(''),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var _useState2 = useState(false),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  var dispatch = useDispatch();\n  var loginFailed = Boolean(error);\n  return [initiateLogin, {\n    loginFailed: loginFailed,\n    error: error,\n    isLoading: isLoading && !loginFailed,\n    isLoggedIn: isLoggedIn && !loginFailed\n  }];\n};\n\nvar useWebWalletLogin = function useWebWalletLogin(_ref) {\n  var initiateLogin = function initiateLogin() {\n    try {\n      var _temp2 = _finallyRethrows(function () {\n        return _catch(function () {\n          setIsLoading(true);\n          var appState = store.getState();\n          var network = networkSelector(appState);\n          var provider = newWalletProvider(network.walletAddress);\n          var now = new Date();\n          var expires = now.setMinutes(now.getMinutes() + 3) / 1000;\n          var walletLoginData = {\n            data: {},\n            expires: expires\n          };\n          store.dispatch(setWalletLogin(walletLoginData));\n          var callbackUrl = encodeURIComponent(\"\" + window.location.origin + callbackRoute);\n\n          var loginData = _extends({\n            callbackUrl: callbackUrl\n          }, token && {\n            token: token\n          });\n\n          return Promise.resolve(provider.login(loginData)).then(function () {});\n        }, function (error) {\n          console.error(error);\n          setError('error logging in' + error.message);\n        });\n      }, function (_wasThrown, _result) {\n        setIsLoading(false);\n        if (_wasThrown) throw _result;\n        return _result;\n      });\n\n      return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var callbackRoute = _ref.callbackRoute,\n      token = _ref.token;\n\n  var _useState = useState(''),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var _useState2 = useState(false),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  var loginFailed = error != null;\n  return [initiateLogin, {\n    error: error,\n    loginFailed: loginFailed,\n    isLoading: isLoading && !loginFailed,\n    isLoggedIn: isLoggedIn && !loginFailed\n  }];\n};\n\nvar ledgerAppErrorText = 'Check if Elrond app is open on Ledger';\nvar failInitializeErrorText = 'Could not initialise ledger app, make sure Elrond app is open';\nvar defaultAddressesPerPage = 10;\n\nfunction useLedgerLogin(_ref) {\n  var onStartLogin = function onStartLogin() {\n    try {\n      setError('');\n      return Promise.resolve(_finallyRethrows(function () {\n        return _catch(function () {\n          setIsLoading(true);\n          return function () {\n            if (ledgerAccount != null) {\n              var _hwWalletP = new HWProvider(proxy);\n\n              return Promise.resolve(_hwWalletP.init()).then(function (initialized) {\n                if (!initialized) {\n                  console.warn(failInitializeErrorText);\n                  return;\n                }\n\n                return Promise.resolve(_hwWalletP.login({\n                  addressIndex: selectedAddress === null || selectedAddress === void 0 ? void 0 : selectedAddress.index\n                })).then(function (address) {\n                  dispatch(setProvider(_hwWalletP));\n                  dispatch(loginAction({\n                    address: address,\n                    loginMethod: LoginMethodsEnum.ledger\n                  }));\n                  optionalRedirect(callbackRoute, redirectAfterLogin);\n                });\n              });\n            } else {\n              var _temp6 = function () {\n                if ((accounts === null || accounts === void 0 ? void 0 : accounts.length) > 0) {\n                  setShowAddressList(true);\n                } else {\n                  return Promise.resolve(fetchAccounts()).then(function () {\n                    setShowAddressList(true);\n                  });\n                }\n              }();\n\n              if (_temp6 && _temp6.then) return _temp6.then(function () {});\n            }\n          }();\n        }, function (error) {\n          console.error('error ', error);\n          setError(ledgerAppErrorText);\n        });\n      }, function (_wasThrown2, _result4) {\n        setIsLoading(false);\n        if (_wasThrown2) throw _result4;\n        return _result4;\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var fetchAccounts = function fetchAccounts() {\n    try {\n      return Promise.resolve(_catch(function () {\n        setIsLoading(true);\n        return Promise.resolve(hwWalletP.init()).then(function (initialized) {\n          if (!initialized) {\n            setError(failInitializeErrorText);\n            console.warn(failInitializeErrorText);\n            setIsLoading(false);\n            return;\n          }\n\n          return Promise.resolve(hwWalletP.getAccounts(startIndex, addressesPerPage)).then(function (accounts) {\n            setAccounts(accounts);\n            setIsLoading(false);\n          });\n        });\n      }, function (err) {\n        if (err.statusCode in ledgerErrorCodes$1) {\n          setError(ledgerErrorCodes$1[err.statusCode].message);\n        } else {\n          setError(ledgerAppErrorText);\n        }\n\n        console.error('error', err);\n        setIsLoading(false);\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var onConfirmSelectedAddress = function onConfirmSelectedAddress() {\n    try {\n      var _temp3 = function _temp3(_result) {\n        if (_exit2) return _result;\n        setShowAddressList(false);\n        return true;\n      };\n\n      var _exit2 = false;\n\n      var _temp4 = _finallyRethrows(function () {\n        return _catch(function () {\n          setIsLoading(true);\n\n          if (selectedAddress == null) {\n            _exit2 = true;\n            return false;\n          }\n\n          var address = selectedAddress.address,\n              index = selectedAddress.index;\n          dispatch(setLedgerAccount({\n            index: index,\n            address: address\n          }));\n          var hwWalletProvider = new HWProvider(proxy);\n          return Promise.resolve(hwWalletProvider.init()).then(function (initialized) {\n            if (!initialized) {\n              setError(failInitializeErrorText);\n              console.warn(failInitializeErrorText);\n              _exit2 = true;\n              return false;\n            }\n\n            setIsLoading(false);\n            return Promise.resolve(loginUser(hwWalletProvider)).then(function () {});\n          });\n        }, function (err) {\n          if (err.statusCode in ledgerErrorCodes$1) {\n            setError(ledgerErrorCodes$1[err.statusCode].message);\n          }\n\n          console.warn(failInitializeErrorText, err);\n        });\n      }, function (_wasThrown, _result) {\n        setIsLoading(false);\n        if (_wasThrown) throw _result;\n        return _result;\n      });\n\n      return Promise.resolve(_temp4 && _temp4.then ? _temp4.then(_temp3) : _temp3(_temp4));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var loginUser = function loginUser(hwWalletProvider) {\n    try {\n      var _exit4 = false;\n\n      if (selectedAddress == null) {\n        return Promise.resolve(false);\n      }\n\n      var index = selectedAddress.index;\n\n      var _temp9 = function () {\n        if (token) {\n          var _temp10 = _catch(function () {\n            return Promise.resolve(hwWalletProvider.tokenLogin({\n              token: Buffer.from(token + \"{}\"),\n              addressIndex: index\n            })).then(function (loginInfo) {\n              dispatchLoginActions({\n                address: loginInfo.address,\n                provider: hwWalletProvider,\n                index: index,\n                signature: loginInfo.signature.hex()\n              });\n            });\n          }, function (err) {\n            onLoginFailed(err, '. Update Elrond App to continue.');\n          });\n\n          if (_temp10 && _temp10.then) return _temp10.then(function () {});\n        } else {\n          return _catch(function () {\n            return Promise.resolve(hwWalletProvider.login({\n              addressIndex: index\n            })).then(function (address) {\n              dispatchLoginActions({\n                address: address,\n                provider: hwWalletProvider,\n                index: index\n              });\n            });\n          }, function (err) {\n            onLoginFailed(err);\n            _exit4 = true;\n            return false;\n          });\n        }\n      }();\n\n      return Promise.resolve(_temp9 && _temp9.then ? _temp9.then(function (_result5) {\n        return _exit4 ? _result5 : true;\n      }) : _exit4 ? _temp9 : true);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var callbackRoute = _ref.callbackRoute,\n      token = _ref.token,\n      _ref$addressesPerPage = _ref.addressesPerPage,\n      addressesPerPage = _ref$addressesPerPage === void 0 ? defaultAddressesPerPage : _ref$addressesPerPage,\n      _ref$redirectAfterLog = _ref.redirectAfterLogin,\n      redirectAfterLogin = _ref$redirectAfterLog === void 0 ? false : _ref$redirectAfterLog;\n  var ledgerAccount = useSelector(ledgerAccountSelector);\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  var proxy = useSelector(proxySelector);\n  var dispatch = useDispatch();\n\n  var _React$useState = React__default.useState(''),\n      error = _React$useState[0],\n      setError = _React$useState[1];\n\n  var _React$useState2 = React__default.useState(false),\n      isLoading = _React$useState2[0],\n      setIsLoading = _React$useState2[1];\n\n  var hwWalletP = new HWProvider(proxy);\n\n  var _React$useState3 = React__default.useState(0),\n      startIndex = _React$useState3[0],\n      setStartIndex = _React$useState3[1];\n\n  var _React$useState4 = React__default.useState([]),\n      accounts = _React$useState4[0],\n      setAccounts = _React$useState4[1];\n\n  var _React$useState5 = React__default.useState(null),\n      selectedAddress = _React$useState5[0],\n      setSelectedAddress = _React$useState5[1];\n\n  var _React$useState6 = React__default.useState(false),\n      showAddressList = _React$useState6[0],\n      setShowAddressList = _React$useState6[1];\n\n  function dispatchLoginActions(_ref2) {\n    var provider = _ref2.provider,\n        address = _ref2.address,\n        index = _ref2.index,\n        signature = _ref2.signature;\n    dispatch(setProvider(provider));\n    dispatch(setLedgerLogin({\n      index: index,\n      loginType: LoginMethodsEnum.ledger\n    }));\n\n    if (signature) {\n      dispatch(setTokenLogin({\n        loginToken: String(token),\n        signature: signature\n      }));\n    }\n\n    dispatch(loginAction({\n      address: address,\n      loginMethod: LoginMethodsEnum.ledger\n    }));\n    optionalRedirect(callbackRoute, redirectAfterLogin);\n  }\n\n  var onLoginFailed = function onLoginFailed(err, customMessage) {\n    if (err.statusCode in ledgerErrorCodes$1) {\n      setError(ledgerErrorCodes$1[err.statusCode].message + customMessage);\n    }\n\n    setIsLoading(false);\n    console.warn(err);\n    dispatch(setLedgerAccount(null));\n  };\n\n  function onSelectAddress(newSelectedAddress) {\n    setSelectedAddress(newSelectedAddress);\n  }\n\n  function onGoToNextPage() {\n    setSelectedAddress(null);\n    setStartIndex(function (current) {\n      return current + 1;\n    });\n  }\n\n  function onGoToPrevPage() {\n    setSelectedAddress(null);\n    setStartIndex(function (current) {\n      return current === 0 ? 0 : current - 1;\n    });\n  }\n\n  React__default.useEffect(function () {\n    fetchAccounts();\n  }, [startIndex]);\n  var loginFailed = Boolean(error);\n  return [onStartLogin, {\n    loginFailed: loginFailed,\n    isLoggedIn: isLoggedIn && !loginFailed,\n    error: error,\n    isLoading: isLoading && !loginFailed\n  }, {\n    accounts: accounts,\n    showAddressList: showAddressList,\n    startIndex: startIndex,\n    selectedAddress: selectedAddress,\n    onGoToPrevPage: onGoToPrevPage,\n    onGoToNextPage: onGoToNextPage,\n    onSelectAddress: onSelectAddress,\n    onConfirmSelectedAddress: onConfirmSelectedAddress\n  }];\n}\n\nfunction useUpdateEffect(effect, dependencies) {\n  if (dependencies === void 0) {\n    dependencies = [];\n  }\n\n  var isInitialMount = useRef(true);\n  useEffect(function () {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else {\n      effect();\n    }\n  }, dependencies);\n}\n\nvar useWalletConnectLogin = function useWalletConnectLogin(_ref) {\n  var generateWcUri = function generateWcUri() {\n    try {\n      var _providerRef$current2;\n\n      if (!walletConnectBridgeAddress) {\n        return Promise.resolve();\n      }\n\n      return Promise.resolve((_providerRef$current2 = providerRef.current) === null || _providerRef$current2 === void 0 ? void 0 : _providerRef$current2.login()).then(function (walletConnectUri) {\n        var hasUri = Boolean(walletConnectUri);\n\n        if (!hasUri) {\n          return;\n        }\n\n        if (!token) {\n          setWcUri(walletConnectUri);\n          return;\n        }\n\n        var wcUriWithToken = walletConnectUri + \"&token=\" + token;\n        setWcUri(wcUriWithToken);\n        dispatch(setTokenLogin({\n          loginToken: token\n        }));\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var initiateLogin = function initiateLogin(loginProvider) {\n    if (loginProvider === void 0) {\n      loginProvider = true;\n    }\n\n    try {\n      var _providerRef$current, _providerRef$current$;\n\n      var shouldGenerateWcUri = loginProvider && !wcUri;\n\n      if (!walletConnectBridgeAddress || providerRef !== null && providerRef !== void 0 && (_providerRef$current = providerRef.current) !== null && _providerRef$current !== void 0 && (_providerRef$current$ = _providerRef$current.isInitialized) !== null && _providerRef$current$ !== void 0 && _providerRef$current$.call(_providerRef$current) && !shouldGenerateWcUri) {\n        return Promise.resolve();\n      }\n\n      var providerHandlers = {\n        onClientLogin: handleOnLogin,\n        onClientLogout: handleOnLogout\n      };\n      var newProvider = new WalletConnectProvider(proxy, walletConnectBridgeAddress, providerHandlers);\n      return Promise.resolve(newProvider.init()).then(function () {\n        dispatch(setProvider(newProvider));\n        providerRef.current = newProvider;\n\n        if (loginProvider) {\n          generateWcUri();\n        }\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var handleOnLogin = function handleOnLogin() {\n    try {\n      return Promise.resolve(_catch(function () {\n        var provider = providerRef.current;\n\n        if (isLoggedIn) {\n          return;\n        }\n\n        if (provider == null) {\n          return;\n        }\n\n        return Promise.resolve(provider.getAddress()).then(function (address) {\n          return Promise.resolve(provider.getSignature()).then(function (signature) {\n            var hasSignature = Boolean(signature);\n            var loginActionData = {\n              address: address,\n              loginMethod: LoginMethodsEnum.walletconnect\n            };\n            var loginData = {\n              logoutRoute: logoutRoute,\n              loginType: 'walletConnect',\n              callbackRoute: callbackRoute\n            };\n\n            if (hasSignature) {\n              dispatch(setWalletConnectLogin(loginData));\n              dispatch(setTokenLoginSignature(signature));\n            } else {\n              dispatch(setWalletConnectLogin(loginData));\n            }\n\n            dispatch(loginAction(loginActionData));\n            provider.walletConnector.on('heartbeat', function () {\n              clearInterval(heartbeatDisconnectInterval);\n              heartbeatDisconnectInterval = setInterval(function () {\n                console.log('Maiar Wallet Connection Lost');\n                handleOnLogout();\n                clearInterval(heartbeatDisconnectInterval);\n              }, 150000);\n            });\n            optionalRedirect(callbackRoute, redirectAfterLogin);\n          });\n        });\n      }, function (err) {\n        setError('Invalid address');\n        console.error(err);\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var handleHeartbeat = function handleHeartbeat() {\n    try {\n      var _providerRef$current3, _providerRef$current4;\n\n      var isProviderConnected = Boolean((_providerRef$current3 = providerRef.current) === null || _providerRef$current3 === void 0 ? void 0 : (_providerRef$current4 = _providerRef$current3.walletConnector) === null || _providerRef$current4 === void 0 ? void 0 : _providerRef$current4.connected);\n\n      if (!isProviderConnected) {\n        return Promise.resolve();\n      }\n\n      var customMessage = {\n        method: 'heartbeat',\n        params: {}\n      };\n\n      var _temp2 = _catch(function () {\n        return Promise.resolve(providerRef.current.sendCustomMessage(customMessage)).then(function () {});\n      }, function (error) {\n        console.error('Connection lost', error);\n        handleOnLogout();\n      });\n\n      return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var callbackRoute = _ref.callbackRoute,\n      logoutRoute = _ref.logoutRoute,\n      token = _ref.token,\n      _ref$redirectAfterLog = _ref.redirectAfterLogin,\n      redirectAfterLogin = _ref$redirectAfterLog === void 0 ? false : _ref$redirectAfterLog;\n  var dispatch = useDispatch();\n  var heartbeatInterval = 15000;\n\n  var _useState = useState(''),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var _useState2 = useState(''),\n      wcUri = _useState2[0],\n      setWcUri = _useState2[1];\n\n  var proxy = useSelector(proxySelector);\n  var provider = useSelector(providerSelector);\n  var walletConnectBridgeAddress = useSelector(walletConnectBridgeAddressSelector);\n  var walletConnectDeepLink = useSelector(walletConnectDeepLinkSelector);\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  var providerRef = useRef(provider);\n  var heartbeatDisconnectInterval;\n  var hasWcUri = Boolean(wcUri);\n  var isLoading = !hasWcUri;\n  var uriDeepLink = hasWcUri ? walletConnectDeepLink + \"?wallet-connect=\" + encodeURIComponent(wcUri) : null;\n  useEffect(function () {\n    handleHeartbeat();\n    var interval = setInterval(function () {\n      handleHeartbeat();\n    }, heartbeatInterval);\n    return function () {\n      return clearInterval(interval);\n    };\n  }, [provider]);\n  useUpdateEffect(function () {\n    generateWcUri();\n  }, [token]);\n  useUpdateEffect(function () {\n    providerRef.current = provider;\n  }, [provider]);\n\n  var handleOnLogout = function handleOnLogout() {\n    logout(logoutRoute);\n  };\n\n  var loginFailed = error != null;\n  return [initiateLogin, {\n    error: error,\n    loginFailed: loginFailed,\n    isLoading: isLoading && !loginFailed,\n    isLoggedIn: isLoggedIn && !loginFailed\n  }, {\n    uriDeepLink: uriDeepLink,\n    walletConnectUri: wcUri\n  }];\n};\n\nvar index = {\n  __proto__: null,\n  useExtensionLogin: useExtensionLogin,\n  useWebWalletLogin: useWebWalletLogin,\n  useLedgerLogin: useLedgerLogin,\n  useWalletConnectLogin: useWalletConnectLogin\n};\n\nfunction removeTransactionsToSign(sessionId) {\n  store.dispatch(clearSignedTransaction(sessionId));\n}\n\nfunction removeSignedTransaction(sessionId) {\n  store.dispatch(clearSignedTransaction(sessionId));\n}\n\nfunction removeAllSignedTransactions() {\n  store.dispatch(clearAllSignedTransactions());\n}\n\nfunction removeAllTransactionsToSign() {\n  store.dispatch(clearAllTransactionsToSign());\n}\n\nfunction calcTotalFee(transactions, minGasLimit) {\n  var totalFee = new BigNumber(0);\n  transactions.forEach(function (tx) {\n    var fee = operations.calculateFeeLimit({\n      gasPerDataByte: gasPerDataByte,\n      gasPriceModifier: gasPriceModifier,\n      minGasLimit: String(minGasLimit),\n      gasLimit: tx.getGasLimit().valueOf().toString(),\n      gasPrice: tx.getGasPrice().valueOf().toString(),\n      data: tx.getData().toString(),\n      chainId: tx.getChainID().valueOf()\n    });\n    totalFee = totalFee.plus(new BigNumber(fee));\n  });\n  return totalFee;\n}\n\nfunction signTransactions(_ref) {\n  var transactions = _ref.transactions,\n      callbackRoute = _ref.callbackRoute,\n      _ref$minGasLimit = _ref.minGasLimit,\n      minGasLimit = _ref$minGasLimit === void 0 ? DEFAULT_MIN_GAS_LIMIT : _ref$minGasLimit,\n      customTransactionInformation = _ref.customTransactionInformation,\n      transactionsDisplayInfo = _ref.transactionsDisplayInfo;\n  var appState = store.getState();\n  var sessionId = Date.now().toString();\n  var accountBalance = accountBalanceSelector(appState);\n  var storeChainId = chainIDSelector(appState);\n  var transactionsPayload = Array.isArray(transactions) ? transactions : [transactions];\n  var bNtotalFee = calcTotalFee(transactionsPayload, minGasLimit);\n  var bNbalance = new BigNumber(validation.stringIsFloat(accountBalance) ? accountBalance : '0');\n  var hasSufficientFunds = bNbalance.minus(bNtotalFee).isGreaterThan(0);\n\n  if (!hasSufficientFunds) {\n    var notificationPayload = {\n      type: NotificationTypesEnum.warning,\n      iconClassName: 'text-warning',\n      title: 'Insufficient EGLD funds',\n      description: 'Current EGLD balance cannot cover the transaction fees.'\n    };\n    store.dispatch(setNotificationModal(notificationPayload));\n    return {\n      error: 'insufficient funds',\n      sessionId: null\n    };\n  }\n\n  var hasValidChainId = transactionsPayload === null || transactionsPayload === void 0 ? void 0 : transactionsPayload.every(function (tx) {\n    return tx.getChainID().valueOf() === storeChainId.valueOf();\n  });\n\n  if (!hasValidChainId) {\n    var _notificationPayload = {\n      type: NotificationTypesEnum.warning,\n      iconClassName: 'text-warning',\n      title: 'Network change detected',\n      description: 'The application tried to change the transaction network'\n    };\n    store.dispatch(setNotificationModal(_notificationPayload));\n    return {\n      error: 'Invalid ChainID',\n      sessionId: null\n    };\n  }\n\n  var signTransactionsPayload = {\n    sessionId: sessionId,\n    callbackRoute: callbackRoute,\n    customTransactionInformation: customTransactionInformation,\n    transactions: transactionsPayload.map(function (tx) {\n      return tx.toPlainObject();\n    })\n  };\n  store.dispatch(setTransactionsToSign(signTransactionsPayload));\n  store.dispatch(setTransactionsDisplayInfo({\n    sessionId: sessionId,\n    transactionsDisplayInfo: transactionsDisplayInfo\n  }));\n  return {\n    sessionId: sessionId\n  };\n}\n\nvar transformAndSignTransactions = function transformAndSignTransactions(_ref) {\n  var transactions = _ref.transactions;\n\n  try {\n    var address = addressSelector(store.getState());\n    return Promise.resolve(getAccount(address)).then(function (account) {\n      var nonce = getLatestNonce(account);\n      return transactions.map(function (tx) {\n        var value = tx.value,\n            receiver = tx.receiver,\n            _tx$data = tx.data,\n            data = _tx$data === void 0 ? '' : _tx$data,\n            chainID = tx.chainID,\n            version = tx.version,\n            options = tx.options,\n            _tx$gasPrice = tx.gasPrice,\n            gasPrice = _tx$gasPrice === void 0 ? defaultGasPrice : _tx$gasPrice,\n            _tx$gasLimit = tx.gasLimit,\n            gasLimit = _tx$gasLimit === void 0 ? defaultGasLimit : _tx$gasLimit;\n        var validatedReceiver = receiver;\n\n        try {\n          var addr = new Address$1(receiver);\n          validatedReceiver = addr.hex();\n        } catch (err) {\n          throw ErrorCodesEnum.invalidReceiver;\n        }\n\n        var storeChainId = chainIDSelector(store.getState()).valueOf().toString();\n        var transactionsChainId = chainID || storeChainId;\n        return newTransaction({\n          value: value,\n          receiver: validatedReceiver,\n          data: new TransactionPayload$1(data).toString(),\n          gasPrice: gasPrice,\n          gasLimit: gasLimit,\n          nonce: Number(nonce.valueOf().toString()),\n          sender: new Address$1(address).hex(),\n          chainID: transactionsChainId,\n          version: version,\n          options: options\n        });\n      });\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar ErrorCodesEnum;\n\n(function (ErrorCodesEnum) {\n  ErrorCodesEnum[\"invalidReceiver\"] = \"Invalid Receiver address\";\n  ErrorCodesEnum[\"unknownError\"] = \"Unknown Error. Please check the transactions and try again\";\n})(ErrorCodesEnum || (ErrorCodesEnum = {}));\n\nvar sendTransactions = function sendTransactions(_ref) {\n  var transactions = _ref.transactions,\n      transactionsDisplayInfo = _ref.transactionsDisplayInfo,\n      _ref$redirectAfterSig = _ref.redirectAfterSign,\n      redirectAfterSign = _ref$redirectAfterSig === void 0 ? true : _ref$redirectAfterSig,\n      _ref$callbackRoute = _ref.callbackRoute,\n      callbackRoute = _ref$callbackRoute === void 0 ? window.location.pathname : _ref$callbackRoute,\n      signWithoutSending = _ref.signWithoutSending,\n      sessionInformation = _ref.sessionInformation,\n      _ref$completedThresho = _ref.completedThreshold,\n      completedThreshold = _ref$completedThresho === void 0 ? 1 : _ref$completedThresho,\n      minGasLimit = _ref.minGasLimit;\n\n  try {\n    return Promise.resolve(_catch(function () {\n      function _temp2() {\n        return signTransactions({\n          transactions: txToSign,\n          minGasLimit: minGasLimit,\n          callbackRoute: callbackRoute,\n          transactionsDisplayInfo: transactionsDisplayInfo,\n          customTransactionInformation: {\n            redirectAfterSign: redirectAfterSign,\n            sessionInformation: sessionInformation,\n            signWithoutSending: signWithoutSending,\n            completedThreshold: completedThreshold\n          }\n        });\n      }\n\n      var transactionsPayload = Array.isArray(transactions) ? transactions : [transactions];\n      var areComplexTransactions = transactionsPayload.every(function (tx) {\n        return Object.getPrototypeOf(tx).toPlainObject != null;\n      });\n      var txToSign = transactionsPayload;\n\n      var _temp = function () {\n        if (!areComplexTransactions) {\n          return Promise.resolve(transformAndSignTransactions({\n            transactions: transactionsPayload,\n            minGasLimit: minGasLimit\n          })).then(function (_transformAndSignTran) {\n            txToSign = _transformAndSignTran;\n          });\n        }\n      }();\n\n      return _temp && _temp.then ? _temp.then(_temp2) : _temp2(_temp);\n    }, function (err) {\n      console.error('error signing transaction', err);\n      return {\n        error: err,\n        sessionId: null\n      };\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction useTrackTransactionStatus(_ref) {\n  var transactionId = _ref.transactionId,\n      onSuccess = _ref.onSuccess,\n      onFail = _ref.onFail,\n      onCancelled = _ref.onCancelled,\n      onTimedOut = _ref.onTimedOut,\n      onCompleted = _ref.onCompleted;\n  var transactionsBatch = useSelector(function (state) {\n    return transactionStatusSelector(state, transactionId);\n  });\n  var status = transactionsBatch.status,\n      transactions = transactionsBatch.transactions,\n      errorMessage = transactionsBatch.errorMessage;\n  var isPending = getIsTransactionPending(status);\n  var isFailed = getIsTransactionFailed(status);\n  var isTimedOut = getIsTransactionTimedOut(status);\n  var isSuccessful = getIsTransactionSuccessful(status);\n  var isCompleted = getIsTransactionCompleted(status);\n  var isCancelled = status === TransactionBatchStatusesEnum.cancelled;\n  useEffect(function () {\n    if (isSuccessful && onSuccess) {\n      onSuccess(transactionId);\n    }\n  }, [isSuccessful]);\n  useEffect(function () {\n    if (isCompleted && onCompleted) {\n      onCompleted(transactionId);\n    }\n  }, [isCompleted]);\n  useEffect(function () {\n    if (isFailed && onFail) {\n      onFail(transactionId, errorMessage);\n    }\n  }, [isFailed]);\n  useEffect(function () {\n    if (isCancelled && onCancelled) {\n      onCancelled(transactionId);\n    }\n  }, [isCancelled]);\n  useEffect(function () {\n    if (isTimedOut) {\n      if (onTimedOut) {\n        onTimedOut(transactionId);\n      } else {\n        onFail === null || onFail === void 0 ? void 0 : onFail(transactionId, 'timeout');\n      }\n    }\n  }, [isTimedOut]);\n\n  if (transactionId == null) {\n    return {};\n  }\n\n  if (transactionsBatch == null) {\n    return {\n      errorMessage: 'No transaction to track'\n    };\n  }\n\n  return {\n    isPending: isPending,\n    isSuccessful: isSuccessful,\n    isFailed: isFailed,\n    isCancelled: isCancelled,\n    isCompleted: isCompleted,\n    errorMessage: errorMessage,\n    status: status,\n    transactions: transactions\n  };\n}\n\nfunction useGetPendingTransactions() {\n  var pendingTransactions = useSelector(pendingSignedTransactionsSelector);\n  var pendingTransactionsArray = Object.entries(pendingTransactions);\n  var hasPendingTransactions = (pendingTransactionsArray === null || pendingTransactionsArray === void 0 ? void 0 : pendingTransactionsArray.length) > 0;\n  return {\n    pendingTransactions: pendingTransactions,\n    pendingTransactionsArray: pendingTransactionsArray,\n    hasPendingTransactions: hasPendingTransactions\n  };\n}\n\nfunction useGetFailedTransactions() {\n  var failedTransactions = useSelector(failedTransactionsSelector);\n  var failedTransactionsArray = Object.entries(failedTransactions);\n  var hasFailedTransactions = (failedTransactionsArray === null || failedTransactionsArray === void 0 ? void 0 : failedTransactionsArray.length) > 0;\n  return {\n    failedTransactions: failedTransactions,\n    failedTransactionsArray: failedTransactionsArray,\n    hasFailedTransactions: hasFailedTransactions\n  };\n}\n\nfunction useGetSuccessfulTransactions() {\n  var successfulTransactions = useSelector(successfulTransactionsSelector);\n  var successfulTransactionsArray = Object.entries(successfulTransactions);\n  var hasSuccessfulTransactions = (successfulTransactionsArray === null || successfulTransactionsArray === void 0 ? void 0 : successfulTransactionsArray.length) > 0;\n  return {\n    successfulTransactions: successfulTransactions,\n    successfulTransactionsArray: successfulTransactionsArray,\n    hasSuccessfulTransactions: hasSuccessfulTransactions\n  };\n}\n\nvar defaultTransactionInfo$1 = {\n  tokenId: '',\n  amount: '',\n  type: '',\n  multiTxData: '',\n  receiver: ''\n};\n\nfunction useParseMultiEsdtTransferData(_ref) {\n  var transactions = _ref.transactions;\n\n  var _useState = useState({}),\n      parsedTransactionsByDataField = _useState[0],\n      setParsedTransactions = _useState[1];\n\n  var _useState2 = useState([]),\n      allTransactions = _useState2[0],\n      setAllTransactions = _useState2[1];\n\n  function addTransactionDataToParsedInfo(data, txInfo) {\n    setParsedTransactions(function (existing) {\n      var _extends2;\n\n      return _extends({}, existing, (_extends2 = {}, _extends2[data] = txInfo, _extends2));\n    });\n  }\n\n  function getTxInfoByDataField(data, multiTransactionData) {\n    if (parsedTransactionsByDataField == null) {\n      return defaultTransactionInfo$1;\n    }\n\n    if (data in parsedTransactionsByDataField) {\n      return parsedTransactionsByDataField[data];\n    }\n\n    if (multiTransactionData != null && String(multiTransactionData) in parsedTransactionsByDataField) {\n      return parsedTransactionsByDataField[multiTransactionData];\n    }\n\n    return defaultTransactionInfo$1;\n  }\n\n  function extractTransactionESDTData() {\n    if (transactions && transactions.length > 0) {\n      var _allTransactions = [];\n      transactions.forEach(function (transaction, transactionIndex) {\n        var multiTxs = parseMultiEsdtTransferData(transaction.getData().toString());\n\n        if (multiTxs.length > 0) {\n          multiTxs.forEach(function (trx, idx) {\n            var newTx = {\n              transaction: transaction,\n              multiTxData: trx.data,\n              transactionIndex: idx\n            };\n            addTransactionDataToParsedInfo(trx.data, {\n              tokenId: trx.token ? trx.token : '',\n              amount: trx.amount ? trx.amount : '',\n              type: trx.type,\n              nonce: trx.nonce ? trx.nonce : '',\n              multiTxData: trx.data,\n              receiver: trx.receiver\n            });\n\n            _allTransactions.push(newTx);\n          });\n        } else {\n          var _getTokenFromData = getTokenFromData(transaction.getData().toString()),\n              tokenId = _getTokenFromData.tokenId,\n              amount = _getTokenFromData.amount;\n\n          if (tokenId) {\n            addTransactionDataToParsedInfo(transaction.getData().toString(), {\n              tokenId: tokenId,\n              amount: amount,\n              receiver: transaction.getReceiver().bech32()\n            });\n          }\n\n          _allTransactions.push({\n            transaction: transaction,\n            transactionIndex: transactionIndex\n          });\n        }\n      });\n      setAllTransactions(_allTransactions);\n    }\n  }\n\n  useEffect(function () {\n    extractTransactionESDTData();\n  }, [transactions]);\n  return {\n    parsedTransactionsByDataField: parsedTransactionsByDataField,\n    getTxInfoByDataField: getTxInfoByDataField,\n    allTransactions: allTransactions\n  };\n}\n\nfunction useGetActiveTransactionsStatus() {\n  var _Object$keys, _Object$keys2, _Object$keys3;\n\n  var signedTransactions = useSelector(signedTransactionsSelector);\n  var timedOutTransactions = useSelector(timedOutTransactionsSelector);\n  var failedTransactions = useSelector(failedTransactionsSelector);\n  var successfulTransactions = useSelector(successfulTransactionsSelector);\n  var pendingTransactions = useSelector(pendingSignedTransactionsSelector);\n  var completedTransactions = useSelector(completedTransactionsSelector);\n  var pending = ((_Object$keys = Object.keys(pendingTransactions)) === null || _Object$keys === void 0 ? void 0 : _Object$keys.length) > 0;\n  var timedOut = !pending && ((_Object$keys2 = Object.keys(timedOutTransactions)) === null || _Object$keys2 === void 0 ? void 0 : _Object$keys2.length) > 0;\n  var fail = !pending && !timedOut && ((_Object$keys3 = Object.keys(failedTransactions)) === null || _Object$keys3 === void 0 ? void 0 : _Object$keys3.length) > 0;\n  var success = !pending && !timedOut && !fail && Object.keys(successfulTransactions).length > 0;\n  var completed = !pending && !timedOut && !fail && Object.keys(completedTransactions).length > 0;\n  var hasActiveTransactions = Object.keys(signedTransactions).length > 0;\n  return {\n    pending: pending,\n    timedOut: timedOut,\n    fail: fail,\n    success: success,\n    completed: completed,\n    hasActiveTransactions: hasActiveTransactions\n  };\n}\n\nfunction useGetCompletedTransactions() {\n  var completedTransactions = useSelector(completedTransactionsSelector);\n  var completedTransactionsArray = Object.entries(completedTransactions);\n  var hasCompletedTransactions = (completedTransactionsArray === null || completedTransactionsArray === void 0 ? void 0 : completedTransactionsArray.length) > 0;\n  return {\n    completedTransactions: completedTransactions,\n    completedTransactionsArray: completedTransactionsArray,\n    hasCompletedTransactions: hasCompletedTransactions\n  };\n}\n\nvar index$1 = {\n  __proto__: null,\n  removeTransactionsToSign: removeTransactionsToSign,\n  removeSignedTransaction: removeSignedTransaction,\n  removeAllSignedTransactions: removeAllSignedTransactions,\n  removeAllTransactionsToSign: removeAllTransactionsToSign,\n  sendTransactions: sendTransactions,\n  signTransactions: signTransactions,\n  useTrackTransactionStatus: useTrackTransactionStatus,\n  useGetPendingTransactions: useGetPendingTransactions,\n  useGetFailedTransactions: useGetFailedTransactions,\n  useGetSuccessfulTransactions: useGetSuccessfulTransactions,\n  useParseMultiEsdtTransferData: useParseMultiEsdtTransferData,\n  useGetActiveTransactionsStatus: useGetActiveTransactionsStatus,\n  useGetCompletedTransactions: useGetCompletedTransactions\n};\n\nvar sendSignedTransactions = function sendSignedTransactions(signedTransactions) {\n  try {\n    var _networkSelector = networkSelector(store.getState()),\n        apiAddress = _networkSelector.apiAddress,\n        apiTimeout = _networkSelector.apiTimeout;\n\n    var promises = signedTransactions.map(function (transaction) {\n      return axios.post(apiAddress + \"/transactions\", transaction.toPlainObject(), {\n        timeout: parseInt(apiTimeout)\n      });\n    });\n    return Promise.resolve(Promise.all(promises)).then(function (response) {\n      return response.map(function (_ref) {\n        var data = _ref.data;\n        return data.txHash;\n      });\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar getTransactionsByHashes = function getTransactionsByHashes(pendingTransactions) {\n  try {\n    var networkConfig = networkConfigSelector(store.getState());\n    var hashes = pendingTransactions.map(function (tx) {\n      return tx.hash;\n    });\n    return Promise.resolve(axios.get(networkConfig.network.apiAddress + \"/transactions\", {\n      params: {\n        hashes: hashes.join(','),\n        withScResults: true\n      }\n    })).then(function (_ref) {\n      var responseData = _ref.data;\n      return pendingTransactions.map(function (_ref2) {\n        var hash = _ref2.hash,\n            previousStatus = _ref2.previousStatus;\n        var txOnNetwork = responseData.find(function (txResponse) {\n          return txResponse.txHash === hash;\n        });\n        var data = TransactionPayload$1.fromEncoded(txOnNetwork === null || txOnNetwork === void 0 ? void 0 : txOnNetwork.data).toString();\n        return {\n          hash: hash,\n          data: data,\n          invalidTransaction: txOnNetwork == null,\n          status: txOnNetwork.status,\n          results: txOnNetwork.results,\n          sender: txOnNetwork.sender,\n          receiver: txOnNetwork === null || txOnNetwork === void 0 ? void 0 : txOnNetwork.receiver,\n          previousStatus: previousStatus,\n          hasStatusChanged: status !== previousStatus\n        };\n      });\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction ProviderInitializer() {\n  var setExtensionProvider = function setExtensionProvider() {\n    try {\n      var _temp11 = _catch(function () {\n        return Promise.resolve(getAddress()).then(function (address) {\n          var provider = ExtensionProvider.getInstance().setAddress(address);\n          return Promise.resolve(provider.init()).then(function (success) {\n            if (success) {\n              dispatch(setProvider(provider));\n            } else {\n              console.error('Could not initialise extension, make sure Elrond wallet extension is installed.');\n            }\n          });\n        });\n      }, function (err) {\n        console.error('Unable to login to ExtensionProvider', err);\n      });\n\n      return Promise.resolve(_temp11 && _temp11.then ? _temp11.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var setLedgerProvider = function setLedgerProvider() {\n    try {\n      return Promise.resolve(_catch(function () {\n        var hwWalletP = new HWProvider(proxy);\n        return Promise.resolve(hwWalletP.init()).then(function (isInitializationSuccessful) {\n          if ((ledgerLogin === null || ledgerLogin === void 0 ? void 0 : ledgerLogin.index) != null) {\n            hwWalletP.addressIndex = ledgerLogin.index;\n          }\n\n          if (!isInitializationSuccessful) {\n            console.warn('Could not initialise ledger app');\n            logout();\n            return;\n          }\n\n          dispatch(setProvider(hwWalletP));\n        });\n      }, function (err) {\n        console.error('Could not initialise ledger app', err);\n        logout();\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var tryAuthenticateWalletUser = function tryAuthenticateWalletUser() {\n    try {\n      return Promise.resolve(_catch(function () {\n        var _temp9 = function () {\n          if (walletLogin != null) {\n            var provider = newWalletProvider(network.walletAddress);\n            return Promise.resolve(getAddress()).then(function (address) {\n              function _temp8() {\n                dispatch(setWalletLogin(null));\n              }\n\n              var _temp7 = function () {\n                if (address) {\n                  dispatch(setProvider(provider));\n                  dispatch(loginAction({\n                    address: address,\n                    loginMethod: LoginMethodsEnum.wallet\n                  }));\n                  return Promise.resolve(getAccount(address)).then(function (account) {\n                    dispatch(setAccount({\n                      balance: account.balance.toString(),\n                      address: address,\n                      nonce: getLatestNonce(account)\n                    }));\n                  });\n                }\n              }();\n\n              return _temp7 && _temp7.then ? _temp7.then(_temp8) : _temp8(_temp7);\n            });\n          }\n        }();\n\n        if (_temp9 && _temp9.then) return _temp9.then(function () {});\n      }, function (e) {\n        console.error('Failed authenticating wallet user ', e);\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var fetchAccount = function fetchAccount() {\n    try {\n      var _temp4 = function _temp4() {\n        dispatch(setIsAccountLoading(false));\n      };\n\n      dispatch(setIsAccountLoading(true));\n\n      var _temp5 = function () {\n        if (address && isLoggedIn) {\n          var _temp6 = _catch(function () {\n            return Promise.resolve(getAccount(address)).then(function (account) {\n              dispatch(setAccount({\n                balance: account.balance.toString(),\n                address: address,\n                nonce: account.nonce.valueOf()\n              }));\n\n              if (ledgerAccount == null && ledgerLogin != null) {\n                dispatch(setLedgerAccount({\n                  index: ledgerLogin.index,\n                  address: address\n                }));\n              }\n            });\n          }, function (e) {\n            dispatch(setAccountLoadingError('Failed getting account'));\n            console.error('Failed getting account ', e);\n          });\n\n          if (_temp6 && _temp6.then) return _temp6.then(function () {});\n        }\n      }();\n\n      return Promise.resolve(_temp5 && _temp5.then ? _temp5.then(_temp4) : _temp4(_temp5));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var network = useSelector(networkSelector);\n  var walletConnectLogin = useSelector(walletConnectLoginSelector);\n  var loginMethod = useSelector(loginMethodSelector);\n  var walletLogin = useSelector(walletLoginSelector);\n\n  var _useSelector = useSelector(extraActionsSelector),\n      getProvider = _useSelector.getProvider;\n\n  var address = useSelector(addressSelector);\n  var ledgerAccount = useSelector(ledgerAccountSelector);\n  var ledgerLogin = useSelector(ledgerLoginSelector);\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  var proxy = useSelector(proxySelector);\n  var dispatch = useDispatch();\n\n  var _ref = walletConnectLogin ? walletConnectLogin : {\n    callbackRoute: '',\n    logoutRoute: ''\n  },\n      callbackRoute = _ref.callbackRoute,\n      logoutRoute = _ref.logoutRoute;\n\n  var _useWalletConnectLogi = useWalletConnectLogin({\n    callbackRoute: callbackRoute,\n    logoutRoute: logoutRoute\n  }),\n      initWalletLoginProvider = _useWalletConnectLogi[0];\n\n  useEffect(function () {\n    refreshChainID();\n  }, [network]);\n  useEffect(function () {\n    initializeProvider();\n  }, [loginMethod]);\n  useEffect(function () {\n    fetchAccount();\n  }, [address, ledgerLogin, isLoggedIn]);\n\n  function refreshChainID() {\n    proxy.getNetworkConfig().then(function (networkConfig) {\n      dispatch(setChainID(networkConfig.ChainID.valueOf()));\n    })[\"catch\"](function (e) {\n      console.error('To do ', e);\n    });\n  }\n\n  function initializeProvider() {\n    if (loginMethod == null) {\n      return;\n    }\n\n    switch (loginMethod) {\n      case LoginMethodsEnum.ledger:\n        {\n          setLedgerProvider();\n          break;\n        }\n\n      case LoginMethodsEnum.walletconnect:\n        {\n          initWalletLoginProvider(false);\n          break;\n        }\n\n      case LoginMethodsEnum.wallet:\n        {\n          var provider = newWalletProvider(network.walletAddress);\n          dispatch(setProvider(provider));\n          break;\n        }\n\n      case LoginMethodsEnum.extension:\n        {\n          setExtensionProvider();\n          break;\n        }\n\n      case LoginMethodsEnum.extra:\n        {\n          var _provider = getProvider();\n\n          dispatch(setProvider(_provider));\n          break;\n        }\n\n      case LoginMethodsEnum.none:\n        {\n          tryAuthenticateWalletUser();\n          break;\n        }\n\n      default:\n        return;\n    }\n  }\n\n  return null;\n}\n\nvar defaultValue = {\n  sendSignedTransactionsAsync: sendSignedTransactions,\n  getTransactionsByHash: getTransactionsByHashes,\n  completedTransactionsDelay: 0\n};\nvar OverrideDefaultBehaviourContext = React__default.createContext(defaultValue);\n\nvar TransactionSender = function TransactionSender() {\n  var handleSendTransactions = function handleSendTransactions() {\n    try {\n      var sessionIds = Object.keys(signedTransactions);\n      return Promise.resolve(_forOf(sessionIds, function (sessionId) {\n        var _signedTransactions$s, _signedTransactions$s2;\n\n        var skipSending = signedTransactions === null || signedTransactions === void 0 ? void 0 : (_signedTransactions$s = signedTransactions[sessionId]) === null || _signedTransactions$s === void 0 ? void 0 : (_signedTransactions$s2 = _signedTransactions$s.customTransactionInformation) === null || _signedTransactions$s2 === void 0 ? void 0 : _signedTransactions$s2.signWithoutSending;\n\n        if (!sessionId || skipSending) {\n          return;\n        }\n\n        var _temp = _finallyRethrows(function () {\n          return _catch(function () {\n            var isSessionIdSigned = signedTransactions[sessionId].status === TransactionBatchStatusesEnum.signed;\n            var shouldSendCurrentSession = isSessionIdSigned && !sendingRef.current;\n\n            if (!shouldSendCurrentSession) {\n              return;\n            }\n\n            var transactions = signedTransactions[sessionId].transactions;\n\n            if (!transactions) {\n              return;\n            }\n\n            sendingRef.current = true;\n            var transactionsToSend = transactions.map(function (tx) {\n              var address = new Address(tx.sender);\n              var transactionObject = newTransaction(tx);\n              var signature = new Signature(tx.signature);\n              transactionObject.applySignature(signature, address);\n              return transactionObject;\n            });\n            return Promise.resolve(sendSignedTransactionsAsync(transactionsToSend)).then(function (responseHashes) {\n              var newStatus = TransactionServerStatusesEnum.pending;\n              var newTransactions = transactions.map(function (transaction) {\n                if (responseHashes.includes(transaction.hash)) {\n                  return _extends({}, transaction, {\n                    status: newStatus\n                  });\n                }\n\n                return transaction;\n              });\n              var submittedModalPayload = {\n                sessionId: sessionId,\n                submittedMessage: 'submitted'\n              };\n              dispatch(setTxSubmittedModal(submittedModalPayload));\n              dispatch(updateSignedTransactions({\n                sessionId: sessionId,\n                status: TransactionBatchStatusesEnum.sent,\n                transactions: newTransactions\n              }));\n              clearSignInfo();\n              setNonce(account.nonce + transactions.length);\n              history.pushState({}, document.title, '?');\n            });\n          }, function (error) {\n            console.error('Unable to send transactions', error);\n            dispatch(updateSignedTransactions({\n              sessionId: sessionId,\n              status: TransactionBatchStatusesEnum.fail,\n              errorMessage: error.message\n            }));\n            clearSignInfo();\n          });\n        }, function (_wasThrown, _result) {\n          sendingRef.current = false;\n          if (_wasThrown) throw _result;\n          return _result;\n        });\n\n        if (_temp && _temp.then) return _temp.then(function () {});\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var account = useSelector(accountSelector);\n  var signedTransactions = useSelector(signedTransactionsSelector);\n\n  var _useContext = useContext(OverrideDefaultBehaviourContext),\n      sendSignedTransactionsAsync = _useContext.sendSignedTransactionsAsync;\n\n  var sendingRef = useRef(false);\n  var dispatch = useDispatch();\n\n  var clearSignInfo = function clearSignInfo() {\n    dispatch(clearAllTransactionsToSign());\n    sendingRef.current = false;\n  };\n\n  React__default.useEffect(function () {\n    handleSendTransactions();\n  }, [signedTransactions, account]);\n  return null;\n};\n\nfunction TransactionStatusTracker(_ref) {\n  var sessionId = _ref.sessionId,\n      _ref$transactionPaylo = _ref.transactionPayload,\n      transactions = _ref$transactionPaylo.transactions,\n      status = _ref$transactionPaylo.status,\n      customTransactionInformation = _ref$transactionPaylo.customTransactionInformation;\n  var dispatch = useDispatch();\n  var intervalRef = useRef(null);\n  var isFetchingStatusRef = useRef(false);\n  var retriesRef = useRef({});\n  var timeoutRefs = useRef([]);\n\n  var _useContext = useContext(OverrideDefaultBehaviourContext),\n      getTransactionsByHash = _useContext.getTransactionsByHash,\n      completedTransactionsDelay = _useContext.completedTransactionsDelay;\n\n  var isPending = sessionId != null && getIsTransactionPending(status);\n\n  var manageTimedOutTransactions = function manageTimedOutTransactions() {\n    dispatch(updateSignedTransactions({\n      sessionId: sessionId,\n      status: TransactionBatchStatusesEnum.timedOut\n    }));\n  };\n\n  var checkTransactionStatus = function checkTransactionStatus() {\n    try {\n      return Promise.resolve(_catch(function () {\n        if (!isPending || transactions == null) {\n          return;\n        }\n\n        isFetchingStatusRef.current = true;\n        var pendingTransactions = transactions.reduce(function (acc, _ref2) {\n          var receiver = _ref2.receiver,\n              sender = _ref2.sender,\n              data = _ref2.data,\n              status = _ref2.status,\n              hash = _ref2.hash;\n          var isScCall = isContract(receiver, sender, data);\n\n          if (hash != null && !timeoutRefs.current.includes(hash) && getIsTransactionPending(status, isScCall)) {\n            acc.push({\n              hash: hash,\n              previousStatus: status\n            });\n          }\n\n          return acc;\n        }, []);\n\n        if ((pendingTransactions === null || pendingTransactions === void 0 ? void 0 : pendingTransactions.length) === 0) {\n          isFetchingStatusRef.current = false;\n          return;\n        }\n\n        return Promise.resolve(getTransactionsByHash(pendingTransactions)).then(function (serverTransactions) {\n          var _loop = function _loop() {\n            var _step$value = _step.value,\n                hash = _step$value.hash,\n                status = _step$value.status,\n                results = _step$value.results,\n                invalidTransaction = _step$value.invalidTransaction,\n                receiver = _step$value.receiver,\n                sender = _step$value.sender,\n                data = _step$value.data,\n                hasStatusChanged = _step$value.hasStatusChanged;\n\n            try {\n              var isScCall = isContract(receiver, sender, data);\n              var retriesForThisHash = retriesRef.current[hash];\n\n              if (retriesForThisHash > 30) {\n                manageTimedOutTransactions();\n                return {\n                  v: void 0\n                };\n              }\n\n              if (!invalidTransaction) {\n                if (!getIsTransactionPending(status)) {\n                  if (isScCall && !getIsTransactionCompleted(status)) {\n                    var isScCallCompleted = areScCallsSuccessful(results, customTransactionInformation === null || customTransactionInformation === void 0 ? void 0 : customTransactionInformation.completedThreshold);\n\n                    if (isScCallCompleted) {\n                      timeoutRefs.current.push(hash);\n                      setTimeout(function () {\n                        return dispatch(updateSignedTransactionStatus({\n                          sessionId: sessionId,\n                          status: TransactionServerStatusesEnum.completed,\n                          transactionHash: hash\n                        }));\n                      }, completedTransactionsDelay);\n                    }\n                  }\n\n                  if (hasStatusChanged) {\n                    dispatch(updateSignedTransactionStatus({\n                      sessionId: sessionId,\n                      status: status,\n                      transactionHash: hash\n                    }));\n                  }\n\n                  refreshAccount();\n\n                  if (getIsTransactionFailed(status)) {\n                    var resultWithError = results.find(function (scResult) {\n                      return (scResult === null || scResult === void 0 ? void 0 : scResult.returnMessage) !== '';\n                    });\n                    dispatch(updateSignedTransactionStatus({\n                      transactionHash: hash,\n                      sessionId: sessionId,\n                      status: TransactionServerStatusesEnum.fail,\n                      errorMessage: resultWithError === null || resultWithError === void 0 ? void 0 : resultWithError.returnMessage\n                    }));\n                    dispatch(updateSignedTransactions({\n                      sessionId: sessionId,\n                      status: TransactionBatchStatusesEnum.fail,\n                      errorMessage: resultWithError === null || resultWithError === void 0 ? void 0 : resultWithError.returnMessage\n                    }));\n                  }\n                } else {\n                  retriesRef.current[hash] = retriesRef.current[hash] ? retriesRef.current[hash] + 1 : 1;\n                }\n              } else {\n                retriesRef.current[hash] = retriesRef.current[hash] ? retriesRef.current[hash] + 1 : 1;\n              }\n            } catch (error) {\n              console.error(error);\n              manageTimedOutTransactions();\n            }\n          };\n\n          for (var _iterator = _createForOfIteratorHelperLoose(serverTransactions), _step; !(_step = _iterator()).done;) {\n            var _ret = _loop();\n\n            if (typeof _ret === \"object\") return _ret.v;\n          }\n        });\n      }, function (error) {\n        console.error(error);\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  useEffect(function () {\n    if (isPending) {\n      intervalRef.current = setInterval(function () {\n        checkTransactionStatus();\n      }, 2000);\n    } else {\n      clearInterval(intervalRef.current);\n    }\n\n    return function () {\n      clearInterval(intervalRef.current);\n    };\n  }, [isPending]);\n  return null;\n}\n\nfunction TransactionsTracker() {\n  var _useGetPendingTransac = useGetPendingTransactions(),\n      pendingTransactionsArray = _useGetPendingTransac.pendingTransactionsArray;\n\n  var mappedPendingTransactionsTrackers = pendingTransactionsArray.map(function (_ref) {\n    var sessionId = _ref[0],\n        transactionPayload = _ref[1];\n    return React__default.createElement(TransactionStatusTracker, {\n      key: sessionId,\n      sessionId: sessionId,\n      transactionPayload: transactionPayload\n    });\n  });\n  return React__default.createElement(React__default.Fragment, null, mappedPendingTransactionsTrackers);\n}\n\nvar getServerConfigurationForEnvironment = function getServerConfigurationForEnvironment(environment) {\n  try {\n    return Promise.resolve(_catch(function () {\n      return Promise.resolve(axios.get(configEndpoint[environment])).then(function (_ref) {\n        var data = _ref.data;\n\n        if (data != null) {\n          return data;\n        }\n      });\n    }, function () {\n      console.error('error fetching configuration for ', environment);\n      return null;\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar index$2 = {\n  __proto__: null,\n  sendSignedTransactions: sendSignedTransactions,\n  getTransactionsByHashes: getTransactionsByHashes,\n  getServerConfigurationForEnvironment: getServerConfigurationForEnvironment\n};\n\nvar useGetNetworkConfig = function useGetNetworkConfig() {\n  return useSelector(networkConfigSelector);\n};\n\nfunction useGetNotification() {\n  var notification = useSelector(notificationModalSelector);\n  var dispatch = useDispatch();\n\n  var clearNotification = function clearNotification() {\n    return dispatch(clearNotificationModal());\n  };\n\n  return {\n    notification: notification,\n    clearNotification: clearNotification\n  };\n}\n\nfunction useGetTransactionDisplayInfo(toastId) {\n  return useSelector(function (state) {\n    return transactionDisplayInfoSelector(state, toastId);\n  });\n}\n\nfunction useParseSignedTransactions() {\n  var search = window.location.search;\n  var network = useSelector(networkSelector);\n  var dispatch = useDispatch();\n  React__default.useEffect(function () {\n    if (search != null) {\n      var searchData = qs.parse(search.replace('?', ''));\n\n      if (searchData && walletSignSession in searchData) {\n        var signSessionId = searchData[walletSignSession];\n        var signedTransactions = new WalletProvider(\"\" + network.walletAddress + dappInitRoute).getTransactionsFromWalletUrl();\n\n        if (signedTransactions.length > 0) {\n          dispatch(moveTransactionsToSignedState({\n            sessionId: signSessionId.toString(),\n            status: TransactionBatchStatusesEnum.signed,\n            transactions: signedTransactions.map(function (tx) {\n              return parseTransactionAfterSigning(tx);\n            })\n          }));\n          history.pushState({}, document.title, '?');\n        }\n      }\n    }\n  }, [search]);\n}\n\nvar useSignTransactions = function useSignTransactions() {\n  var dispatch = useDispatch();\n  var savedCallback = useRef('/');\n  var proxy = useSelector(proxySelector);\n  var address = useSelector(addressSelector);\n  var provider = useSelector(providerSelector);\n  var providerType = getProviderType(provider);\n\n  var _useState = useState(null),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var transactionsToSign = useSelector(transactionsToSignSelector);\n  var hasTransactions = Boolean(transactionsToSign === null || transactionsToSign === void 0 ? void 0 : transactionsToSign.transactions);\n  useParseSignedTransactions();\n\n  var onAbort = function onAbort(sessionId) {\n    setError(null);\n    clearSignInfo(sessionId);\n  };\n\n  var clearSignInfo = function clearSignInfo(sessionId) {\n    var _ExtensionProvider$ge, _ExtensionProvider$ge2;\n\n    var isExtensionProvider = provider instanceof ExtensionProvider;\n    dispatch(clearAllTransactionsToSign());\n    dispatch(clearTransactionsInfoForSessionId(sessionId));\n\n    if (!isExtensionProvider) {\n      return;\n    }\n\n    (_ExtensionProvider$ge = ExtensionProvider.getInstance()) === null || _ExtensionProvider$ge === void 0 ? void 0 : (_ExtensionProvider$ge2 = _ExtensionProvider$ge.cancelAction) === null || _ExtensionProvider$ge2 === void 0 ? void 0 : _ExtensionProvider$ge2.call(_ExtensionProvider$ge);\n  };\n\n  var onCancel = function onCancel(errorMessage, sessionId) {\n    var isTxCancelled = errorMessage !== TRANSACTION_CANCELLED;\n    clearSignInfo(sessionId);\n\n    if (!isTxCancelled) {\n      return;\n    }\n\n    setError(errorMessage);\n  };\n\n  var signWithWallet = function signWithWallet(transactions, sessionId, callbackRoute) {\n    var _urlParams;\n\n    if (callbackRoute === void 0) {\n      callbackRoute = '';\n    }\n\n    var urlParams = (_urlParams = {}, _urlParams[walletSignSession] = sessionId, _urlParams);\n    var callbackUrl = \"\" + window.location.origin + callbackRoute;\n    var buildedCallbackUrl = builtCallbackUrl({\n      callbackUrl: callbackUrl,\n      urlParams: urlParams\n    });\n    provider.signTransactions(transactions, {\n      callbackUrl: encodeURIComponent(buildedCallbackUrl)\n    });\n  };\n\n  var signTransactionsWithProvider = function signTransactionsWithProvider() {\n    try {\n      var _temp3 = function _temp3(_result) {\n        return _exit2 ? _result : _catch(function () {\n          return Promise.resolve(provider.signTransactions(transactions)).then(function (signedTransactions) {\n            var hasSameTransactions = Object.keys(signedTransactions).length === transactions.length;\n            var hasAllTransactionsSigned = signedTransactions && hasSameTransactions;\n            var shouldMoveTransactionsToSignedState = signedTransactions && hasAllTransactionsSigned;\n\n            if (!shouldMoveTransactionsToSignedState) {\n              return;\n            }\n\n            var signedTransactionsArray = Object.values(signedTransactions).map(function (tx) {\n              return parseTransactionAfterSigning(tx);\n            });\n            dispatch(moveTransactionsToSignedState({\n              sessionId: sessionId,\n              transactions: signedTransactionsArray,\n              status: TransactionBatchStatusesEnum.signed\n            }));\n\n            if (shouldRedirectAfterSign) {\n              window.location.href = redirectRoute;\n            }\n          });\n        }, function () {\n          var errorMessage = (error === null || error === void 0 ? void 0 : error.message) || error || ERROR_SIGNING_TX;\n          console.error(ERROR_SIGNING_TX, errorMessage);\n          onCancel(errorMessage, sessionId);\n        });\n      };\n\n      var _exit2 = false;\n      var sessionId = transactionsToSign.sessionId,\n          transactions = transactionsToSign.transactions,\n          callbackRoute = transactionsToSign.callbackRoute,\n          customTransactionInformation = transactionsToSign.customTransactionInformation;\n      var redirectAfterSign = customTransactionInformation.redirectAfterSign;\n      var redirectRoute = callbackRoute || window.location.pathname;\n      var isCurrentRoute = window.location.pathname.includes(redirectRoute);\n      var shouldRedirectAfterSign = redirectAfterSign && !isCurrentRoute;\n\n      var _temp4 = _catch(function () {\n        return Promise.resolve(provider.init()).then(function (isProviderInitialized) {\n          if (!isProviderInitialized) {\n            _exit2 = true;\n          }\n        });\n      }, function (error) {\n        var errorMessage = (error === null || error === void 0 ? void 0 : error.message) || error || PROVIDER_NOT_INTIALIZED;\n        console.error(PROVIDER_NOT_INTIALIZED, errorMessage);\n        onCancel(errorMessage);\n        _exit2 = true;\n      });\n\n      return Promise.resolve(_temp4 && _temp4.then ? _temp4.then(_temp3) : _temp3(_temp4));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var signTransactions = function signTransactions() {\n    try {\n      if (!transactionsToSign) {\n        return Promise.resolve();\n      }\n\n      var sessionId = transactionsToSign.sessionId,\n          transactions = transactionsToSign.transactions,\n          callbackRoute = transactionsToSign.callbackRoute;\n\n      if (!provider) {\n        console.error(MISSING_PROVIDER_MESSAGE);\n        return Promise.resolve();\n      }\n\n      savedCallback.current = callbackRoute || window.location.pathname;\n\n      var setTransactionNonces = function setTransactionNonces(latestNonce, transactions) {\n        return transactions.map(function (tx, index) {\n          tx.setNonce(new Nonce$1(latestNonce + index));\n          return tx;\n        });\n      };\n\n      var _temp6 = _catch(function () {\n        return Promise.resolve(proxy.getAccount(new Address(address))).then(function (proxyAccount) {\n          var isSigningWithWebWallet = providerType === LoginMethodsEnum.wallet;\n          var isSigningWithProvider = providerType === LoginMethodsEnum.extension || providerType === LoginMethodsEnum.walletconnect;\n          var latestNonce = getLatestNonce(proxyAccount);\n          var mappedTransactions = setTransactionNonces(latestNonce, transactions);\n\n          if (isSigningWithWebWallet) {\n            signWithWallet(mappedTransactions, sessionId, callbackRoute);\n          }\n\n          if (isSigningWithProvider) {\n            signTransactionsWithProvider();\n          }\n        });\n      }, function (err) {\n        var defaultErrorMessage = error === null || error === void 0 ? void 0 : error.message;\n        var errorMessage = defaultErrorMessage || ERROR_SIGNING;\n        onCancel(errorMessage, sessionId);\n        dispatch(moveTransactionsToSignedState({\n          sessionId: sessionId,\n          status: TransactionBatchStatusesEnum.cancelled\n        }));\n        console.error(errorMessage, err);\n      });\n\n      return Promise.resolve(_temp6 && _temp6.then ? _temp6.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  useEffect(function () {\n    signTransactions();\n  }, [transactionsToSign]);\n  return {\n    error: error,\n    onAbort: onAbort,\n    hasTransactions: hasTransactions,\n    callbackRoute: savedCallback.current,\n    sessionId: transactionsToSign === null || transactionsToSign === void 0 ? void 0 : transactionsToSign.sessionId,\n    transactions: transactionsToSign === null || transactionsToSign === void 0 ? void 0 : transactionsToSign.transactions\n  };\n};\n\nfunction useGetSignedTransactions() {\n  var signedTransactions = useSelector(signedTransactionsSelector);\n  var signedTransactionsArray = Object.entries(signedTransactions);\n  var hasSignedTransactions = (signedTransactionsArray === null || signedTransactionsArray === void 0 ? void 0 : signedTransactionsArray.length) > 0;\n  return {\n    signedTransactions: signedTransactions,\n    signedTransactionsArray: signedTransactionsArray,\n    hasSignedTransactions: hasSignedTransactions\n  };\n}\n\nvar swr = {};\n\ntry {\n  swr = require('swr')[\"default\"];\n} catch (err) {}\n\nvar useSwr = swr;\n\nvar fetcher = function fetcher(url) {\n  return axios.get(url).then(function (response) {\n    return response.data;\n  });\n};\n\nfunction useGetTokenDetails(_ref) {\n  var _selectedToken$assets;\n\n  var tokenId = _ref.tokenId;\n\n  var _useGetNetworkConfig = useGetNetworkConfig(),\n      network = _useGetNetworkConfig.network;\n\n  var _useSwr = useSwr(Boolean(tokenId) ? network.apiAddress + \"/tokens/\" + tokenId : null, fetcher),\n      selectedToken = _useSwr.data,\n      error = _useSwr.error;\n\n  if (!tokenId) {\n    return {\n      tokenDenomination: Number(network.egldDenomination),\n      tokenLabel: '',\n      tokenAvatar: ''\n    };\n  }\n\n  var tokenDenomination = selectedToken ? selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.decimals : Number(network.egldDenomination);\n  var tokenLabel = selectedToken ? selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.name : '';\n  var tokenAvatar = selectedToken ? \"\" + (selectedToken === null || selectedToken === void 0 ? void 0 : (_selectedToken$assets = selectedToken.assets) === null || _selectedToken$assets === void 0 ? void 0 : _selectedToken$assets.svgUrl) : '';\n  return {\n    tokenDenomination: tokenDenomination,\n    tokenLabel: tokenLabel,\n    tokenAvatar: tokenAvatar,\n    error: error\n  };\n}\n\nfunction useSignTransactionsWithLedger(_ref) {\n  var _currentTransaction$t, _currentTransaction$t2, _currentTransaction$t3;\n\n  var sign = function sign() {\n    try {\n      return Promise.resolve(_catch(function () {\n        if (currentTransaction == null || sessionId == null) {\n          return;\n        }\n\n        var trueForLedger = getIsProviderEqualTo(LoginMethodsEnum.ledger);\n        setWaitingForDevice(trueForLedger);\n        return Promise.resolve(provider.signTransaction(currentTransaction.transaction)).then(function (signedTx) {\n          var _newSignedTx;\n\n          var newSignedTx = (_newSignedTx = {}, _newSignedTx[currentStep] = signedTx, _newSignedTx);\n          var newSignedTransactions = signedTransactions ? _extends({}, signedTransactions, newSignedTx) : newSignedTx;\n          setSignedTransactions(newSignedTransactions);\n\n          if (!isLastTransaction) {\n            setCurrentStep(function (exising) {\n              return exising + 1;\n            });\n            setWaitingForDevice(false);\n          } else if (newSignedTransactions) {\n            dispatch(moveTransactionsToSignedState({\n              sessionId: sessionId,\n              status: TransactionBatchStatusesEnum.signed,\n              transactions: Object.values(newSignedTransactions).map(function (tx) {\n                return parseTransactionAfterSigning(tx, trueForLedger);\n              })\n            }));\n            reset();\n\n            if (callbackRoute != null && customTransactionInformation !== null && customTransactionInformation !== void 0 && customTransactionInformation.redirectAfterSign && !window.location.pathname.includes(callbackRoute)) {\n              window.location.href = callbackRoute;\n            }\n          }\n        });\n      }, function (err) {\n        console.error(err, 'sign error');\n        reset();\n        dispatch(setSignTransactionsError(err.message));\n      }));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var onCancel = _ref.onCancel;\n  var transactionsToSign = useSelector(transactionsToSignSelector);\n\n  var _ref2 = transactionsToSign || {},\n      sessionId = _ref2.sessionId,\n      transactions = _ref2.transactions,\n      callbackRoute = _ref2.callbackRoute,\n      customTransactionInformation = _ref2.customTransactionInformation;\n\n  var _useState = useState(0),\n      currentStep = _useState[0],\n      setCurrentStep = _useState[1];\n\n  var _useState2 = useState(),\n      signedTransactions = _useState2[0],\n      setSignedTransactions = _useState2[1];\n\n  var _useParseMultiEsdtTra = useParseMultiEsdtTransferData({\n    transactions: transactions\n  }),\n      getTxInfoByDataField = _useParseMultiEsdtTra.getTxInfoByDataField,\n      allTransactions = _useParseMultiEsdtTra.allTransactions;\n\n  var _useState3 = useState(null),\n      currentTransaction = _useState3[0],\n      setCurrentTransaction = _useState3[1];\n\n  var provider = useSelector(providerSelector);\n  var egldLabel = useSelector(egldLabelSelector);\n\n  var _useState4 = useState(false),\n      waitingForDevice = _useState4[0],\n      setWaitingForDevice = _useState4[1];\n\n  var dispatch = useDispatch();\n  var isLastTransaction = currentStep === allTransactions.length - 1;\n  useEffect(function () {\n    extractTransactionsInfo();\n  }, [currentStep, allTransactions]);\n\n  function extractTransactionsInfo() {\n    var tx = allTransactions[currentStep];\n\n    if (tx == null) {\n      return;\n    }\n\n    var transaction = tx.transaction,\n        multiTxData = tx.multiTxData;\n    var dataField = transaction.getData().toString();\n    var transactionTokenInfo = getTxInfoByDataField(transaction.getData().toString(), multiTxData);\n    var tokenId = transactionTokenInfo.tokenId;\n    var isTokenTransaction = Boolean(tokenId && isTokenTransfer({\n      tokenId: tokenId,\n      erdLabel: egldLabel\n    }));\n    setCurrentTransaction({\n      transaction: transaction,\n      transactionTokenInfo: transactionTokenInfo,\n      isTokenTransaction: isTokenTransaction,\n      dataField: dataField\n    });\n  }\n\n  function reset() {\n    setCurrentStep(0);\n    setSignedTransactions(undefined);\n    setWaitingForDevice(false);\n  }\n\n  function signTx() {\n    try {\n      if (currentTransaction == null) {\n        return;\n      }\n\n      var signature = currentTransaction.transaction.getSignature();\n\n      if (signature) {\n        if (!isLastTransaction) {\n          setCurrentStep(function (exising) {\n            return exising + 1;\n          });\n        }\n      } else {\n        sign();\n      }\n    } catch (_unused) {\n      sign();\n    }\n  }\n\n  function onAbort() {\n    if (isFirst) {\n      dispatch(clearAllTransactionsToSign());\n      onCancel();\n\n      if (callbackRoute != null && customTransactionInformation !== null && customTransactionInformation !== void 0 && customTransactionInformation.redirectAfterSign) {\n        window.location.href = callbackRoute;\n      }\n    } else {\n      setCurrentStep(function (existing) {\n        return existing - 1;\n      });\n    }\n  }\n\n  var continueWithoutSigning = (currentTransaction === null || currentTransaction === void 0 ? void 0 : (_currentTransaction$t = currentTransaction.transactionTokenInfo) === null || _currentTransaction$t === void 0 ? void 0 : _currentTransaction$t.type) && (currentTransaction === null || currentTransaction === void 0 ? void 0 : (_currentTransaction$t2 = currentTransaction.transactionTokenInfo) === null || _currentTransaction$t2 === void 0 ? void 0 : _currentTransaction$t2.multiTxData) && !(currentTransaction !== null && currentTransaction !== void 0 && currentTransaction.dataField.endsWith(currentTransaction === null || currentTransaction === void 0 ? void 0 : (_currentTransaction$t3 = currentTransaction.transactionTokenInfo) === null || _currentTransaction$t3 === void 0 ? void 0 : _currentTransaction$t3.multiTxData));\n\n  function onSignTransaction() {\n    if (continueWithoutSigning) {\n      setCurrentStep(function (exising) {\n        return exising + 1;\n      });\n    } else {\n      signTx();\n    }\n  }\n\n  function onNext() {\n    setCurrentStep(function (current) {\n      var nextStep = current + 1;\n\n      if (nextStep > (allTransactions === null || allTransactions === void 0 ? void 0 : allTransactions.length)) {\n        return current;\n      }\n\n      return nextStep;\n    });\n  }\n\n  function onPrev() {\n    setCurrentStep(function (current) {\n      var nextStep = current - 1;\n\n      if (nextStep < 0) {\n        return current;\n      }\n\n      return nextStep;\n    });\n  }\n\n  var isFirst = currentStep === 0;\n  return {\n    allTransactions: allTransactions,\n    onSignTransaction: onSignTransaction,\n    onNext: onNext,\n    onPrev: onPrev,\n    waitingForDevice: waitingForDevice,\n    onAbort: onAbort,\n    isLastTransaction: isLastTransaction,\n    callbackRoute: callbackRoute,\n    currentStep: currentStep,\n    signedTransactions: signedTransactions,\n    currentTransaction: currentTransaction\n  };\n}\n\nvar useGetSignTransactionsError = function useGetSignTransactionsError() {\n  return useSelector(signTransactionsErrorSelector);\n};\n\nvar useGetAccountInfo = function useGetAccountInfo() {\n  return useSelector(accountInfoSelector);\n};\n\nvar useGetLoginInfo = function useGetLoginInfo() {\n  var loginInfo = useSelector(loginInfoSelector);\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  return _extends({}, loginInfo, {\n    isLoggedIn: isLoggedIn\n  });\n};\n\nvar useGetAccountProvider = function useGetAccountProvider() {\n  var provider = useSelector(providerSelector);\n  var providerType = getProviderType(provider);\n  return {\n    provider: provider,\n    providerType: providerType\n  };\n};\n\nvar getAccountShard = function getAccountShard() {\n  try {\n    var _await$axios$get, account;\n\n    var appState = store.getState();\n    var apiAddress = apiNetworkSelector(appState);\n    var address = addressSelector(appState);\n    var shard = shardSelector(appState);\n    return Promise.resolve(_catch(function () {\n      if (shard == null && address) {\n        return Promise.resolve(axios.get(apiAddress + \"/accounts/\" + address)).then(function (_axios$get) {\n          _await$axios$get = _axios$get;\n          account = _await$axios$get.data;\n          store.dispatch(setAccountShard(account.shard));\n          return account.shard;\n        });\n      } else {\n        return shard;\n      }\n    }, function (err) {\n      console.error(err);\n      return null;\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction AppInitializer(_ref) {\n  var initializeApp = function initializeApp() {\n    try {\n      initializeCustomExtraActions();\n      return Promise.resolve(initializeNetwork()).then(function () {\n        setInitialized(true);\n        getAccountShard();\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var initializeNetwork = function initializeNetwork() {\n    try {\n      var fallbackConfig = fallbackNetworkConfigurations[environment];\n\n      if (fallbackConfig != null) {\n        dispatch(initializeNetworkConfig(_extends({}, fallbackConfig, customNetworkConfig)));\n      }\n\n      return Promise.resolve(getServerConfigurationForEnvironment(environment)).then(function (serverConfig) {\n        if (serverConfig != null) {\n          dispatch(initializeNetworkConfig(_extends({}, serverConfig, customNetworkConfig)));\n        }\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var _ref$customNetworkCon = _ref.customNetworkConfig,\n      customNetworkConfig = _ref$customNetworkCon === void 0 ? {} : _ref$customNetworkCon,\n      children = _ref.children,\n      environment = _ref.environment,\n      extraActions = _ref.extraActions;\n\n  var _useState = useState(false),\n      initialized = _useState[0],\n      setInitialized = _useState[1];\n\n  var account = useGetAccountInfo();\n  var address = account.address,\n      publicKey = account.publicKey;\n  var dispatch = useDispatch();\n\n  function initializeCustomExtraActions() {\n    if (extraActions != null) {\n      try {\n        extraActions === null || extraActions === void 0 ? void 0 : extraActions.init({\n          onLogin: function onLogin(address, loginMethod) {\n            dispatch(loginAction({\n              address: address,\n              loginMethod: loginMethod\n            }));\n          },\n          log: function log(word) {\n            console.log('dapp log: ', word);\n          }\n        });\n        dispatch(initializeExtraActions(extraActions));\n      } catch (err) {\n        console.error('Unable to initalize extraActions', err);\n      }\n    }\n  }\n\n  useEffect(function () {\n    if (address) {\n      var pubKey = new Address$1(address).hex();\n\n      if (pubKey !== publicKey) {\n        logout();\n      }\n    }\n  }, [address, publicKey]);\n  useEffect(function () {\n    initializeApp();\n  }, [customNetworkConfig, environment]);\n  return initialized ? children : null;\n}\n\nvar DappProvider = function DappProvider(_ref) {\n  var children = _ref.children,\n      _ref$customNetworkCon = _ref.customNetworkConfig,\n      customNetworkConfig = _ref$customNetworkCon === void 0 ? {} : _ref$customNetworkCon,\n      extraActions = _ref.extraActions,\n      _ref$completedTransac = _ref.completedTransactionsDelay,\n      completedTransactionsDelay = _ref$completedTransac === void 0 ? 0 : _ref$completedTransac,\n      environment = _ref.environment,\n      _ref$sendSignedTransa = _ref.sendSignedTransactionsAsync,\n      sendSignedTransactionsAsync = _ref$sendSignedTransa === void 0 ? sendSignedTransactions : _ref$sendSignedTransa,\n      _ref$getTransactionsB = _ref.getTransactionsByHash,\n      getTransactionsByHash = _ref$getTransactionsB === void 0 ? getTransactionsByHashes : _ref$getTransactionsB;\n  var memoizedSendSignedTransactionsAsync = useCallback(sendSignedTransactionsAsync, []);\n\n  if (!environment) {\n    throw new Error('missing environment flag');\n  }\n\n  var memoizedGetTransactionsByHash = useCallback(getTransactionsByHash, []);\n  return React__default.createElement(Provider, {\n    context: DappCoreContext,\n    store: store\n  }, React__default.createElement(PersistGate, {\n    persistor: persistor,\n    loading: null\n  }, React__default.createElement(OverrideDefaultBehaviourContext.Provider, {\n    value: {\n      sendSignedTransactionsAsync: memoizedSendSignedTransactionsAsync,\n      getTransactionsByHash: memoizedGetTransactionsByHash,\n      completedTransactionsDelay: completedTransactionsDelay\n    }\n  }, React__default.createElement(AppInitializer, {\n    environment: environment,\n    customNetworkConfig: customNetworkConfig,\n    extraActions: extraActions\n  }, React__default.createElement(ProviderInitializer, null), React__default.createElement(TransactionSender, null), React__default.createElement(TransactionsTracker, null), children))));\n};\n\nvar AuthenticatedRoutesWrapper = function AuthenticatedRoutesWrapper(_ref) {\n  var children = _ref.children,\n      routes = _ref.routes,\n      unlockRoute = _ref.unlockRoute,\n      onRedirect = _ref.onRedirect;\n  var isLoggedIn = useSelector(isLoggedInSelector);\n  var isAccountLoading = useSelector(isAccountLoadingSelector);\n  var walletLogin = useSelector(walletLoginSelector);\n  var pathname = window.location.pathname;\n  var authenticatedRoutesRef = useRef(routes.filter(function (route) {\n    return Boolean(route.authenticatedRoute);\n  }));\n  var isOnAuthenticatedRoute = authenticatedRoutesRef.current.some(function (_ref2) {\n    var path = _ref2.path;\n    return pathname === path;\n  });\n  var shouldRedirect = isOnAuthenticatedRoute && !isLoggedIn && walletLogin == null;\n\n  if (isAccountLoading || walletLogin) {\n    return null;\n  }\n\n  if (shouldRedirect) {\n    if (onRedirect) {\n      onRedirect(unlockRoute);\n    } else {\n      window.location.href = unlockRoute;\n    }\n\n    return null;\n  }\n\n  return React__default.createElement(React__default.Fragment, null, children);\n};\n\nvar TransactionParameter = function TransactionParameter(sender, receiver, functionName, inputParameters, outputParameters) {\n  this.sender = sender;\n  this.receiver = receiver;\n  this.functionName = functionName;\n  this.inputParameters = inputParameters;\n  this.outputParameters = outputParameters;\n};\n\nvar index$3 = {\n  __proto__: null,\n  TransactionParameter: TransactionParameter\n};\n\nvar withClassNameWrapper = function withClassNameWrapper(Component) {\n  return function (_ref) {\n    var props = _extends({}, _ref);\n\n    return React__default.createElement(\"span\", {\n      className: wrapperClassName\n    }, React__default.createElement(Component, Object.assign({}, props)));\n  };\n};\n\nvar denominateInvalid = function denominateInvalid(props) {\n  return React__default.createElement(\"span\", {\n    \"data-testid\": props['data-testid'] ? props['data-testid'] : 'denominateComponent'\n  }, React__default.createElement(\"span\", {\n    className: 'int-amount'\n  }, \"...\"));\n};\n\nvar denominateValid = function denominateValid(props, erdLabel) {\n  var value = props.value,\n      _props$showLastNonZer = props.showLastNonZeroDecimal,\n      showLastNonZeroDecimal = _props$showLastNonZer === void 0 ? false : _props$showLastNonZer,\n      _props$showLabel = props.showLabel,\n      showLabel = _props$showLabel === void 0 ? true : _props$showLabel;\n  var decimals$1 = props.decimals !== undefined ? props.decimals : decimals;\n  var denomination$1 = props.denomination !== undefined ? props.denomination : denomination;\n  var denominatedValue = denominate({\n    input: value,\n    denomination: denomination$1,\n    decimals: decimals$1,\n    showLastNonZeroDecimal: showLastNonZeroDecimal,\n    addCommas: true\n  });\n  var valueParts = denominatedValue.split('.');\n  var hasNoDecimals = valueParts.length === 1;\n  var isNotZero = denominatedValue !== '0';\n\n  if (decimals$1 > 0 && hasNoDecimals && isNotZero) {\n    var zeros = '';\n\n    for (var i = 1; i <= decimals$1; i++) {\n      zeros = zeros + '0';\n    }\n\n    valueParts.push(zeros);\n  }\n\n  return React__default.createElement(\"span\", {\n    \"data-testid\": props['data-testid'] ? props['data-testid'] : 'denominateComponent'\n  }, React__default.createElement(\"span\", {\n    className: 'int-amount'\n  }, valueParts[0]), valueParts.length > 1 && React__default.createElement(\"span\", {\n    className: 'decimals'\n  }, \".\", valueParts[1]), showLabel && React__default.createElement(\"span\", {\n    className: \"symbol \" + (props.token ? 'text-muted' : '')\n  }, \"\\xA0\", props.token ? props.token : erdLabel));\n};\n\nvar Denominate = function Denominate(props) {\n  var value = props.value;\n  return !validation.stringIsInteger(value) ? denominateInvalid(props) : denominateValid(props, props.egldLabel || '');\n};\n\nvar DenominateWrapper = function DenominateWrapper(props) {\n  var egldLabel = getEgldLabel();\n\n  var denominateProps = _extends({}, props, {\n    egldLabel: egldLabel\n  });\n\n  return React__default.createElement(Denominate, Object.assign({}, denominateProps));\n};\n\nvar Denominate$1 = withClassNameWrapper(DenominateWrapper);\nvar fontawesomeFreeSolidIcons = {};\n\ntry {\n  fontawesomeFreeSolidIcons = require('@fortawesome/free-solid-svg-icons');\n} catch (err) {}\n\nvar icons = fontawesomeFreeSolidIcons;\nvar ReactFontawesome = {};\n\ntry {\n  ReactFontawesome = require('@fortawesome/react-fontawesome');\n} catch (err) {}\n\nvar ReactFontawesome$1 = ReactFontawesome;\n\nvar ExplorerLink = function ExplorerLink(_ref) {\n  var page = _ref.page,\n      text = _ref.text,\n      className = _ref.className;\n\n  var _useGetNetworkConfig = useGetNetworkConfig(),\n      explorerAddress = _useGetNetworkConfig.network.explorerAddress;\n\n  return React__default.createElement(\"a\", Object.assign({\n    href: \"\" + explorerAddress + page\n  }, {\n    target: '_blank'\n  }, {\n    className: \"link-style \" + className\n  }), text ? React__default.createElement(React__default.Fragment, null, text) : React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    icon: icons.faSearch,\n    className: 'text-secondary'\n  }));\n};\n\nvar ExplorerLink$1 = withClassNameWrapper(ExplorerLink);\n\nvar ExtensionLoginButton = function ExtensionLoginButton(_ref) {\n  var token = _ref.token,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'extension-login' : _ref$className,\n      children = _ref.children,\n      callbackRoute = _ref.callbackRoute,\n      buttonClassName = _ref.buttonClassName,\n      _ref$loginButtonText = _ref.loginButtonText,\n      loginButtonText = _ref$loginButtonText === void 0 ? 'Maiar DeFi Wallet' : _ref$loginButtonText,\n      _ref$redirectAfterLog = _ref.redirectAfterLogin,\n      redirectAfterLogin = _ref$redirectAfterLog === void 0 ? false : _ref$redirectAfterLog,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa;\n\n  var _useExtensionLogin = useExtensionLogin({\n    callbackRoute: callbackRoute,\n    token: token,\n    redirectAfterLogin: redirectAfterLogin\n  }),\n      onInitiateLogin = _useExtensionLogin[0];\n\n  var isFirefox = navigator.userAgent.indexOf('Firefox') != -1;\n  var classes = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: \"btn btn-primary px-sm-4 m-1 mx-sm-3 \" + (buttonClassName != null ? buttonClassName : ''),\n    loginText: 'text-left',\n    noExtensionButtonWrapper: 'btn btn-unlock d-inline-block',\n    noExtensionButtonContent: 'd-flex justify-content-between align-items-center',\n    noExtensionButtonTitle: 'title',\n    noExtensionButtonIcon: ''\n  });\n\n  var handleLogin = function handleLogin() {\n    onInitiateLogin();\n  };\n\n  return !window.elrondWallet ? React__default.createElement(\"a\", {\n    rel: 'noreferrer',\n    href: isFirefox ? 'https://addons.mozilla.org/en-US/firefox/addon/maiar-defi-wallet/' : 'https://chrome.google.com/webstore/detail/dngmlblcodfobpdpecaadgfbcggfjfnm?authuser=0&hl=en',\n    target: '_blank',\n    className: classes.noExtensionButtonWrapper\n  }, children || React__default.createElement(\"div\", {\n    className: classes.noExtensionButtonContent\n  }, React__default.createElement(\"div\", {\n    className: classes.noExtensionButtonTitle\n  }, \"Maiar DeFi Wallet\"), React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    className: classes.noExtensionButtonIcon,\n    icon: ReactFontawesome$1.faArrowRight\n  }))) : React__default.createElement(\"button\", {\n    onClick: handleLogin,\n    className: classes.wrapper\n  }, children || React__default.createElement(\"span\", {\n    className: classes.loginText\n  }, loginButtonText));\n};\n\nvar ExtensionLoginButton$1 = withClassNameWrapper(ExtensionLoginButton);\nvar ReactBootstrap = {};\n\ntry {\n  ReactBootstrap = require('react-bootstrap');\n} catch (err) {}\n\nvar ReactBootstrap$1 = ReactBootstrap;\n\nvar ModalContainer = function ModalContainer(_ref) {\n  var children = _ref.children,\n      noSpacer = _ref.noSpacer,\n      className = _ref.className,\n      title = _ref.title,\n      onClose = _ref.onClose;\n  return React__default.createElement(ReactBootstrap$1.Modal, {\n    show: true,\n    backdrop: 'static',\n    onHide: onClose,\n    className: \"modal-container \" + (className ? className : '') + \" \" + wrapperClassName,\n    animation: false,\n    centered: true\n  }, React__default.createElement(\"div\", {\n    className: 'modal-card card w-100'\n  }, React__default.createElement(\"div\", {\n    className: 'card-title h5 mb-0'\n  }, React__default.createElement(\"div\", {\n    className: 'd-flex justify-content-between align-items-center pt-spacer px-spacer mb-0'\n  }, React__default.createElement(\"div\", {\n    className: 'px-3'\n  }, title), React__default.createElement(\"button\", {\n    type: 'button',\n    className: 'btn btn-light px-3 py-2',\n    onClick: onClose\n  }, React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    size: 'lg',\n    icon: icons.faTimes\n  })))), React__default.createElement(\"div\", {\n    className: \"modal-card-body text-center \" + (noSpacer ? 'p-0' : 'p-spacer')\n  }, children)));\n};\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n\nvar classnames$2 = createCommonjsModule(function (module) {\n  /*!\n    Copyright (c) 2018 Jed Watson.\n    Licensed under the MIT License (MIT), see\n    http://jedwatson.github.io/classnames\n  */\n\n  /* global define */\n  (function () {\n    var hasOwn = {}.hasOwnProperty;\n\n    function classNames() {\n      var classes = [];\n\n      for (var i = 0; i < arguments.length; i++) {\n        var arg = arguments[i];\n        if (!arg) continue;\n        var argType = typeof arg;\n\n        if (argType === 'string' || argType === 'number') {\n          classes.push(arg);\n        } else if (Array.isArray(arg)) {\n          if (arg.length) {\n            var inner = classNames.apply(null, arg);\n\n            if (inner) {\n              classes.push(inner);\n            }\n          }\n        } else if (argType === 'object') {\n          if (arg.toString === Object.prototype.toString) {\n            for (var key in arg) {\n              if (hasOwn.call(arg, key) && arg[key]) {\n                classes.push(key);\n              }\n            }\n          } else {\n            classes.push(arg.toString());\n          }\n        }\n      }\n\n      return classes.join(' ');\n    }\n\n    if (module.exports) {\n      classNames.default = classNames;\n      module.exports = classNames;\n    } else {\n      window.classNames = classNames;\n    }\n  })();\n});\n\nvar PageState = function PageState(_ref) {\n  var _classNames;\n\n  var icon = _ref.icon,\n      title = _ref.title,\n      action = _ref.action,\n      iconClass = _ref.iconClass,\n      dataTestId = _ref.dataTestId,\n      description = _ref.description,\n      iconBgClass = _ref.iconBgClass,\n      _ref$iconSize = _ref.iconSize,\n      iconSize = _ref$iconSize === void 0 ? '5x' : _ref$iconSize,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'page-state' : _ref$className,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: 'state m-auto p-4 text-center',\n    iconContainer: classnames$2('icon-state mx-auto', (_classNames = {}, _classNames[\"\" + iconBgClass] = Boolean(iconBgClass), _classNames)),\n    iconClass: classnames$2(iconClass != null && iconClass),\n    title: 'h4 my-4',\n    description: 'mb-3'\n  });\n  return React__default.createElement(\"div\", {\n    className: generatedClasses.wrapper,\n    \"data-testid\": dataTestId\n  }, icon && React__default.createElement(\"span\", {\n    className: generatedClasses.iconContainer\n  }, React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    icon: icon,\n    className: generatedClasses.iconClass,\n    size: iconSize\n  })), title && React__default.createElement(\"p\", {\n    className: generatedClasses.title\n  }, title), description && React__default.createElement(\"div\", {\n    className: generatedClasses.description\n  }, description), action && React__default.createElement(React__default.Fragment, null, action));\n};\n\nvar PageState$1 = withClassNameWrapper(PageState);\n\nvar trimHash = function trimHash(hash, keep) {\n  if (keep === void 0) {\n    keep = 10;\n  }\n\n  var start = hash.substring(0, keep);\n  var end = hash.substring(hash.length - keep);\n  return start + \"...\" + end;\n};\n\nvar noBalance = '...';\n\nvar AddressRow = function AddressRow(_ref) {\n  var address = _ref.address,\n      index = _ref.index,\n      selectedAddress = _ref.selectedAddress,\n      onSelectAddress = _ref.onSelectAddress;\n\n  var _React$useState = React__default.useState(noBalance),\n      balance = _React$useState[0],\n      setBalance = _React$useState[1];\n\n  var handleChange = function handleChange(e) {\n    var checked = e.target.checked;\n\n    if (checked) {\n      onSelectAddress({\n        address: address,\n        index: index\n      });\n    }\n  };\n\n  var fetchBalance = function fetchBalance() {\n    try {\n      var _temp2 = _catch(function () {\n        return Promise.resolve(getAccountBalance(address)).then(function (balance) {\n          setBalance(balance);\n        });\n      }, function () {\n        console.error('error fetching balance', balance);\n      });\n\n      return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  React__default.useEffect(function () {\n    fetchBalance();\n  }, []);\n  return React__default.createElement(\"tr\", null, React__default.createElement(\"td\", {\n    className: 'text-left'\n  }, React__default.createElement(\"div\", {\n    className: 'd-flex align-items-start text-left form-check'\n  }, React__default.createElement(\"input\", {\n    type: 'radio',\n    id: \"check_\" + index,\n    \"data-testid\": \"check_\" + index,\n    onChange: handleChange,\n    role: 'button',\n    checked: selectedAddress === address,\n    className: 'form-check-input mr-1'\n  }), React__default.createElement(\"label\", {\n    htmlFor: \"check_\" + index,\n    role: 'button',\n    \"data-testid\": \"label_\" + index,\n    className: 'form-check-label text-nowrap trim-size-xl m-0'\n  }, React__default.createElement(\"div\", {\n    className: 'd-flex align-items-center text-nowrap trim'\n  }, React__default.createElement(\"span\", null, trimHash(address)))))), React__default.createElement(\"td\", {\n    className: 'text-left'\n  }, React__default.createElement(Denominate$1, {\n    value: balance\n  })), React__default.createElement(\"td\", {\n    className: 'text-left'\n  }, index));\n};\n\nvar ledgerWaitingText = 'Waiting for device';\nvar addressesPerPage = 10;\n\nvar AddressTable = function AddressTable(_ref) {\n  var loading = _ref.loading,\n      accounts = _ref.accounts,\n      startIndex = _ref.startIndex,\n      selectedAddress = _ref.selectedAddress,\n      onGoToPrevPage = _ref.onGoToPrevPage,\n      onGoToNextPage = _ref.onGoToNextPage,\n      onConfirmSelectedAddress = _ref.onConfirmSelectedAddress,\n      onSelectAddress = _ref.onSelectAddress,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'ledger-address-table' : _ref$className;\n  var classes = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: 'card my-4 text-center border-0',\n    cardBody: 'card-body p-4 mx-lg-4',\n    tableWrapper: 'table-responsive',\n    tableContent: 'table m-0 border-bottom',\n    tableHeader: 'py-2 text-semibold border-bottom',\n    tableHeaderText: 'text-left border-0',\n    buttonsWrapper: 'd-flex justify-content-center pager mt-2',\n    arrowButton: 'btn btn-link mx-2',\n    confirmButton: 'btn btn-primary px-4 mt-4'\n  });\n\n  switch (true) {\n    case loading:\n      return React__default.createElement(PageState$1, {\n        className: className,\n        icon: icons.faCircleNotch,\n        iconClass: 'fa-spin text-primary',\n        title: ledgerWaitingText\n      });\n\n    default:\n      return React__default.createElement(React__default.Fragment, null, React__default.createElement(\"div\", {\n        className: 'm-auto'\n      }, React__default.createElement(\"div\", {\n        className: classes.wrapper\n      }, React__default.createElement(\"div\", {\n        className: classes.cardBody\n      }, React__default.createElement(\"div\", {\n        className: classes.tableWrapper,\n        \"data-testid\": 'ledgerAddresses'\n      }, React__default.createElement(\"table\", {\n        className: classes.tableContent\n      }, React__default.createElement(\"thead\", {\n        className: classes.tableHeader\n      }, React__default.createElement(\"tr\", null, React__default.createElement(\"th\", {\n        className: classes.tableHeaderText\n      }, \"Address\"), React__default.createElement(\"th\", {\n        className: classes.tableHeaderText\n      }, \"Balance\"), React__default.createElement(\"th\", {\n        className: classes.tableHeaderText\n      }, \"#\"))), React__default.createElement(\"tbody\", {\n        \"data-testid\": 'addressesTable'\n      }, accounts.map(function (address, index) {\n        var key = index + startIndex * addressesPerPage;\n        return React__default.createElement(AddressRow, {\n          key: key,\n          address: address,\n          index: key,\n          selectedAddress: selectedAddress,\n          onSelectAddress: onSelectAddress\n        });\n      })))), React__default.createElement(\"div\", {\n        className: classes.buttonsWrapper\n      }, React__default.createElement(\"button\", {\n        type: 'button',\n        className: classes.arrowButton,\n        onClick: onGoToPrevPage,\n        \"data-testid\": 'prevBtn',\n        disabled: startIndex === 0\n      }, React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n        size: 'sm',\n        icon: icons.faChevronLeft\n      }), ' ', \"Prev\"), React__default.createElement(\"button\", {\n        type: 'button',\n        className: classes.arrowButton,\n        onClick: onGoToNextPage,\n        \"data-testid\": 'nextBtn'\n      }, \"Next\", ' ', React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n        size: 'sm',\n        icon: icons.faChevronRight\n      }))), React__default.createElement(\"button\", {\n        className: classes.confirmButton,\n        disabled: selectedAddress === '',\n        onClick: onConfirmSelectedAddress,\n        \"data-testid\": 'confirmBtn'\n      }, \"Confirm\")))));\n  }\n};\n\nvar ConfirmAddress = function ConfirmAddress(_ref) {\n  var token = _ref.token,\n      noBorder = _ref.noBorder;\n\n  var _useGetAccountInfo = useGetAccountInfo(),\n      ledgerAccount = _useGetAccountInfo.ledgerAccount;\n\n  return React__default.createElement(\"div\", {\n    className: 'm-auto'\n  }, React__default.createElement(\"div\", {\n    className: \"card my-4 text-center \" + (noBorder ? 'border-0' : '')\n  }, React__default.createElement(\"div\", {\n    className: 'card-body p-4 mx-lg-4'\n  }, React__default.createElement(\"h4\", {\n    className: 'mb-4'\n  }, \"Confirm Ledger Address\"), React__default.createElement(\"p\", null, \"For security, please confirm that your address: \"), React__default.createElement(\"p\", {\n    className: 'lead border rounded p-2'\n  }, ledgerAccount ? ledgerAccount.address : ''), token && React__default.createElement(React__default.Fragment, null, React__default.createElement(\"p\", null, \"and Auth Token\"), React__default.createElement(\"p\", {\n    className: 'lead border rounded p-2'\n  }, token + \"{}\")), React__default.createElement(\"p\", {\n    className: 'm-0'\n  }, token ? 'are the one shown on your Ledger device screen now.' : 'is the one shown on your Ledger device screen now.'), React__default.createElement(\"p\", null, \"Select Approve on your device to confirm.\"), React__default.createElement(\"p\", null, \"Or, if it does not match, close this page and\", ' ', React__default.createElement(\"a\", Object.assign({\n    href: 'https://help.elrond.com/en/'\n  }, {\n    target: '_blank'\n  }), \"contact support\"), \".\"))));\n};\n\nvar _defs, _g;\n\nfunction _extends$1() {\n  _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$1.apply(this, arguments);\n}\n\nfunction SvgLedgerNano(props) {\n  return /*#__PURE__*/createElement(\"svg\", _extends$1({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 110,\n    height: 55,\n    viewBox: \"0 0 260 129\"\n  }, props), _defs || (_defs = /*#__PURE__*/createElement(\"defs\", null, /*#__PURE__*/createElement(\"linearGradient\", {\n    id: \"ledger-nano_svg__a\",\n    x1: \"50%\",\n    x2: \"50%\",\n    y1: \"0%\",\n    y2: \"100%\"\n  }, /*#__PURE__*/createElement(\"stop\", {\n    offset: \"0%\"\n  }), /*#__PURE__*/createElement(\"stop\", {\n    offset: \"100%\",\n    stopColor: \"#FFF\"\n  })), /*#__PURE__*/createElement(\"path\", {\n    id: \"ledger-nano_svg__b\",\n    d: \"M91 0h34a4 4 0 014 4v108.144c0 11.519-9.337 20.856-20.856 20.856h-.288C96.337 133 87 123.663 87 112.144V4a4 4 0 014-4z\"\n  }))), _g || (_g = /*#__PURE__*/createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/createElement(\"path\", {\n    className: \"ledger-nano_svg__ledger-stroke\",\n    stroke: \"#1D2027\",\n    strokeWidth: 2,\n    d: \"M127.856 31.44a1 1 0 01-1 1H100.63a5 5 0 01-5-5v-8.486a5 5 0 015-5h26.225a1 1 0 011 1v16.485z\"\n  }), /*#__PURE__*/createElement(\"path\", {\n    className: \"ledger-nano_svg__ledger-stroke\",\n    stroke: \"#142533\",\n    strokeWidth: 2,\n    d: \"M95.247 26.231H84.318v-6.435h10.93v6.435z\"\n  }), /*#__PURE__*/createElement(\"path\", {\n    className: \"ledger-nano_svg__ledger-stroke\",\n    stroke: \"#1D2027\",\n    strokeWidth: 2,\n    d: \"M127.923 28.726V17.471l6.977.083a1 1 0 01.988 1v9.266a1 1 0 01-1.012.988l-6.953-.083z\"\n  }), /*#__PURE__*/createElement(\"path\", {\n    fill: \"url(#ledger-nano_svg__a)\",\n    d: \"M6.836 53.925h1.616v82.65H6.836v-82.65zm5.657 0h1.616v82.65h-1.616v-82.65z\",\n    transform: \"matrix(0 -1 -1 0 137.5 33.44)\"\n  }), /*#__PURE__*/createElement(\"g\", {\n    transform: \"rotate(-90 128.59 1.975)\"\n  }, /*#__PURE__*/createElement(\"rect\", {\n    className: \"ledger-nano_svg__ledger-fill\",\n    width: 4.492,\n    height: 17.12,\n    x: 125.336,\n    y: 15.505,\n    fill: \"#142533\",\n    rx: 2\n  }), /*#__PURE__*/createElement(\"rect\", {\n    className: \"ledger-nano_svg__ledger-fill\",\n    width: 4.492,\n    height: 17.12,\n    x: 125.336,\n    y: 70.094,\n    fill: \"#142533\",\n    rx: 2\n  }), /*#__PURE__*/createElement(\"use\", {\n    className: \"ledger-nano_svg__ledger-fill-inner-bg\",\n    fill: \"#FFF\",\n    xlinkHref: \"#ledger-nano_svg__b\"\n  }), /*#__PURE__*/createElement(\"path\", {\n    className: \"ledger-nano_svg__ledger-stroke\",\n    fill: \"#6490F1\",\n    fillOpacity: 0.15,\n    stroke: \"#142533\",\n    strokeLinejoin: \"square\",\n    strokeWidth: 2,\n    d: \"M91 1a3 3 0 00-3 3v108.144C88 123.11 96.89 132 107.856 132h.288C119.11 132 128 123.11 128 112.144V4a3 3 0 00-3-3H91z\"\n  }), /*#__PURE__*/createElement(\"rect\", {\n    className: \"ledger-nano_svg__ledger-fill-outer-bg\",\n    width: 21,\n    height: 62,\n    x: 97.5,\n    y: 21.5,\n    fill: \"#FFF\",\n    stroke: \"#6490F1\",\n    rx: 1.6\n  }), /*#__PURE__*/createElement(\"path\", {\n    fill: \"#6490F1\",\n    d: \"M105.5 35h5a.5.5 0 01.5.5v34a.5.5 0 01-.5.5h-5a.5.5 0 01-.5-.5v-34a.5.5 0 01.5-.5zm1.238 3.042l.774.512v.013l-.774.505.341.466.722-.577h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472zm0 3.908l.774.512v.013l-.774.505.341.466.722-.578h.013l.243.9.551-.178-.328-.88.932.053v-.597l-.932.046.328-.872-.551-.17-.243.891h-.013l-.722-.584-.34.473zm0 3.907l.774.512v.013l-.774.505.341.466.722-.577h.013l.243.899.551-.178-.328-.879.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472zm0 3.908l.774.511v.014l-.774.505.341.466.722-.578h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.872-.551-.171-.243.892h-.013l-.722-.584-.34.473zm0 3.907l.774.512v.013l-.774.505.341.466.722-.577h.013l.243.898.551-.177-.328-.879.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472zm0 3.908l.774.511v.013l-.774.506.341.465.722-.577h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.473zm0 3.907l.774.512v.013l-.774.505.341.466.722-.578h.013l.243.9.551-.178-.328-.879.932.052v-.597l-.932.046.328-.872-.551-.17-.243.891h-.013l-.722-.583-.34.472zm0 3.907l.774.512v.013l-.774.505.341.466.722-.577h.013l.243.899.551-.177-.328-.88.932.053v-.597l-.932.046.328-.873-.551-.17-.243.892h-.013l-.722-.584-.34.472z\"\n  }), /*#__PURE__*/createElement(\"path\", {\n    className: \"ledger-nano_svg__ledger-stroke ledger-nano_svg__ledger-fill-outer-bg\",\n    fill: \"#FFF\",\n    stroke: \"#142533\",\n    strokeWidth: 2,\n    d: \"M123.166 125.105c7.049-8.4 5.953-20.925-2.447-27.974l-90.824-76.21a3 3 0 00-4.227.37L4 47.115a3 3 0 00.37 4.227l90.824 76.21c8.4 7.049 20.924 5.953 27.973-2.447z\"\n  }), /*#__PURE__*/createElement(\"ellipse\", {\n    cx: 108.016,\n    cy: 111.123,\n    stroke: \"#6490F1\",\n    rx: 10.57,\n    ry: 10.644\n  })))));\n}\n\nvar LedgerConnect = function LedgerConnect(_ref) {\n  var onClick = _ref.onClick,\n      error = _ref.error,\n      connectPageContent = _ref.connectPageContent;\n  return React__default.createElement(\"div\", {\n    className: 'm-auto login-container'\n  }, React__default.createElement(\"div\", {\n    className: 'card my-4 text-center border-0'\n  }, React__default.createElement(\"div\", {\n    className: 'card-body p-4 mx-lg-4'\n  }, connectPageContent ? React__default.createElement(React__default.Fragment, null, connectPageContent) : React__default.createElement(React__default.Fragment, null, React__default.createElement(SvgLedgerNano, {\n    className: 'mb-4'\n  }), React__default.createElement(\"h4\", {\n    className: 'mb-4'\n  }, \"Connect Ledger\"), React__default.createElement(\"p\", {\n    className: 'lead mb-4'\n  }, \"Unlock your device & open the Elrond App.\")), React__default.createElement(\"div\", null, error && React__default.createElement(\"p\", {\n    className: 'text-danger d-flex justify-content-center align-items-center'\n  }, error), React__default.createElement(\"button\", {\n    className: 'btn btn-primary px-4',\n    onClick: onClick,\n    \"data-testid\": 'connectBtn'\n  }, \"Connect Ledger\")))));\n};\n\nvar ledgerWaitingText$1 = 'Waiting for device';\n\nfunction LedgerLoginContainer(_ref) {\n  var callbackRoute = _ref.callbackRoute,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'login-modal-content' : _ref$className,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$wrapContentInsid = _ref.wrapContentInsideModal,\n      wrapContentInsideModal = _ref$wrapContentInsid === void 0 ? true : _ref$wrapContentInsid,\n      redirectAfterLogin = _ref.redirectAfterLogin,\n      onClose = _ref.onClose,\n      token = _ref.token;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    spinner: 'fa-spin text-primary'\n  });\n\n  var _useGetAccountInfo = useGetAccountInfo(),\n      ledgerAccount = _useGetAccountInfo.ledgerAccount;\n\n  var _useLedgerLogin = useLedgerLogin({\n    callbackRoute: callbackRoute,\n    token: token,\n    redirectAfterLogin: redirectAfterLogin\n  }),\n      onStartLogin = _useLedgerLogin[0],\n      _useLedgerLogin$ = _useLedgerLogin[1],\n      error = _useLedgerLogin$.error,\n      isLoading = _useLedgerLogin$.isLoading,\n      _useLedgerLogin$2 = _useLedgerLogin[2],\n      showAddressList = _useLedgerLogin$2.showAddressList,\n      accounts = _useLedgerLogin$2.accounts,\n      onGoToPrevPage = _useLedgerLogin$2.onGoToPrevPage,\n      onGoToNextPage = _useLedgerLogin$2.onGoToNextPage,\n      onSelectAddress = _useLedgerLogin$2.onSelectAddress,\n      onConfirmSelectedAddress = _useLedgerLogin$2.onConfirmSelectedAddress,\n      startIndex = _useLedgerLogin$2.startIndex,\n      selectedAddress = _useLedgerLogin$2.selectedAddress;\n\n  function getContent() {\n    if (isLoading) {\n      return React__default.createElement(PageState$1, {\n        icon: icons.faCircleNotch,\n        iconClass: generatedClasses.spinner,\n        title: ledgerWaitingText$1\n      });\n    }\n\n    if (ledgerAccount != null && !error) {\n      return React__default.createElement(ConfirmAddress, {\n        token: token\n      });\n    }\n\n    if (showAddressList && !error) {\n      return React__default.createElement(AddressTable, {\n        accounts: accounts,\n        loading: isLoading,\n        className: className,\n        shouldRenderDefaultCss: shouldRenderDefaultCss,\n        onGoToNextPage: onGoToNextPage,\n        onGoToPrevPage: onGoToPrevPage,\n        onSelectAddress: onSelectAddress,\n        startIndex: startIndex,\n        selectedAddress: selectedAddress === null || selectedAddress === void 0 ? void 0 : selectedAddress.address,\n        onConfirmSelectedAddress: onConfirmSelectedAddress\n      });\n    }\n\n    return React__default.createElement(LedgerConnect, {\n      onClick: onStartLogin,\n      error: error\n    });\n  }\n\n  return wrapContentInsideModal ? React__default.createElement(ModalContainer, {\n    title: 'Login with ledger',\n    className: className,\n    onClose: onClose\n  }, getContent()) : getContent();\n}\n\nvar LedgerLoginContainer$1 = withClassNameWrapper(LedgerLoginContainer);\n\nvar LedgerLoginButton = function LedgerLoginButton(_ref) {\n  var token = _ref.token,\n      callbackRoute = _ref.callbackRoute,\n      children = _ref.children,\n      _ref$loginButtonText = _ref.loginButtonText,\n      loginButtonText = _ref$loginButtonText === void 0 ? 'Ledger' : _ref$loginButtonText,\n      buttonClassName = _ref.buttonClassName,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'ledger-login' : _ref$className,\n      _ref$redirectAfterLog = _ref.redirectAfterLogin,\n      redirectAfterLogin = _ref$redirectAfterLog === void 0 ? false : _ref$redirectAfterLog,\n      _ref$wrapContentInsid = _ref.wrapContentInsideModal,\n      wrapContentInsideModal = _ref$wrapContentInsid === void 0 ? true : _ref$wrapContentInsid,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa;\n\n  var _React$useState = React__default.useState(false),\n      showLoginModal = _React$useState[0],\n      setShowLoginModal = _React$useState[1];\n\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: \"btn btn-primary px-sm-4 m-1 mx-sm-3 \" + (buttonClassName != null ? buttonClassName : ''),\n    loginText: 'text-left'\n  });\n\n  function handleOpenModal() {\n    setShowLoginModal(true);\n  }\n\n  function handleCloseModal() {\n    setShowLoginModal(false);\n  }\n\n  return React__default.createElement(\"span\", {\n    className: wrapperClassName\n  }, React__default.createElement(\"button\", {\n    onClick: handleOpenModal,\n    className: generatedClasses.wrapper\n  }, children || React__default.createElement(\"span\", {\n    className: generatedClasses.loginText\n  }, loginButtonText)), showLoginModal && React__default.createElement(LedgerLoginContainer$1, {\n    className: className,\n    shouldRenderDefaultCss: shouldRenderDefaultCss,\n    callbackRoute: callbackRoute,\n    token: token,\n    wrapContentInsideModal: wrapContentInsideModal,\n    redirectAfterLogin: redirectAfterLogin,\n    onClose: handleCloseModal\n  }));\n};\n\nvar LedgerLoginButton$1 = withClassNameWrapper(LedgerLoginButton);\n\nvar _notificationTypesToI;\n\nvar notificationTypesToIcons = (_notificationTypesToI = {}, _notificationTypesToI[NotificationTypesEnum.warning] = icons.faExclamationTriangle, _notificationTypesToI);\nvar defaultIcon = icons.faExclamationTriangle;\n\nfunction NotificationModal() {\n  var _useGetNotification = useGetNotification(),\n      notification = _useGetNotification.notification,\n      clearNotification = _useGetNotification.clearNotification;\n\n  var showModal = Boolean(notification);\n\n  var onDone = function onDone() {\n    clearNotification();\n  };\n\n  var icon = notification ? notificationTypesToIcons[notification === null || notification === void 0 ? void 0 : notification.type] || defaultIcon : null;\n  return notification ? React__default.createElement(ReactBootstrap$1.Modal, {\n    show: showModal,\n    backdrop: true,\n    onHide: notification,\n    className: \"modal-container \" + wrapperClassName,\n    animation: false,\n    centered: true\n  }, React__default.createElement(\"div\", {\n    className: 'card w-100 notification-modal'\n  }, React__default.createElement(PageState$1, {\n    icon: icon,\n    iconClass: notification.iconClassName,\n    iconBgClass: 'p-4 rounded-bg-circle',\n    iconSize: '3x',\n    title: notification.title,\n    description: notification.description,\n    action: React__default.createElement(\"button\", {\n      className: 'btn btn-primary',\n      onClick: onDone\n    }, \"Done\")\n  }))) : null;\n}\n\nvar useGetLoginInfo$1 = function useGetLoginInfo() {\n  var loginInfo = useSelector(loginInfoSelector);\n  return _extends({}, loginInfo, {\n    isLoggedIn: (loginInfo === null || loginInfo === void 0 ? void 0 : loginInfo.loginMethod) != ''\n  });\n};\n\nvar SignWithExtensionModal = function SignWithExtensionModal(_ref) {\n  var handleClose = _ref.handleClose,\n      error = _ref.error,\n      callbackRoute = _ref.callbackRoute,\n      transactions = _ref.transactions,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'extension-modal' : _ref$className;\n  var classes = getGeneratedClasses(className, true, {\n    wrapper: 'modal-container extension',\n    icon: 'text-white',\n    closeBtn: 'btn btn-close-link mt-2'\n  });\n  var description = error ? error : transactions && transactions.length > 1 ? 'Check your Elrond Wallet Extension to sign the transactions' : 'Check your Elrond Wallet Extension to sign the transaction';\n\n  var close = function close(e) {\n    e.preventDefault();\n    handleClose();\n\n    if (callbackRoute != null && !window.location.pathname.includes(callbackRoute)) {\n      window.location.href = callbackRoute;\n    }\n  };\n\n  return React__default.createElement(ReactBootstrap$1.Modal, {\n    show: true,\n    backdrop: 'static',\n    onHide: handleClose,\n    className: classnames$1(classes.wrapper, wrapperClassName),\n    animation: false,\n    centered: true\n  }, React__default.createElement(PageState$1, {\n    icon: error ? icons.faTimes : icons.faHourglass,\n    iconClass: classes.icon,\n    className: className,\n    iconBgClass: error ? 'bg-danger' : 'bg-warning',\n    iconSize: '3x',\n    title: 'Confirm on Maiar DeFi Wallet',\n    description: description,\n    action: React__default.createElement(\"button\", {\n      id: 'closeButton',\n      \"data-testid\": 'closeButton',\n      onClick: close,\n      className: classes.closeBtn\n    }, \"Close\")\n  }));\n};\n\nvar _g$1;\n\nfunction _extends$2() {\n  _extends$2 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$2.apply(this, arguments);\n}\n\nfunction SvgEgld(props) {\n  return /*#__PURE__*/createElement(\"svg\", _extends$2({\n    viewBox: \"0 0 100 100\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, props), _g$1 || (_g$1 = /*#__PURE__*/createElement(\"g\", {\n    fillRule: \"nonzero\"\n  }, /*#__PURE__*/createElement(\"path\", {\n    d: \"M79.6 19.424c-.4-.438-.6-.877-.6-1.425 0-.547.2-.986.6-1.424.8-.767 2-.767 2.8 0 .4.438.6.877.6 1.424 0 .548-.2.987-.6 1.425-.4.329-.9.548-1.4.548-.5.11-1-.11-1.4-.548M74.556 24.448c-.333-.441-.556-.883-.556-1.435s.223-.993.556-1.434c.778-.772 2.111-.772 2.889 0 .333.441.555.883.555 1.435s-.222.993-.555 1.434C77 24.779 76.556 25 76 25s-1-.221-1.445-.552M69.556 30.448c-.333-.331-.556-.883-.556-1.435s.223-.993.556-1.434c.778-.772 2.111-.772 2.889 0 .333.331.555.883.555 1.435s-.222.993-.555 1.434C72 30.889 71.556 31 71 31s-1.112-.221-1.445-.552M64.6 35.448c-.4-.331-.6-.883-.6-1.435s.2-.993.6-1.434c.8-.772 2-.772 2.8 0 .4.331.6.883.6 1.435s-.2 1.103-.6 1.434c-.4.441-.9.552-1.4.552s-1-.11-1.4-.552M59.556 40.424c-.444-.329-.556-.877-.556-1.425 0-.547.223-.986.556-1.424.778-.767 2.111-.767 2.889 0 .444.329.555.877.555 1.424 0 .548-.222 1.096-.555 1.425-.333.438-.889.548-1.445.548a1.457 1.457 0 01-1.444-.548M53 44.014c0-.552.222-.993.556-1.435.777-.772 2.11-.772 2.888 0 .445.442.556.883.556 1.435s-.222.993-.556 1.435c-.333.33-.888.551-1.444.551s-1-.22-1.444-.551c-.334-.332-.556-.883-.556-1.435zM43.556 56.424c-.333-.329-.556-.877-.556-1.425 0-.547.223-.986.556-1.424.778-.767 2.111-.767 2.889 0 .444.438.555.877.555 1.424 0 .548-.222.987-.555 1.425-.333.438-.889.548-1.445.548-.555.11-1-.11-1.444-.548M38.6 61.424c-.4-.329-.6-.877-.6-1.425 0-.547.2-.986.6-1.424.8-.767 2-.767 2.8 0 .4.438.6.877.6 1.424 0 .548-.2.987-.6 1.425-.4.438-.9.548-1.4.548-.5.11-1-.11-1.4-.548M33.556 66.448c-.333-.331-.556-.883-.556-1.435s.223-1.103.556-1.434c.778-.772 2.111-.772 2.889 0 .333.331.555.883.555 1.434s-.222.994-.555 1.435C36 66.889 35.556 67 35 67s-1-.221-1.444-.552M27.556 71.448c-.444-.331-.556-.883-.556-1.435s.223-.993.556-1.434c.778-.772 2.111-.772 2.889 0 .333.441.555.883.555 1.435s-.222 1.103-.555 1.434C30 71.889 29.556 72 29 72s-1.112-.11-1.445-.552M22.615 76.448c-.41-.331-.615-.883-.615-1.435s.205-.993.615-1.434c.82-.772 2.051-.772 2.77 0 .41.441.615.883.615 1.435s-.206 1.103-.616 1.434c-.41.331-.923.552-1.436.552-.513 0-1.025-.11-1.333-.552M17.556 82.424c-.444-.438-.556-.877-.556-1.425 0-.547.223-.986.556-1.424.778-.767 2.111-.767 2.889 0 .444.438.555.877.555 1.425 0 .547-.222.986-.555 1.424-.333.329-.889.548-1.444.548-.445.11-1-.11-1.445-.548M20.444 19.424c.333-.438.556-.877.556-1.425 0-.547-.223-.986-.556-1.424-.778-.767-2.111-.767-2.889 0-.444.438-.555.877-.555 1.424 0 .548.222.987.555 1.425.333.329.889.548 1.444.548.556.11 1.112-.11 1.445-.548M25.4 24.448c.4-.441.6-.883.6-1.435s-.2-.993-.6-1.434c-.8-.772-2-.772-2.8 0-.4.441-.6.883-.6 1.435s.2.993.6 1.434c.4.331.9.552 1.4.552s1-.221 1.4-.552M30.444 30.448c.333-.331.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.333.331-.555.883-.555 1.435s.222.993.555 1.434C28 30.889 28.444 31 29 31c.445 0 1-.221 1.445-.552M36.444 35.448c.333-.331.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.333.331-.555.883-.555 1.435s.222 1.103.555 1.434C34 35.889 34.444 36 35 36c.444 0 1-.11 1.444-.552M41.385 40.424c.41-.329.615-.877.615-1.425 0-.547-.205-.986-.615-1.424-.718-.767-2.051-.767-2.77 0-.41.329-.615.877-.615 1.424 0 .548.206 1.096.616 1.425.41.438.923.548 1.436.548.513.11 1.025-.11 1.333-.548M47 44.014c0-.552-.222-.993-.556-1.435-.777-.772-2.11-.772-2.888 0-.445.442-.556.883-.556 1.435s.222.993.556 1.435c.333.33.888.551 1.444.551s1-.22 1.444-.551c.445-.332.556-.883.556-1.435zM51.444 51.448c.444-.441.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.444.441-.555.883-.555 1.435s.222.993.555 1.434c.333.331.889.552 1.445.552s1.11-.221 1.444-.552M56.385 56.424c.41-.329.615-.877.615-1.425 0-.547-.205-.986-.615-1.424-.82-.767-2.051-.767-2.77 0-.41.438-.615.877-.615 1.424 0 .548.206.987.616 1.425.41.438.923.548 1.436.548.41.11.923-.11 1.333-.548M62.444 61.424c.333-.329.556-.877.556-1.425 0-.547-.223-.986-.556-1.424-.778-.767-2.111-.767-2.889 0-.333.438-.555.877-.555 1.424 0 .548.222.987.555 1.425.445.438.889.548 1.445.548.444.11 1-.11 1.444-.548M67.444 66.448c.333-.331.556-.883.556-1.435s-.223-1.103-.556-1.434c-.778-.772-2.111-.772-2.889 0-.333.331-.555.883-.555 1.434s.222.994.555 1.435C65 66.889 65.444 67 66 67s1-.221 1.445-.552M72.444 71.448c.444-.331.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.333.441-.555.883-.555 1.435s.222 1.103.555 1.434C70 71.889 70.444 72 71 72s1.112-.11 1.445-.552M77.444 76.448c.444-.331.556-.883.556-1.435s-.223-.993-.556-1.434c-.778-.772-2.111-.772-2.889 0-.444.441-.555.883-.555 1.435s.222 1.103.555 1.434c.333.331.889.552 1.444.552s1.112-.11 1.445-.552M82.385 82.424c.41-.438.615-.877.615-1.425 0-.547-.205-.986-.615-1.424-.82-.767-2.051-.767-2.77 0-.41.438-.615.877-.615 1.425 0 .547.206.986.616 1.424.41.329.923.548 1.436.548.41.11.923-.11 1.333-.548M33.036 21c5.265-3.433 11.036-5.048 17.414-5.149 6.277 0 12.048 1.716 17.414 5.149L79.001 9.894C70.294 3.331 60.878 0 50.45 0 40.022 0 30.505 3.332 22.001 9.894L33.037 21zM21 66.742c-3.585-5.375-5.327-11.157-5.327-17.343 0-6.288 1.742-12.069 5.327-17.343L9.834 21.001C3.278 29.521 0 38.953 0 49.501c0 10.345 3.278 19.879 9.937 28.5L21 66.743zM67.964 78c-5.265 3.533-11.036 5.35-17.313 5.451-6.378 0-12.25-1.716-17.515-5.35L21.999 89.105c8.606 6.663 18.123 9.994 28.652 9.893 10.428-.1 19.844-3.432 28.348-9.893L67.963 78zM79 32.258c3.533 5.375 5.35 11.258 5.25 17.648-.102 6.187-1.818 11.867-5.25 17.039L90.105 78c6.562-8.52 9.893-17.952 9.893-28.297.101-10.548-3.23-20.082-9.893-28.703L79 32.258zM90 81c4.364 0 8 3.533 8 8 0 4.364-3.533 8-8 8-4.364 0-8-3.533-8-8s3.533-8 8-8M10 81c4.421 0 8 3.533 8 8 0 4.364-3.579 8-8 8-4.421 0-8-3.533-8-8s3.579-8 8-8M90 1c4.421 0 8 3.533 8 8 0 4.468-3.579 8-8 8s-8-3.533-8-8c0-4.468 3.579-8 8-8M10 1c4.364 0 8 3.579 8 8 0 4.421-3.533 8-8 8-4.364 0-8-3.579-8-8 0-4.421 3.533-8 8-8\"\n  }))));\n}\n\nvar Simple = function Simple(_ref) {\n  var children = _ref.children;\n  return createElement(\"div\", {\n    className: 'token-symbol'\n  }, children);\n};\n\nvar Combined = function Combined(_ref2) {\n  var small = _ref2.small,\n      children = _ref2.children;\n  return createElement(\"div\", {\n    className: \"token-symbol-combined \" + (small ? 'small' : '')\n  }, children);\n};\n\nvar getIdentifierWithoutNonce = function getIdentifierWithoutNonce(identifier) {\n  var tokenParts = identifier.split('-');\n  return identifier.includes('-') ? tokenParts[0] + \"-\" + tokenParts[1] : identifier;\n};\n\nvar getDetails = function getDetails(token) {\n  var egldLabel = getEgldLabel();\n  var isEgldTransfer = token === egldLabel;\n  return {\n    token: token,\n    symbol: token ? token.split('-')[0] : '',\n    label: token,\n    icon: function icon() {\n      return isEgldTransfer ? createElement(SvgEgld, null) : createElement(ReactFontawesome$1.FontAwesomeIcon, {\n        icon: icons.faGem\n      });\n    }\n  };\n};\n\nvar TokenDetails = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TokenDetails, _React$Component);\n\n  function TokenDetails() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = TokenDetails.prototype;\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return TokenDetails;\n}(Component);\n\nTokenDetails.Token = function (props) {\n  return createElement(Fragment, null, props.token);\n};\n\nTokenDetails.Symbol = function (props) {\n  return createElement(Fragment, null, getDetails(getIdentifierWithoutNonce(props.token)).symbol);\n};\n\nTokenDetails.Label = function (props) {\n  return createElement(Fragment, null, getDetails(getIdentifierWithoutNonce(props.token)).label);\n};\n\nTokenDetails.Icon = function (props) {\n  var Component = process.env.NODE_ENV !== 'test' ? getDetails(getIdentifierWithoutNonce(props.token)).icon : function () {\n    return null;\n  };\n  return createElement(\"span\", {\n    className: wrapperClassName\n  }, props.combined ? createElement(Combined, {\n    small: props.small\n  }, createElement(Component, null)) : createElement(Simple, null, createElement(Component, null)));\n};\n\nvar allOccurences = function allOccurences(sourceStr, searchStr) {\n  return [].concat(sourceStr.matchAll(new RegExp(searchStr, 'gi'))).map(function (a) {\n    return a.index;\n  });\n};\n\nvar TransactionData = function TransactionData(_ref) {\n  var data = _ref.data,\n      highlight = _ref.highlight,\n      isScCall = _ref.isScCall;\n  var output = createElement(Fragment, null, data);\n\n  var _ref2 = highlight && isScCall ? highlight.split('@') : [],\n      encodedScCall = _ref2[0],\n      remainingDataFields = _ref2.slice(1);\n\n  if (data && highlight && allOccurences(data, highlight).length === 1) {\n    switch (true) {\n      case data.startsWith(highlight):\n        {\n          var _data$split = data.split(highlight),\n              rest = _data$split[1];\n\n          output = createElement(Fragment, null, highlight, createElement(\"span\", {\n            className: 'text-muted'\n          }, rest));\n          break;\n        }\n\n      case data.endsWith(highlight):\n        {\n          var _data$split2 = data.split(highlight),\n              _rest = _data$split2[0];\n\n          output = createElement(Fragment, null, createElement(\"span\", {\n            className: 'text-muted'\n          }, _rest), highlight);\n          break;\n        }\n\n      default:\n        {\n          var _data$split3 = data.split(highlight),\n              start = _data$split3[0],\n              end = _data$split3[1];\n\n          output = createElement(Fragment, null, createElement(\"span\", {\n            className: 'text-muted'\n          }, start), createElement(\"span\", {\n            className: 'highlighted'\n          }, highlight), createElement(\"span\", {\n            className: 'text-muted'\n          }, end));\n          break;\n        }\n    }\n  }\n\n  return createElement(Fragment, null, encodedScCall && createElement(\"div\", {\n    className: 'form-group mb-0 data-field mw-100'\n  }, createElement(\"span\", {\n    className: 'form-label text-secondary d-block'\n  }, \"SC Call\"), createElement(\"div\", {\n    \"data-testid\": 'confirmScCall',\n    className: 'textarea sc-call form-control cursor-text mt-1 text-break-all'\n  }, [decodePart(encodedScCall)].concat(remainingDataFields).join('@'))), createElement(\"div\", {\n    className: 'form-group mb-0 data-field mw-100'\n  }, createElement(\"span\", {\n    className: 'form-label text-secondary d-block'\n  }, \"Data\"), createElement(\"div\", {\n    \"data-testid\": 'confirmData',\n    className: 'textarea form-control cursor-text mt-1 text-break-all'\n  }, data ? output : 'N/A')));\n};\n\nvar TransactionData$1 = withClassNameWrapper(TransactionData);\n\nvar SignStep = function SignStep(_ref) {\n  var onSignTransaction = _ref.onSignTransaction,\n      handleClose = _ref.handleClose,\n      onPrev = _ref.onPrev,\n      _ref$title = _ref.title,\n      title = _ref$title === void 0 ? 'Confirm on Ledger' : _ref$title,\n      waitingForDevice = _ref.waitingForDevice,\n      currentTransaction = _ref.currentTransaction,\n      error = _ref.error,\n      isLastTransaction = _ref.isLastTransaction,\n      currentStep = _ref.currentStep,\n      className = _ref.className;\n  var egldLabel = getEgldLabel();\n  var transactionData = currentTransaction.transaction.getData().toString();\n\n  var _useGetNetworkConfig = useGetNetworkConfig(),\n      network = _useGetNetworkConfig.network;\n\n  var _currentTransaction$t = currentTransaction.transactionTokenInfo,\n      tokenId = _currentTransaction$t.tokenId,\n      amount = _currentTransaction$t.amount,\n      type = _currentTransaction$t.type,\n      multiTxData = _currentTransaction$t.multiTxData,\n      receiver = _currentTransaction$t.receiver;\n  var isTokenTransaction = Boolean(tokenId && isTokenTransfer({\n    tokenId: tokenId,\n    erdLabel: egldLabel\n  }));\n\n  var onCloseClick = function onCloseClick(e) {\n    e.preventDefault();\n\n    if (isFirst) {\n      handleClose();\n    } else {\n      onPrev();\n    }\n  };\n\n  var continueWithoutSigning = type && multiTxData && !transactionData.endsWith(multiTxData);\n  var signBtnLabel = 'Sign & Continue';\n  signBtnLabel = waitingForDevice ? 'Check your Ledger' : signBtnLabel;\n  signBtnLabel = isLastTransaction && !waitingForDevice ? 'Sign & Submit' : signBtnLabel;\n  signBtnLabel = continueWithoutSigning ? 'Continue' : signBtnLabel;\n  var isFirst = currentStep === 0;\n\n  var _useGetTokenDetails = useGetTokenDetails({\n    tokenId: currentTransaction.transactionTokenInfo.tokenId\n  }),\n      tokenDenomination = _useGetTokenDetails.tokenDenomination;\n\n  var denominatedAmount = denominate({\n    input: isTokenTransaction ? amount : currentTransaction.transaction.getValue().toString(),\n    denomination: isTokenTransaction ? tokenDenomination : Number(network.egldDenomination),\n    decimals: Number(network.decimals),\n    showLastNonZeroDecimal: false,\n    addCommas: true\n  });\n  var classes = getGeneratedClasses(className, true, {\n    formGroup: 'form-group text-left',\n    formLabel: 'form-label text-secondary',\n    icon: 'text-white',\n    contentWrapper: 'd-flex flex-column justify-content-start flex-md-row justify-content-md-between mb-3',\n    tokenWrapper: 'mb-3 mb-md-0 d-flex flex-column align-items-start',\n    tokenLabel: 'text-secondary text-left',\n    tokenValue: 'd-flex align-items-center mt-1',\n    tokenAmountLabel: 'text-secondary text-left',\n    tokenAmountValue: 'd-flex align-items-center',\n    dataFormGroup: 'form-group text-left',\n    errorMessage: 'text-danger d-flex justify-content-center align-items-center',\n    buttonsWrapper: 'd-flex align-items-center justify-content-end mt-spacer',\n    cancelButton: 'btn btn-dark text-white flex-even mr-2',\n    signButton: 'btn btn-primary flex-even ml-2'\n  });\n  return React__default.createElement(PageState$1, {\n    icon: error ? icons.faTimes : icons.faHourglass,\n    iconClass: classes.icon,\n    iconBgClass: error ? 'bg-danger' : 'bg-warning',\n    iconSize: '3x',\n    className: className,\n    title: title,\n    description: React__default.createElement(React__default.Fragment, null, currentTransaction.transaction && React__default.createElement(React__default.Fragment, null, React__default.createElement(\"div\", {\n      className: classes.formGroup,\n      \"data-testid\": 'transactionTitle'\n    }, React__default.createElement(\"div\", {\n      className: classes.formLabel\n    }, \"To: \"), multiTxData ? new Address$1(receiver).bech32() : currentTransaction.transaction.getReceiver().toString()), React__default.createElement(\"div\", {\n      className: classes.contentWrapper\n    }, React__default.createElement(\"div\", {\n      className: classes.tokenWrapper\n    }, React__default.createElement(\"div\", {\n      className: classes.tokenlabel\n    }, \"Token\"), React__default.createElement(\"div\", {\n      className: classes.tokenValue\n    }, React__default.createElement(TokenDetails.Icon, {\n      token: tokenId || egldLabel\n    }), React__default.createElement(\"div\", {\n      className: 'mr-1'\n    }), React__default.createElement(TokenDetails.Label, {\n      token: tokenId || egldLabel\n    }))), React__default.createElement(\"div\", null, React__default.createElement(\"div\", {\n      className: classes.tokenAmountLabel\n    }, \"Amount\"), React__default.createElement(\"div\", {\n      className: classes.tokenAmountValue\n    }, React__default.createElement(\"div\", {\n      className: 'mr-1'\n    }, denominatedAmount), React__default.createElement(TokenDetails.Symbol, {\n      token: tokenId || egldLabel\n    })))), React__default.createElement(\"div\", {\n      className: classes.dataFormGroup\n    }, currentTransaction.transaction.getData() && React__default.createElement(TransactionData$1, Object.assign({}, {\n      data: currentTransaction.transaction.getData().toString(),\n      highlight: multiTxData,\n      isScCall: !tokenId\n    }))), error && React__default.createElement(\"p\", {\n      className: classes.errorMessage\n    }, error))),\n    action: React__default.createElement(\"div\", {\n      className: classes.buttonsWrapper\n    }, React__default.createElement(\"button\", {\n      id: 'closeButton',\n      \"data-testid\": 'closeButton',\n      onClick: onCloseClick,\n      className: classes.cancelButton\n    }, isFirst ? 'Cancel' : 'Back'), React__default.createElement(\"button\", {\n      type: 'button',\n      className: classes.signButton,\n      id: 'signBtn',\n      \"data-testid\": 'signBtn',\n      onClick: onSignTransaction,\n      disabled: waitingForDevice\n    }, signBtnLabel))\n  });\n};\n\nvar SignWithLedgerModal = function SignWithLedgerModal(_ref) {\n  var handleClose = _ref.handleClose,\n      error = _ref.error,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'ledger-modal' : _ref$className;\n\n  var _useSignTransactionsW = useSignTransactionsWithLedger({\n    onCancel: handleClose\n  }),\n      onSignTransaction = _useSignTransactionsW.onSignTransaction,\n      onNext = _useSignTransactionsW.onNext,\n      onPrev = _useSignTransactionsW.onPrev,\n      allTransactions = _useSignTransactionsW.allTransactions,\n      waitingForDevice = _useSignTransactionsW.waitingForDevice,\n      onAbort = _useSignTransactionsW.onAbort,\n      isLastTransaction = _useSignTransactionsW.isLastTransaction,\n      currentStep = _useSignTransactionsW.currentStep,\n      callbackRoute = _useSignTransactionsW.callbackRoute,\n      currentTransaction = _useSignTransactionsW.currentTransaction;\n\n  var classes = getGeneratedClasses(className, true, {\n    wrapper: 'modal-container wallet-connect',\n    container: 'card container',\n    cardBody: 'card-body'\n  });\n  return React__default.createElement(ReactBootstrap$1.Modal, {\n    show: currentTransaction != null,\n    backdrop: 'static',\n    onHide: handleClose,\n    className: classnames$1(classes.wrapper, wrapperClassName),\n    animation: false,\n    centered: true\n  }, React__default.createElement(\"div\", {\n    className: classes.container\n  }, React__default.createElement(\"div\", {\n    className: classes.cardBody\n  }, React__default.createElement(SignStep, Object.assign({}, {\n    onSignTransaction: onSignTransaction,\n    onNext: onNext,\n    onPrev: onPrev,\n    allTransactions: allTransactions,\n    waitingForDevice: waitingForDevice,\n    isLastTransaction: isLastTransaction,\n    currentStep: currentStep,\n    callbackRoute: callbackRoute,\n    currentTransaction: currentTransaction,\n    handleClose: onAbort,\n    className: className,\n    error: error\n  })))));\n};\n\nvar SignWithWalletConnectModal = function SignWithWalletConnectModal(_ref) {\n  var error = _ref.error,\n      handleClose = _ref.handleClose,\n      callbackRoute = _ref.callbackRoute,\n      transactions = _ref.transactions,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'wallet-connect-modal' : _ref$className;\n  var classes = getGeneratedClasses(className, true, {\n    wrapper: 'modal-container wallet-connect',\n    icon: 'text-white',\n    closeBtn: 'btn btn-close-link mt-2'\n  });\n  var hasMultipleTransactions = transactions && (transactions === null || transactions === void 0 ? void 0 : transactions.length) > 1;\n  var description = error ? error : \"Check your phone to sign the transaction\" + (hasMultipleTransactions ? 's' : '');\n\n  var close = function close(e) {\n    e.preventDefault();\n    handleClose();\n\n    if (callbackRoute != null && !window.location.pathname.includes(callbackRoute)) {\n      window.location.href = callbackRoute;\n    }\n  };\n\n  return React__default.createElement(ReactBootstrap$1.Modal, {\n    show: true,\n    backdrop: 'static',\n    onHide: close,\n    className: classnames$1(classes.wrapper, wrapperClassName),\n    animation: false,\n    centered: true\n  }, React__default.createElement(PageState$1, {\n    icon: error ? icons.faTimes : icons.faHourglass,\n    iconClass: classes.icon,\n    className: className,\n    iconBgClass: error ? 'bg-danger' : 'bg-warning',\n    iconSize: '3x',\n    title: 'Confirm on Maiar',\n    description: description,\n    action: React__default.createElement(\"button\", {\n      id: 'closeButton',\n      \"data-testid\": 'closeButton',\n      onClick: close,\n      className: classes.closeBtn\n    }, \"Close\")\n  }));\n};\n\nfunction SignTransactionsModals(_ref) {\n  var className = _ref.className,\n      CustomConfirmScreens = _ref.CustomConfirmScreens;\n\n  var _useSignTransactions = useSignTransactions(),\n      callbackRoute = _useSignTransactions.callbackRoute,\n      transactions = _useSignTransactions.transactions,\n      error = _useSignTransactions.error,\n      sessionId = _useSignTransactions.sessionId,\n      onAbort = _useSignTransactions.onAbort,\n      hasTransactions = _useSignTransactions.hasTransactions;\n\n  var _useGetAccountProvide = useGetAccountProvider(),\n      providerType = _useGetAccountProvide.providerType;\n\n  var signTransactionsError = useGetSignTransactionsError();\n\n  var _useGetLoginInfo = useGetLoginInfo$1(),\n      loginMethod = _useGetLoginInfo.loginMethod;\n\n  var handleClose = function handleClose() {\n    onAbort(sessionId);\n  };\n\n  var signError = error || signTransactionsError;\n  var signProps = {\n    handleClose: handleClose,\n    error: signError,\n    sessionId: sessionId,\n    transactions: transactions,\n    providerType: providerType,\n    callbackRoute: callbackRoute,\n    className: className\n  };\n\n  if (signError || hasTransactions) {\n    switch (loginMethod) {\n      case LoginMethodsEnum.ledger:\n        return CustomConfirmScreens !== null && CustomConfirmScreens !== void 0 && CustomConfirmScreens.Ledger ? React__default.createElement(CustomConfirmScreens.Ledger, Object.assign({}, signProps)) : React__default.createElement(SignWithLedgerModal, Object.assign({}, signProps));\n\n      case LoginMethodsEnum.walletconnect:\n        return CustomConfirmScreens !== null && CustomConfirmScreens !== void 0 && CustomConfirmScreens.WalletConnect ? React__default.createElement(CustomConfirmScreens.WalletConnect, Object.assign({}, signProps)) : React__default.createElement(SignWithWalletConnectModal, Object.assign({}, signProps));\n\n      case LoginMethodsEnum.extension:\n        return CustomConfirmScreens !== null && CustomConfirmScreens !== void 0 && CustomConfirmScreens.Extension ? React__default.createElement(CustomConfirmScreens.Extension, Object.assign({}, signProps)) : React__default.createElement(SignWithExtensionModal, Object.assign({}, signProps));\n\n      case LoginMethodsEnum.extra:\n        return CustomConfirmScreens !== null && CustomConfirmScreens !== void 0 && CustomConfirmScreens.Extra ? React__default.createElement(CustomConfirmScreens.Extra, Object.assign({}, signProps)) : null;\n\n      default:\n        return null;\n    }\n  }\n\n  return null;\n}\n\nvar index$4 = withClassNameWrapper(SignTransactionsModals);\nvar SessionStorageKeysEnum;\n\n(function (SessionStorageKeysEnum) {\n  SessionStorageKeysEnum[\"toasts\"] = \"toasts\";\n})(SessionStorageKeysEnum || (SessionStorageKeysEnum = {}));\n\nfunction setToastsIdsToStorage(ids) {\n  return sessionStorage.setItem(SessionStorageKeysEnum.toasts, JSON.stringify(ids));\n}\n\nfunction getToastsIdsFromStorage() {\n  var toastsIds = sessionStorage.getItem(SessionStorageKeysEnum.toasts);\n  return toastsIds != null ? JSON.parse(toastsIds) : [];\n}\n\nfunction isCrossShardTransaction(_ref) {\n  var receiverAddress = _ref.receiverAddress,\n      senderShard = _ref.senderShard,\n      senderAddress = _ref.senderAddress;\n\n  try {\n    var receiver = new Address$1(receiverAddress);\n    var receiverShard = getShardOfAddress(receiver.pubkey());\n\n    if (senderShard == null && senderAddress != null) {\n      var sender = new Address$1(senderAddress);\n      return getShardOfAddress(sender) === receiverShard;\n    }\n\n    return receiverShard === senderShard;\n  } catch (err) {\n    return false;\n  }\n}\n\nvar IconState = function IconState(_ref) {\n  var icon = _ref.icon,\n      _ref$iconSize = _ref.iconSize,\n      iconSize = _ref$iconSize === void 0 ? '3x' : _ref$iconSize,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'icon-state' : _ref$className,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: classnames$1('icon-state mx-auto', className, {\n      half: iconSize === '2x'\n    }),\n    icon: classnames$1('text-white', className)\n  });\n  return React__default.createElement(\"span\", {\n    className: generatedClasses.wrapper\n  }, React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    icon: icon,\n    size: iconSize,\n    className: generatedClasses.icon\n  }));\n};\n\nvar IconState$1 = withClassNameWrapper(IconState);\n\nvar Progress = function Progress(_ref) {\n  var id = _ref.id,\n      children = _ref.children,\n      progress = _ref.progress,\n      done = _ref.done;\n  var ref = React__default.useRef(null);\n  var intervalRef = React__default.useRef();\n\n  var removeTxFromSession = function removeTxFromSession() {\n    var toastProgress = storage$1.getItem('toastProgress');\n    var hasSessionStoredTx = Boolean(toastProgress[id]);\n\n    if (!hasSessionStoredTx) {\n      return;\n    }\n\n    var expires = moment$1().add(10, 'minutes').unix();\n    delete toastProgress[id];\n    storage$1.setItem({\n      key: 'toastProgress',\n      data: toastProgress,\n      expires: expires\n    });\n  };\n\n  var saveToSession = function saveToSession(_ref2) {\n    var value = _ref2.value;\n    var toastProgress = storage$1.getItem('toastProgress') || {};\n    toastProgress[id] = value;\n    storage$1.setItem({\n      key: 'toastProgress',\n      data: toastProgress,\n      expires: moment$1().add(10, 'minutes').unix()\n    });\n  };\n\n  var getInitialData = function getInitialData() {\n    var totalSeconds = progress ? progress.endTime - progress.startTime : 0;\n    var toastProgress = storage$1.getItem('toastProgress');\n    var remaining = progress ? (progress.endTime - moment$1().unix()) * 100 / totalSeconds : 0;\n    var currentRemaining = toastProgress && id in toastProgress ? toastProgress[id] : remaining;\n    return {\n      currentRemaining: currentRemaining,\n      totalSeconds: totalSeconds\n    };\n  };\n\n  var _getInitialData = getInitialData(),\n      totalSeconds = _getInitialData.totalSeconds,\n      currentRemaining = _getInitialData.currentRemaining;\n\n  var _React$useState = React__default.useState(currentRemaining),\n      percentRemaining = _React$useState[0],\n      setPercentRemaining = _React$useState[1];\n\n  React__default.useEffect(function () {\n    if (progress) {\n      var maxPercent = 90;\n      var perc = totalSeconds / maxPercent;\n\n      var _int = moment$1.duration(perc.toFixed(2), 's').asMilliseconds();\n\n      if (done) {\n        intervalRef.current = setInterval(function () {\n          if (ref.current !== null) {\n            setPercentRemaining(function (existing) {\n              var value = existing - 1;\n\n              if (value <= 0) {\n                clearInterval(intervalRef.current);\n                removeTxFromSession();\n                return 0;\n              } else {\n                saveToSession({\n                  value: value\n                });\n                return value;\n              }\n            });\n          }\n        }, 5);\n      } else {\n        intervalRef.current = setInterval(function () {\n          if (ref.current !== null) {\n            setPercentRemaining(function (existing) {\n              var decrement = existing > 100 - maxPercent ? 1 : logarithmicRest(existing);\n              var value = existing - decrement;\n              saveToSession({\n                value: value\n              });\n              return value;\n            });\n          }\n        }, _int);\n      }\n\n      return function () {\n        clearInterval(intervalRef.current);\n      };\n    }\n\n    return;\n  }, [progress, done]);\n  return progress ? React__default.createElement(\"div\", {\n    className: 'progress position-relative',\n    ref: ref\n  }, React__default.createElement(\"div\", {\n    className: 'progress-bar',\n    role: 'progressbar',\n    style: {\n      width: percentRemaining + \"%\"\n    },\n    \"aria-valuenow\": percentRemaining,\n    \"aria-valuemin\": 0,\n    \"aria-valuemax\": 100\n  }, React__default.createElement(\"div\", {\n    className: 'content-height'\n  }, children)), React__default.createElement(\"div\", {\n    className: 'd-flex position-absolute w-100'\n  }, children)) : React__default.createElement(React__default.Fragment, null, children);\n};\n\nvar Progress$1 = withClassNameWrapper(Progress);\n\nfunction fallbackCopyTextToClipboard(text) {\n  var success = false;\n  var textArea = document.createElement('textarea');\n  textArea.value = text;\n  textArea.style.position = 'fixed';\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    document.execCommand('copy');\n    success = true;\n  } catch (err) {\n    console.error('Fallback: Oops, unable to copy', err);\n  }\n\n  document.body.removeChild(textArea);\n  return success;\n}\n\nvar copyTextToClipboard = function copyTextToClipboard(text) {\n  try {\n    var success = false;\n\n    var _temp = function () {\n      if (!navigator.clipboard) {\n        success = fallbackCopyTextToClipboard(text);\n      } else {\n        return Promise.resolve(navigator.clipboard.writeText(text).then(function done() {\n          return true;\n        }, function error(err) {\n          console.error('Async: Could not copy text: ', err);\n          return false;\n        })).then(function (_navigator$clipboard$) {\n          success = _navigator$clipboard$;\n        });\n      }\n    }();\n\n    return Promise.resolve(_temp && _temp.then ? _temp.then(function () {\n      return success;\n    }) : success);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nvar CopyButton = function CopyButton(_ref) {\n  var text = _ref.text,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? '' : _ref$className;\n\n  var _React$useState = React__default.useState({\n    \"default\": true,\n    success: false\n  }),\n      copyResult = _React$useState[0],\n      setCopyResut = _React$useState[1];\n\n  var handleCopyToClipboard = function handleCopyToClipboard(e) {\n    try {\n      e.preventDefault();\n      e.stopPropagation();\n      var noSpaces = text ? text.trim() : text;\n      return Promise.resolve(copyTextToClipboard(noSpaces)).then(function (_copyTextToClipboard) {\n        setCopyResut({\n          \"default\": false,\n          success: _copyTextToClipboard\n        });\n        setTimeout(function () {\n          setCopyResut({\n            \"default\": true,\n            success: false\n          });\n        }, 1000);\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  return React__default.createElement(\"a\", {\n    href: '/#',\n    onClick: handleCopyToClipboard,\n    className: \"side-action text-secondary \" + className\n  }, copyResult[\"default\"] || !copyResult.success ? React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    icon: icons.faCopy\n  }) : React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    icon: icons.faCheck,\n    className: 'text-primary-highlight'\n  }));\n};\n\nvar CopyButton$1 = withClassNameWrapper(CopyButton);\n\nvar Trim = function Trim(_ref) {\n  var text = _ref.text,\n      _ref$dataTestId = _ref.dataTestId,\n      dataTestId = _ref$dataTestId === void 0 ? '' : _ref$dataTestId;\n\n  var _React$useState = React__default.useState(false),\n      overflow = _React$useState[0],\n      setOverflow = _React$useState[1];\n\n  var trimRef = React__default.useRef(document.createElement('span'));\n  var hiddenTextRef = React__default.useRef(document.createElement('span'));\n  var listener = useCallback(debounce(function () {\n    if (trimRef.current && hiddenTextRef.current) {\n      var diff = hiddenTextRef.current.offsetWidth - trimRef.current.offsetWidth;\n      setOverflow(diff > 1);\n    }\n  }, 300), []);\n\n  var addWindowResizeListener = function addWindowResizeListener() {\n    window.addEventListener('resize', listener);\n    return function () {\n      window.removeEventListener('resize', listener);\n    };\n  };\n\n  React__default.useEffect(addWindowResizeListener);\n  React__default.useEffect(function () {\n    listener();\n  }, []);\n  return React__default.createElement(\"span\", {\n    ref: trimRef,\n    className: \"trim \" + (overflow ? 'overflow' : ''),\n    \"data-testid\": dataTestId\n  }, React__default.createElement(\"span\", {\n    ref: hiddenTextRef,\n    className: 'hidden-text-ref'\n  }, text), overflow ? React__default.createElement(React__default.Fragment, null, React__default.createElement(\"span\", {\n    className: 'left'\n  }, React__default.createElement(\"span\", null, String(text).substring(0, Math.floor(text.length / 2)))), React__default.createElement(\"span\", {\n    className: 'ellipsis'\n  }, \"...\"), React__default.createElement(\"span\", {\n    className: 'right'\n  }, React__default.createElement(\"span\", null, String(text).substring(Math.ceil(text.length / 2))))) : React__default.createElement(\"span\", null, text));\n};\n\nvar Trim$1 = withClassNameWrapper(Trim);\n\nvar TxDetails = function TxDetails(_ref) {\n  var title = _ref.title,\n      transactions = _ref.transactions,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'tx-details' : _ref$className,\n      _ref$isTimedOut = _ref.isTimedOut,\n      isTimedOut = _ref$isTimedOut === void 0 ? false : _ref$isTimedOut,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    title: 'mb-0',\n    statusTransactions: 'mb-2 mt-1',\n    iconSuccess: 'mr-1 text-secondary',\n    iconFailed: 'mr-1 text-secondary',\n    trimContainer: 'text-nowrap trim-fs-sm mr-3',\n    iconPending: 'mr-1 text-secondary fa-spin slow-spin',\n    item: 'tx-description d-flex justify-content-start align-items-center'\n  });\n  var iconSuccessData = {\n    icon: icons.faCheck,\n    classNames: generatedClasses.iconSuccess\n  };\n  var iconFailedData = {\n    icon: icons.faTimes,\n    classNames: generatedClasses.iconSuccess\n  };\n  var iconPendingData = {\n    icon: icons.faSpinner,\n    classNames: generatedClasses.iconPending\n  };\n  var iconData = {\n    pending: iconPendingData,\n    success: iconSuccessData,\n    completed: iconSuccessData,\n    fail: iconFailedData,\n    invalid: iconFailedData,\n    timedOut: iconFailedData\n  };\n  return React__default.createElement(React__default.Fragment, null, title && React__default.createElement(\"div\", {\n    className: generatedClasses.title\n  }, title), React__default.createElement(\"div\", {\n    className: generatedClasses.statusTransactions\n  }, transactions.filter(function (tx) {\n    return !isServerTransactionPending(tx.status);\n  }).length, ' ', \"/ \", transactions.length, \" transactions processed\"), transactions.map(function (_ref2) {\n    var hash = _ref2.hash,\n        status = _ref2.status;\n    var iconSrc = iconData[status];\n    return React__default.createElement(\"div\", {\n      className: generatedClasses.item,\n      key: hash\n    }, !isTimedOut && iconSrc != null && React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n      icon: iconSrc.icon,\n      className: iconSrc.classNames\n    }), React__default.createElement(\"span\", {\n      className: generatedClasses.trimContainer,\n      style: {\n        width: '10rem'\n      }\n    }, React__default.createElement(Trim$1, {\n      text: hash\n    })), React__default.createElement(CopyButton$1, {\n      text: hash\n    }), !isServerTransactionPending(status) && React__default.createElement(ExplorerLink$1, {\n      page: \"/transactions/\" + hash,\n      className: 'ml-2'\n    }));\n  }));\n};\n\nvar TxDetails$1 = withClassNameWrapper(TxDetails);\nvar averageTxDurationMs = 6000;\nvar crossShardRounds = 5;\n\nvar TransactionToast = function TransactionToast(_ref) {\n  var toastId = _ref.toastId,\n      _ref$title = _ref.title,\n      title = _ref$title === void 0 ? '' : _ref$title,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'transaction-toast' : _ref$className,\n      _ref$withTxNonce = _ref.withTxNonce,\n      withTxNonce = _ref$withTxNonce === void 0 ? false : _ref$withTxNonce,\n      transactions = _ref.transactions,\n      status = _ref.status,\n      onClose = _ref.onClose;\n  var ref = useRef(null);\n\n  var _useState = useState(true),\n      shouldRender = _useState[0],\n      setShouldRender = _useState[1];\n\n  var transactionDisplayInfo = useGetTransactionDisplayInfo(toastId);\n  var accountShard = useSelector(shardSelector);\n  var _transactionDisplayIn = transactionDisplayInfo.errorMessage,\n      errorMessage = _transactionDisplayIn === void 0 ? 'Transaction failed' : _transactionDisplayIn,\n      _transactionDisplayIn2 = transactionDisplayInfo.timedOutMessage,\n      timedOutMessage = _transactionDisplayIn2 === void 0 ? 'Transaction timed out' : _transactionDisplayIn2,\n      _transactionDisplayIn3 = transactionDisplayInfo.successMessage,\n      successMessage = _transactionDisplayIn3 === void 0 ? 'Transaction successful' : _transactionDisplayIn3,\n      _transactionDisplayIn4 = transactionDisplayInfo.processingMessage,\n      processingMessage = _transactionDisplayIn4 === void 0 ? 'Processing transaction' : _transactionDisplayIn4;\n  var isSameShard = useMemo(function () {\n    return transactions.reduce(function (prevTxIsSameShard, _ref2) {\n      var receiver = _ref2.receiver,\n          data = _ref2.data;\n      var receiverAddress = getAddressFromDataField({\n        receiver: receiver,\n        data: data\n      });\n\n      if (receiverAddress == null) {\n        return prevTxIsSameShard;\n      }\n\n      return prevTxIsSameShard && isCrossShardTransaction({\n        receiverAddress: receiverAddress,\n        senderShard: accountShard\n      });\n    }, true);\n  }, [transactions, accountShard]);\n  var shardAdjustedDuration = isSameShard ? averageTxDurationMs : crossShardRounds * averageTxDurationMs;\n  var transactionDuration = (transactionDisplayInfo === null || transactionDisplayInfo === void 0 ? void 0 : transactionDisplayInfo.transactionDuration) || shardAdjustedDuration;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    toastFooter: 'mb-0 text-break',\n    details: 'media-body flex-grow-1',\n    toastContainer: 'w-100 media p-2',\n    wrapper: 'toast-visible clickable',\n    toastHeader: 'd-flex justify-content-between mb-1',\n    iconContainer: 'align-self-center ml-2 mr-2 pr-1',\n    title: 'm-0 font-weight-normal text-nowrap text-truncate',\n    closeButton: 'close d-flex side-action align-items-center mx-2 outline-0'\n  });\n\n  var _useMemo = useMemo(function () {\n    var startTime = moment$1().unix();\n    var endTime = moment$1().add(Number(transactionDuration), 'milliseconds').unix();\n    return [startTime, endTime];\n  }, []),\n      startTime = _useMemo[0],\n      endTime = _useMemo[1];\n\n  var progress = {\n    startTime: startTime,\n    endTime: endTime\n  };\n  var successToastData = {\n    id: toastId,\n    icon: icons.faCheck,\n    expires: 30000,\n    hasCloseButton: true,\n    title: successMessage,\n    iconClassName: 'bg-success'\n  };\n  var pendingToastData = {\n    id: toastId,\n    expires: false,\n    icon: icons.faHourglass,\n    hasCloseButton: false,\n    title: processingMessage,\n    iconClassName: 'bg-warning'\n  };\n  var failToastData = {\n    id: toastId,\n    icon: icons.faTimes,\n    title: errorMessage,\n    hasCloseButton: true,\n    iconClassName: 'bg-danger'\n  };\n  var timedOutToastData = {\n    id: toastId,\n    icon: icons.faTimes,\n    title: timedOutMessage,\n    hasCloseButton: true,\n    iconClassName: 'bg-warning'\n  };\n  var isPending = getIsTransactionPending(status);\n  var isTimedOut = getIsTransactionTimedOut(status);\n  var toatsOptionsData = {\n    signed: pendingToastData,\n    sent: pendingToastData,\n    pending: pendingToastData,\n    success: successToastData,\n    completed: successToastData,\n    cancelled: failToastData,\n    fail: failToastData,\n    timedOut: timedOutToastData\n  };\n  var toastDataState = toatsOptionsData[status];\n\n  var handleDeleteToast = function handleDeleteToast() {\n    setShouldRender(false);\n    onClose === null || onClose === void 0 ? void 0 : onClose(toastId);\n  };\n\n  if (!shouldRender || transactions == null) {\n    return null;\n  }\n\n  return React__default.createElement(ReactBootstrap$1.Toast, {\n    ref: ref,\n    className: generatedClasses.wrapper,\n    key: toastId\n  }, React__default.createElement(Progress$1, {\n    key: toastId,\n    id: toastId,\n    progress: progress,\n    done: !isPending || isTimedOut\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.toastContainer\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.iconContainer\n  }, React__default.createElement(IconState$1, {\n    iconSize: '2x',\n    icon: toastDataState.icon,\n    className: toastDataState.iconClassName\n  }), withTxNonce && transactions.map(function (tx) {\n    return React__default.createElement(\"p\", {\n      key: tx.nonce.valueOf()\n    }, tx.nonce.valueOf());\n  })), React__default.createElement(\"div\", {\n    className: generatedClasses.details,\n    style: {\n      minWidth: 0\n    }\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.toastHeader\n  }, React__default.createElement(\"h5\", {\n    className: generatedClasses.title\n  }, toastDataState.title), !isPending && React__default.createElement(\"button\", {\n    type: 'button',\n    className: generatedClasses.closeButton,\n    onClick: handleDeleteToast\n  }, React__default.createElement(ReactFontawesome$1.FontAwesomeIcon, {\n    icon: icons.faTimes,\n    size: 'xs'\n  }))), React__default.createElement(\"div\", {\n    className: generatedClasses.toastFooter\n  }, React__default.createElement(TxDetails$1, {\n    transactions: transactions,\n    title: title,\n    isTimedOut: isTimedOut\n  }))))));\n};\n\nvar TransactionToast$1 = withClassNameWrapper(TransactionToast);\n\nfunction TransactionsToastList(_ref) {\n  var _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$withTxNonce = _ref.withTxNonce,\n      withTxNonce = _ref$withTxNonce === void 0 ? false : _ref$withTxNonce,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'transactions-toast-list' : _ref$className,\n      pendingTransactions = _ref.pendingTransactions,\n      signedTransactions = _ref.signedTransactions;\n\n  var _useState = useState([]),\n      toastsIds = _useState[0],\n      setToastsIds = _useState[1];\n\n  var pendingTransactionsFromStore = useGetPendingTransactions().pendingTransactions;\n  var signedTransactionsFromStore = useGetSignedTransactions().signedTransactions;\n  var pendingTransactionsToRender = pendingTransactions || pendingTransactionsFromStore;\n  var signedTransactionsToRender = signedTransactions || signedTransactionsFromStore;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: 'toast-messages d-flex flex-column align-items-center justify-content-sm-end',\n    toast: ''\n  });\n  var mappedToastsList = toastsIds === null || toastsIds === void 0 ? void 0 : toastsIds.map(function (toastId) {\n    var currentTx = signedTransactionsToRender[toastId];\n\n    if (currentTx == null || (currentTx === null || currentTx === void 0 ? void 0 : currentTx.transactions) == null || (currentTx === null || currentTx === void 0 ? void 0 : currentTx.status) == null) {\n      return null;\n    }\n\n    var transactions = currentTx.transactions,\n        status = currentTx.status;\n    return React__default.createElement(TransactionToast$1, {\n      className: className,\n      key: toastId,\n      transactions: transactions,\n      status: status,\n      toastId: toastId,\n      withTxNonce: withTxNonce\n    });\n  });\n\n  var mapPendingSignedTransactions = function mapPendingSignedTransactions() {\n    var newToasts = [].concat(toastsIds);\n\n    for (var sessionId in pendingTransactionsToRender) {\n      var hasToast = toastsIds.includes(sessionId);\n\n      if (!hasToast) {\n        newToasts.push(sessionId);\n      }\n    }\n\n    setToastsIds(newToasts);\n  };\n\n  var fetchSessionStorageToasts = function fetchSessionStorageToasts() {\n    var sessionStorageToastsIds = getToastsIdsFromStorage();\n\n    if (sessionStorageToastsIds) {\n      var newToasts = [].concat(toastsIds, sessionStorageToastsIds);\n      setToastsIds(newToasts);\n    }\n  };\n\n  var saveSessionStorageToasts = function saveSessionStorageToasts() {\n    var shouldSaveLocalToasts = Boolean(toastsIds.length);\n\n    if (!shouldSaveLocalToasts) {\n      return;\n    }\n\n    setToastsIdsToStorage(toastsIds);\n  };\n\n  useEffect(function () {\n    fetchSessionStorageToasts();\n    return function () {\n      saveSessionStorageToasts();\n    };\n  }, []);\n  useEffect(function () {\n    mapPendingSignedTransactions();\n  }, [pendingTransactionsToRender]);\n  return React__default.createElement(\"div\", {\n    className: generatedClasses.wrapper\n  }, mappedToastsList);\n}\n\nvar index$5 = withClassNameWrapper(TransactionsToastList);\nvar platform = {};\n\ntry {\n  platform = require('platform');\n} catch (err) {}\n\nvar platform$1 = platform;\nvar qrcode = {};\n\ntry {\n  qrcode = require('qrcode');\n} catch (err) {}\n\nvar QRCode = qrcode;\n\nvar _defs$1, _style, _g$2;\n\nfunction _extends$3() {\n  _extends$3 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$3.apply(this, arguments);\n}\n\nfunction SvgLightning(props) {\n  return /*#__PURE__*/createElement(\"svg\", _extends$3({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 44,\n    height: 60\n  }, props), _defs$1 || (_defs$1 = /*#__PURE__*/createElement(\"defs\", null, /*#__PURE__*/createElement(\"image\", {\n    width: 22,\n    height: 30,\n    id: \"lightning_svg__img1\",\n    href: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAeCAYAAAAo5+5WAAAA6klEQVRIibXWURHCMBBFUSRUAhLqgEpAQh1QB1RCHVAJOAAHxQE4IA4uH2yYTCbQafexAk5eNpu0m80fCtiqwRqYgF6J9ryrVYExZQAaFRpTBqBWgDElwA2olCkBzm40SwkwqlP6T76QMijQPKXv5Asp48lvPWhHuS6rUYN/1R04AQdgtxTe22yGmUU+OwGOixayXrfAYD2eq2lph9LFGttRqR6r4QTPa8Rzta09zwSUXJgc9c32F3RwgYa22dYbNep/ewto5wYNjW/GDcW3zNBRMpsFNAB7CZigV/dsJmCF+rfI4F4ym1m9AOPnYuevr8exAAAAAElFTkSuQmCC\"\n  }))), _style || (_style = /*#__PURE__*/createElement(\"style\", null)), _g$2 || (_g$2 = /*#__PURE__*/createElement(\"g\", {\n    id: \"lightning_svg__Elrond_Swap_Landing_Page_\\\\u2013_v2_2\"\n  }, /*#__PURE__*/createElement(\"g\", {\n    id: \"lightning_svg__Group_424\"\n  }, /*#__PURE__*/createElement(\"g\", {\n    id: \"lightning_svg__Group_421\"\n  }, /*#__PURE__*/createElement(\"use\", {\n    id: \"lightning_svg__\\\\u26A1\\\\uFE0F\",\n    href: \"#lightning_svg__img1\",\n    transform: \"scale(2)\"\n  }))))));\n}\n\nfunction WalletConnectLoginContainer(_ref) {\n  var _platform$os, _platform$os2;\n\n  var callbackRoute = _ref.callbackRoute,\n      loginButtonText = _ref.loginButtonText,\n      _ref$title = _ref.title,\n      title = _ref$title === void 0 ? 'Maiar Login' : _ref$title,\n      _ref$logoutRoute = _ref.logoutRoute,\n      logoutRoute = _ref$logoutRoute === void 0 ? '/unlock' : _ref$logoutRoute,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'wallect-connect-login-modal' : _ref$className,\n      _ref$lead = _ref.lead,\n      lead = _ref$lead === void 0 ? 'Scan the QR code using Maiar' : _ref$lead,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$wrapContentInsid = _ref.wrapContentInsideModal,\n      wrapContentInsideModal = _ref$wrapContentInsid === void 0 ? true : _ref$wrapContentInsid,\n      redirectAfterLogin = _ref.redirectAfterLogin,\n      token = _ref.token,\n      onClose = _ref.onClose;\n\n  var _useWalletConnectLogi = useWalletConnectLogin({\n    logoutRoute: logoutRoute,\n    callbackRoute: callbackRoute,\n    token: token,\n    redirectAfterLogin: redirectAfterLogin,\n    shouldLoginUser: true\n  }),\n      initLoginWithWalletConnect = _useWalletConnectLogi[0],\n      error = _useWalletConnectLogi[1].error,\n      _useWalletConnectLogi2 = _useWalletConnectLogi[2],\n      uriDeepLink = _useWalletConnectLogi2.uriDeepLink,\n      walletConnectUri = _useWalletConnectLogi2.walletConnectUri;\n\n  var _useState = useState(''),\n      qrCodeSvg = _useState[0],\n      setQrCodeSvg = _useState[1];\n\n  var isMobileDevice = (platform$1 === null || platform$1 === void 0 ? void 0 : (_platform$os = platform$1.os) === null || _platform$os === void 0 ? void 0 : _platform$os.family) === 'iOS' || (platform$1 === null || platform$1 === void 0 ? void 0 : (_platform$os2 = platform$1.os) === null || _platform$os2 === void 0 ? void 0 : _platform$os2.family) === 'Android';\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: 'btn btn-primary px-sm-4 m-1 mx-sm-3',\n    loginText: 'text-left',\n    container: 'm-auto login-container',\n    card: 'card my-3 text-center',\n    cardBody: 'card-body p-4 mx-lg-4',\n    qrCodeSvgContainer: 'mx-auto mb-3',\n    title: 'mb-3',\n    leadText: 'lead mb-0',\n    mobileLoginButton: 'btn btn-primary px-4 mt-4',\n    errorMessage: 'text-danger d-flex justify-content-center align-items-center'\n  });\n\n  var generateQRCode = function generateQRCode() {\n    try {\n      if (!walletConnectUri) {\n        return Promise.resolve();\n      }\n\n      return Promise.resolve(QRCode.toString(walletConnectUri, {\n        type: 'svg'\n      })).then(function (svg) {\n        setQrCodeSvg(svg);\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  useEffect(function () {\n    generateQRCode();\n  }, [walletConnectUri]);\n  useEffect(function () {\n    initLoginWithWalletConnect();\n  }, []);\n  var content = React__default.createElement(\"div\", {\n    className: generatedClasses.container\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.root\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.card\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.cardBody\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.qrCodeSvgContainer,\n    dangerouslySetInnerHTML: {\n      __html: qrCodeSvg\n    },\n    style: {\n      width: '15rem',\n      height: '15rem'\n    }\n  }), React__default.createElement(\"h4\", {\n    className: generatedClasses.title\n  }, title), isMobileDevice ? React__default.createElement(React__default.Fragment, null, React__default.createElement(\"p\", {\n    className: generatedClasses.leadText\n  }, loginButtonText), React__default.createElement(\"a\", {\n    id: 'accessWalletBtn',\n    \"data-testid\": 'accessWalletBtn',\n    className: generatedClasses.mobileLoginButton,\n    href: uriDeepLink || undefined,\n    rel: 'noopener noreferrer nofollow',\n    target: '_blank'\n  }, React__default.createElement(SvgLightning, {\n    className: generatedClasses.cardBody,\n    style: {\n      width: '0.7rem',\n      height: '0.7rem'\n    }\n  }), title)) : React__default.createElement(\"p\", {\n    className: generatedClasses.leadText\n  }, lead), React__default.createElement(\"div\", null, error && React__default.createElement(\"p\", {\n    className: generatedClasses.errorMessage\n  }, error))))));\n  return wrapContentInsideModal ? React__default.createElement(ModalContainer, {\n    title: 'Login with Maiar',\n    className: className,\n    onClose: onClose\n  }, content) : content;\n}\n\nvar WalletConnectLoginContainer$1 = withClassNameWrapper(WalletConnectLoginContainer);\n\nvar WalletConnectLoginButton = function WalletConnectLoginButton(_ref) {\n  var children = _ref.children,\n      callbackRoute = _ref.callbackRoute,\n      _ref$loginButtonText = _ref.loginButtonText,\n      loginButtonText = _ref$loginButtonText === void 0 ? 'Maiar App' : _ref$loginButtonText,\n      _ref$title = _ref.title,\n      title = _ref$title === void 0 ? 'Maiar Login' : _ref$title,\n      _ref$logoutRoute = _ref.logoutRoute,\n      logoutRoute = _ref$logoutRoute === void 0 ? '/unlock' : _ref$logoutRoute,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$wrapContentInsid = _ref.wrapContentInsideModal,\n      wrapContentInsideModal = _ref$wrapContentInsid === void 0 ? true : _ref$wrapContentInsid,\n      _ref$redirectAfterLog = _ref.redirectAfterLogin,\n      redirectAfterLogin = _ref$redirectAfterLog === void 0 ? false : _ref$redirectAfterLog,\n      buttonClassName = _ref.buttonClassName,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'wallect-connect-login' : _ref$className,\n      _ref$lead = _ref.lead,\n      lead = _ref$lead === void 0 ? 'Scan the QR code using Maiar' : _ref$lead,\n      token = _ref.token;\n\n  var _useState = useState(false),\n      showLoginModal = _useState[0],\n      setShowLoginModal = _useState[1];\n\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: \"btn btn-primary px-sm-4 m-1 mx-sm-3 \" + (buttonClassName != null ? buttonClassName : ''),\n    loginText: 'text-left'\n  });\n\n  var handleOpenModal = function handleOpenModal() {\n    setShowLoginModal(true);\n  };\n\n  var handleCloseModal = function handleCloseModal() {\n    setShowLoginModal(false);\n  };\n\n  return React__default.createElement(Fragment, null, React__default.createElement(\"button\", {\n    onClick: handleOpenModal,\n    className: generatedClasses.wrapper\n  }, children || React__default.createElement(\"span\", {\n    className: generatedClasses.loginText\n  }, loginButtonText)), showLoginModal && React__default.createElement(WalletConnectLoginContainer$1, {\n    callbackRoute: callbackRoute,\n    loginButtonText: loginButtonText,\n    title: title,\n    token: token,\n    className: className,\n    logoutRoute: logoutRoute,\n    lead: lead,\n    wrapContentInsideModal: wrapContentInsideModal,\n    redirectAfterLogin: redirectAfterLogin,\n    onClose: handleCloseModal\n  }));\n};\n\nvar WalletConnectLoginButton$1 = withClassNameWrapper(WalletConnectLoginButton);\n\nvar WebWalletLoginButton = function WebWalletLoginButton(_ref) {\n  var children = _ref.children,\n      token = _ref.token,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'web-wallet-login' : _ref$className,\n      callbackRoute = _ref.callbackRoute,\n      buttonClassName = _ref.buttonClassName,\n      _ref$loginButtonText = _ref.loginButtonText,\n      loginButtonText = _ref$loginButtonText === void 0 ? 'Elrond Web Wallet' : _ref$loginButtonText,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa;\n\n  var _useWebWalletLogin = useWebWalletLogin({\n    callbackRoute: callbackRoute,\n    token: token\n  }),\n      onInitiateLogin = _useWebWalletLogin[0];\n\n  var classes = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: \"btn btn-primary px-sm-4 m-1 mx-sm-3 \" + (buttonClassName != null ? buttonClassName : ''),\n    loginText: 'text-left'\n  });\n\n  var handleLogin = function handleLogin() {\n    onInitiateLogin();\n  };\n\n  return React__default.createElement(\"button\", {\n    onClick: handleLogin,\n    className: classes.wrapper\n  }, children || React__default.createElement(\"span\", {\n    className: classes.loginText\n  }, loginButtonText));\n};\n\nvar WebWalletLoginButton$1 = withClassNameWrapper(WebWalletLoginButton);\n\nvar UnlockPage = function UnlockPage(_ref) {\n  var loginRoute = _ref.loginRoute,\n      _ref$title = _ref.title,\n      title = _ref$title === void 0 ? 'Login' : _ref$title,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? 'unlock-page' : _ref$className,\n      _ref$shouldRenderDefa = _ref.shouldRenderDefaultCss,\n      shouldRenderDefaultCss = _ref$shouldRenderDefa === void 0 ? true : _ref$shouldRenderDefa,\n      _ref$LedgerLoginButto = _ref.LedgerLoginButtonText,\n      LedgerLoginButtonText = _ref$LedgerLoginButto === void 0 ? 'Ledger' : _ref$LedgerLoginButto,\n      _ref$description = _ref.description,\n      description = _ref$description === void 0 ? 'Pick a login method' : _ref$description,\n      _ref$WalletConnectLog = _ref.WalletConnectLoginButtonText,\n      WalletConnectLoginButtonText = _ref$WalletConnectLog === void 0 ? 'Maiar' : _ref$WalletConnectLog,\n      _ref$ExtensionLoginBu = _ref.ExtensionLoginButtonText,\n      ExtensionLoginButtonText = _ref$ExtensionLoginBu === void 0 ? 'Extension' : _ref$ExtensionLoginBu,\n      _ref$WebWalletLoginBu = _ref.WebWalletLoginButtonText,\n      WebWalletLoginButtonText = _ref$WebWalletLoginBu === void 0 ? 'Web wallet' : _ref$WebWalletLoginBu;\n  var generatedClasses = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: \"home d-flex flex-fill align-items-center \" + wrapperClassName,\n    title: 'mb-4',\n    description: 'mb-4',\n    cardContainer: 'm-auto',\n    card: 'card my-4 text-center',\n    cardBody: 'card-body py-4 px-2 px-sm-2 mx-lg-4'\n  });\n\n  var _useGetLoginInfo = useGetLoginInfo(),\n      isLoggedIn = _useGetLoginInfo.isLoggedIn;\n\n  React__default.useEffect(function () {\n    if (isLoggedIn) {\n      window.location.href = loginRoute;\n    }\n  }, [isLoggedIn]);\n  return React__default.createElement(\"div\", {\n    className: generatedClasses.wrapper\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.cardContainer\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.card\n  }, React__default.createElement(\"div\", {\n    className: generatedClasses.cardBody\n  }, React__default.createElement(\"h4\", {\n    className: generatedClasses.title\n  }, title), React__default.createElement(\"p\", {\n    className: generatedClasses.description\n  }, description), React__default.createElement(ExtensionLoginButton$1, {\n    callbackRoute: loginRoute,\n    loginButtonText: ExtensionLoginButtonText\n  }), React__default.createElement(WebWalletLoginButton$1, {\n    callbackRoute: loginRoute,\n    loginButtonText: WebWalletLoginButtonText\n  }), React__default.createElement(LedgerLoginButton$1, {\n    loginButtonText: LedgerLoginButtonText,\n    callbackRoute: loginRoute\n  }), React__default.createElement(WalletConnectLoginButton$1, {\n    callbackRoute: loginRoute,\n    loginButtonText: WalletConnectLoginButtonText\n  })))));\n};\n\nvar index$6 = withClassNameWrapper(UnlockPage);\nvar index$7 = {\n  __proto__: null,\n  UnlockPage: index$6\n};\nvar index$8 = {\n  __proto__: null,\n  ExplorerLink: ExplorerLink$1,\n  Denominate: Denominate$1,\n  PageState: PageState$1,\n  ExtensionLoginButton: ExtensionLoginButton$1,\n  LedgerLoginButton: LedgerLoginButton$1,\n  LedgerLoginContainer: LedgerLoginContainer$1,\n  NotificationModal: NotificationModal,\n  SignTransactionsModals: index$4,\n  SignWithLedgerModal: SignWithLedgerModal,\n  SignWithExtensionModal: SignWithExtensionModal,\n  TransactionsToastList: index$5,\n  TransactionToast: TransactionToast$1,\n  WalletConnectLoginButton: WalletConnectLoginButton$1,\n  WalletConnectLoginContainer: WalletConnectLoginContainer$1,\n  WebWalletLoginButton: WebWalletLoginButton$1,\n  Trim: Trim$1,\n  DappCorePages: index$7\n};\nexport { AppInitializer, AuthenticatedRoutesWrapper, DAPP_INIT_ROUTE, DappProvider, index$8 as DappUI, ESDTTransferTypes, EmptyProvider, EnvironmentsEnum, LoginMethodsEnum, NotificationTypesEnum, TransactionBatchStatusesEnum, TransactionServerStatusesEnum, TransactionTypesEnum, TypesOfSmartContractCallsEnum, addressIsValid, index$2 as apiCalls, areScCallsSuccessful, buildUrlParams$1 as buildUrlParams, builtCallbackUrl, clear, completedServerTransactionsStates, decodePart, denominate, emptyProvider, failBatchTransactionsStates, failServerTransactionsStates, fallbackNetworkConfigurations, getAccount, getAccountBalance, getAccountProvider, getAccountProviderType, getAddress, getAddressFromDataField, getApiProvider, getChainID, getEgldLabel, getGeneratedClasses, getIsLoggedIn, getIsProviderEqualTo, getIsTransactionCompleted, getIsTransactionFailed, getIsTransactionPending, getIsTransactionSuccessful, getIsTransactionTimedOut, getItem, getLatestNonce, getNetworkConfig, getNetworkProxy, getProviderType, getShardOfAddress, getTokenFromData, isBatchTransactionFailed, isBatchTransactionPending, isBatchTransactionSuccessful, isBatchTransactionTimedOut, isContract, isSelfESDTContract, isServerTransactionFailed, isServerTransactionPending, isServerTransactionSuccessful, isTokenTransfer, logarithmicRest, index as loginServices, logout, index$3 as models, newWalletProvider, nominate, parseMultiEsdtTransferData, parseTransactionAfterSigning, pendingBatchTransactionsStates, pendingServerTransactionsStatuses, refreshAccount, removeItem, sendTransactions, setItem, setNonce, storage$1 as storage, successBatchTransactionsStates, successServerTransactionsStates, switchTrue, timedOutBatchTransactionsStates, index$1 as transactionServices, useGetAccountInfo, useGetAccountProvider, useGetLoginInfo, useGetNetworkConfig, useGetNotification, useGetPendingTransactions, useGetSignTransactionsError, useGetSignedTransactions, useGetTokenDetails, useGetTransactionDisplayInfo, useParseMultiEsdtTransferData, useParseSignedTransactions, useSignTransactions, useSignTransactionsWithLedger, wrapperClassName };","map":{"version":3,"sources":["../node_modules/babel-plugin-transform-async-to-promises/helpers.mjs","../src/redux/commonActions.ts","../src/redux/selectors/helpers.ts","../src/redux/selectors/networkConfigSelectors.ts","../src/types/enums.ts","../src/redux/selectors/accountInfoSelectors.ts","../src/redux/selectors/loginInfoSelectors.ts","../src/utils/internal/getNewLoginExpiresTimestamp.ts","../src/utils/internal/optionalRedirect.ts","../src/utils/internal/getBridgeAddressFromNetwork.ts","../src/redux/slices/loginInfoSlice.ts","../src/redux/middlewares/loginSessionMiddleware.ts","../src/redux/slices/accountInfoSlice.ts","../src/utils/provider.ts","../src/redux/slices/extraActionsSlice.ts","../src/redux/slices/modalsSlice.ts","../src/redux/slices/networkConfigSlice.ts","../src/redux/slices/transactionsInfoSlice.ts","../src/types/transactions.ts","../src/utils/smartContracts.ts","../src/utils/transactions/transactionStateByStatus.ts","../src/utils/decoders/decodePart.ts","../src/utils/getAllStringOccurrences.ts","../src/utils/transactions/parseMultiEsdtTransferData.ts","../src/utils/transactions/getTokenFromData.ts","../src/utils/transactions/isTokenTransfer.ts","../src/utils/transactions/builtCallbackUrl.ts","../src/utils/transactions/parseTransactionAfterSigning.ts","../src/redux/slices/transactionsSlice.ts","../src/redux/reducers.ts","../src/redux/store.ts","../src/redux/selectors/extraActionsSelectors.ts","../src/models/newTransaction.ts","../src/redux/selectors/transactionsSelectors.ts","../src/redux/selectors/transactionsInfoSelectors.ts","../src/redux/selectors/modalsSelectors.ts","../src/utils/getIsLoggedIn.ts","../src/utils/logout.ts","../src/utils/buildUrlParams.ts","../src/utils/switchTrue.ts","../src/utils/account/addressIsValid.ts","../src/utils/network/getNetworkProxy.ts","../src/utils/network/getApiProvider.ts","../src/utils/network/getAccountProvider.ts","../src/utils/network/getAccountProviderType.ts","../src/utils/network/getChainID.ts","../src/utils/network/getNetworkConfig.ts","../src/utils/network/getEgldLabel.ts","../src/utils/network/getIsProviderEqualTo.ts","../src/utils/account/getAddress.tsx","../src/utils/account/getAccount.tsx","../src/utils/account/setNonce.tsx","../src/utils/account/getLatestNonce.tsx","../src/utils/account/getAccountBalance.tsx","../src/utils/account/refreshAccount.tsx","../src/utils/account/getShardOfAddress.ts","../src/utils/math.ts","../src/constants/errorsMessages.ts","../src/constants/network.ts","../src/constants/ledgerErrorCodes.ts","../src/constants/index.ts","../src/utils/operations/pipe.ts","../src/utils/operations/denominate.ts","../src/utils/operations/nominate.ts","../src/optionalPackages/classnames.ts","../src/utils/getGeneratedClasses.ts","../src/utils/wrapperClassName.ts","../src/optionalPackages/moment.ts","../src/utils/session.ts","../src/redux/DappProviderContext.ts","../src/services/login/useExtensionLogin.ts","../src/services/login/useWebWalletLogin.ts","../src/services/login/useLedgerLogin.ts","../src/hooks/useUpdateEffect.ts","../src/services/login/useWalletConnectLogin.ts","../src/services/transactions/clearTransactions.ts","../src/services/transactions/utils.ts","../src/services/transactions/signTransactions.tsx","../src/services/transactions/transformAndSignTransactions.ts","../src/services/transactions/sendTransactions.ts","../src/services/transactions/hooks/useTrackTransactionStatus.ts","../src/services/transactions/hooks/useGetPendingTransactions.ts","../src/services/transactions/hooks/useGetFailedTransactions.ts","../src/services/transactions/hooks/useGetSuccessfulTransactions.ts","../src/services/transactions/hooks/useParseMultiEsdtTransferData.ts","../src/services/transactions/hooks/useGetActiveTransactionsStatus.ts","../src/services/transactions/hooks/useGetCompletedTransactions.ts","../src/apiCalls/transactions/sendSignedTransactions.ts","../src/apiCalls/transactions/getTransactionsByHashes.ts","../src/components/ProviderInitializer.tsx","../src/contexts/OverrideDefaultBehaviourContext.tsx","../src/components/TransactionSender/index.ts","../src/components/TransactionsTracker/TransactionStatusTracker.tsx","../src/components/TransactionsTracker/index.tsx","../src/apiCalls/configuration/getServerConfigurationForEnvironment.ts","../src/hooks/useGetNetworkConfig.ts","../src/hooks/useGetNotification.ts","../src/hooks/transactions/useGetTransactionDisplayInfo.ts","../src/hooks/transactions/useParseSignedTransactions.tsx","../src/hooks/transactions/useSignTransactions.tsx","../src/hooks/transactions/useGetSignedTransactions.ts","../src/optionalPackages/swr.ts","../src/hooks/transactions/useGetTokenDetails.tsx","../src/hooks/transactions/useSignTransactionsWithLedger.tsx","../src/hooks/transactions/useGetSignTransactionsError.ts","../src/hooks/account/useGetAccountInfo.ts","../src/hooks/account/useGetLoginInfo.ts","../src/hooks/account/useGetAccountProvider.ts","../src/utils/account/getAccountShard.tsx","../src/wrappers/AppInitializer.tsx","../src/redux/DappProvider.tsx","../src/wrappers/AuthenticatedRoutesWrapper/index.tsx","../src/models/TransactionParameter.ts","../src/wrappers/withClassNameWrapper.tsx","../src/UI/Denominate/index.tsx","../src/optionalPackages/fortawesome-free-solid-svg-icons.ts","../src/optionalPackages/react-fontawesome.ts","../src/UI/ExplorerLink/index.tsx","../src/UI/extension/LoginButton/index.tsx","../src/optionalPackages/react-bootstrap.tsx","../src/UI/ModalContainer/index.tsx","../node_modules/classnames/index.js","../src/UI/PageState/index.tsx","../src/UI/ledger/LoginModal/AddressRow.tsx","../src/UI/ledger/LoginModal/AddressTable.tsx","../src/UI/ledger/LoginModal/ConfirmAddress.tsx","../src/UI/ledger/LoginModal/LedgerConnect.tsx","../src/UI/ledger/LoginModal/index.tsx","../src/UI/ledger/LoginButton/index.tsx","../src/UI/NotificationModal/index.tsx","../src/hooks/useGetLoginInfo.ts","../src/UI/SignTransactionsModals/SignWithExtensionModal/index.tsx","../src/UI/TokenDetails/TokenSymbol/index.tsx","../src/UI/TokenDetails/index.tsx","../src/UI/TransactionData/index.tsx","../src/UI/SignTransactionsModals/SignWithLedgerModal/SignStep.tsx","../src/UI/SignTransactionsModals/SignWithLedgerModal/index.tsx","../src/UI/SignTransactionsModals/SignWithWalletConnectModal/index.tsx","../src/UI/SignTransactionsModals/index.tsx","../src/storage/session.ts","../src/services/transactions/isCrossShardTransaction.ts","../src/UI/IconState/index.tsx","../src/UI/Progress/index.tsx","../src/UI/CopyButton/helpers/copyToClipboard.tsx","../src/UI/CopyButton/index.tsx","../src/UI/Trim/index.tsx","../src/UI/TxDetails/index.tsx","../src/UI/TransactionToast/index.tsx","../src/UI/TransactionsToastList/index.tsx","../src/optionalPackages/platform.ts","../src/optionalPackages/qrcode.ts","../src/UI/walletConnect/WalletConnectLoginContainer/index.tsx","../src/UI/walletConnect/WalletConnectLoginButton/index.tsx","../src/UI/webWallet/LoginButton/index.tsx","../src/UI/pages/UnlockPage/index.tsx"],"names":["logoutAction","createAction","loginAction","payload","createDeepEqualSelector","createSelectorCreator","networkConfigSelector","state","proxySelector","providerSelector","chainIDSelector","apiProviderSelector","walletConnectBridgeAddressSelector","walletConnectDeepLinkSelector","networkSelector","apiNetworkSelector","explorerAddressSelector","egldLabelSelector","TransactionServerStatusesEnum","TransactionBatchStatusesEnum","LoginMethodsEnum","NotificationTypesEnum","TypesOfSmartContractCallsEnum","EnvironmentsEnum","accountInfoSelector","addressSelector","accountSelector","accountBalanceSelector","account","accountNonceSelector","shardSelector","ledgerAccountSelector","walletConnectAccountSelector","isAccountLoadingSelector","isAccountLoadingErrorSelector","loginInfoSelector","loginMethodSelector","isLoggedInSelector","Boolean","walletConnectLoginSelector","ledgerLoginSelector","walletLoginSelector","loginExpiresAtSelector","getNewLoginExpiresTimestamp","optionalRedirect","callbackUrl","shouldRedirect","setTimeout","window","getBridgeAddressFromNetwork","walletConnectBridgeAddresses","Math","initialState","loginMethod","walletConnectLogin","ledgerLogin","tokenLogin","walletLogin","extensionLogin","loginExpiresAt","loginInfoSlice","createSlice","name","reducers","setLoginMethod","action","setTokenLogin","setTokenLoginSignature","setWalletLogin","setWalletConnectLogin","setLedgerLogin","setLoginExpiresAt","extraReducers","builder","whitelistedActions","throttledSetNewToken","throttle","store","loginSessionMiddleware","next","appState","loginTimestamp","isLoggedIn","now","Date","isExpired","provider","console","err","emptyAccount","balance","address","nonce","ledgerAccount","publicKey","walletConnectAccount","isAccountLoading","accountLoadingError","accountInfoSlice","setAddress","setAccount","setAccountNonce","setAccountShard","setLedgerAccount","setWalletConnectAccount","setIsAccountLoading","setAccountLoadingError","accountInfo","shard","DAPP_INIT_ROUTE","getProviderType","newWalletProvider","notInitializedError","EmptyProvider","login","isInitialized","emptyProvider","log","getProvider","init","extraActionsSlice","initializeExtraActions","modalsSlice","setTxSubmittedModal","setNotificationModal","clearTxSubmittedModal","clearNotificationModal","defaultNetwork","id","egldLabel","egldDenomination","decimals","gasPerDataByte","walletConnectDeepLink","walletConnectBridgeAddress","walletAddress","apiAddress","explorerAddress","apiTimeout","network","proxy","timeout","Number","apiProvider","chainID","networkConfigSlice","initializeNetworkConfig","omit","setChainID","setProvider","defaultTransactionErrorMessage","defaultTransactionSuccessMessage","defaultTransactionProcessingMessage","defaultTransactionSubmittedMessage","signTransactionsSlice","setTransactionsDisplayInfo","sessionId","transactionsDisplayInfo","errorMessage","successMessage","processingMessage","submittedMessage","transactionDuration","clearTransactionsInfoForSessionId","clearTransactionsInfo","TransactionTypesEnum","okInHex","ESDTTransferTypes","areScCallsSuccessful","scResults","completedThreshold","numberOfOkParts","result","decoded","Buffer","hasOkPart","part","isContract","receiver","sender","data","extractedAddress","getAddressFromDataField","isExtractedAddressContractCall","isSelfESDTContract","isHexValidCharacters","str","isHexValidLength","parts","type","restParts","isSelfTransaction","isCorrectESDTType","areDataPartsValid","parsedData","TransactionPayload","addressIndex","getAddressIndex","pendingBatchTransactionsStates","successBatchTransactionsStates","failBatchTransactionsStates","timedOutBatchTransactionsStates","pendingServerTransactionsStatuses","successServerTransactionsStates","completedServerTransactionsStates","failServerTransactionsStates","getIsTransactionCompleted","status","getIsTransactionPending","isScCall","isPending","isBatchTransactionPending","isServerTransactionPending","getIsTransactionSuccessful","isBatchTransactionSuccessful","isServerTransactionSuccessful","getIsTransactionFailed","isBatchTransactionFailed","isServerTransactionFailed","getIsTransactionTimedOut","isBatchTransactionTimedOut","isUtf8","i","decodePart","decodedPart","hexPart","getAllStringOccurrences","sourceStr","a","parseMultiEsdtTransferData","transactions","contractCallDataIndex","encodedTxCount","rest","txCount","itemIndex","txIndex","transaction","index","encodedNonce","tx","scCallData","noData","tokenId","amount","getTokenFromData","tokenTransfer","nftTransfer","encodedToken","encodedAmount","isTokenTransfer","erdLabel","urlSearchParams","params","Object","nextUrlParams","builtCallbackUrl","urlParams","url","search","origin","pathname","buildUrlParams","parseTransactionAfterSigning","isLedger","TransactionVersion","TransactionOptions","parsedTransaction","signedTransactions","transactionsToSign","signTransactionsError","customTransactionInformationForSessionId","defaultCustomInformation","signWithoutSending","sessionInformation","redirectAfterSign","transactionsSlice","moveTransactionsToSignedState","customTransactionInformation","clearSignedTransaction","clearTransactionToSign","updateSignedTransaction","updateSignedTransactions","updateSignedTransactionStatus","transactionHash","areTransactionsSuccessful","areTransactionsFailed","setTransactionsToSign","clearAllTransactionsToSign","clearAllSignedTransactions","setSignTransactionsError","parsedSignedTransactions","txTimestamp","expiration","acc","networkConfig","extraActions","loginInfo","modals","transactionsInfo","sessionStorage","require","transactionsInfoPersistConfig","key","version","storage","transactionsReducer","blacklist","persistReducer","rootReducer","combineReducers","localStorageReducers","persistConfig","whitelist","configureStore","reducer","middleware","serializableCheck","ignoredActions","ignoredPaths","persistor","persistStore","extraActionsSelector","extraActionsInit","createSelector","newTransaction","rawTransaction","atob","value","Balance","gasLimit","gasPrice","options","transactionsSelectors","signedTransactionsSelector","signTransactionsErrorSelector","pendingSignedTransactionsSelector","txBody","successfulTransactionsSelector","completedTransactionsSelector","failedTransactionsSelector","timedOutTransactionsSelector","transactionsToSignSelector","transactionStatusSelector","transactionSessionId","defaultTransactionInfo","transactionsInfoSelectors","transactionDisplayInfoSelector","modalsSliceSelector","txSubmittedModalSelector","notificationModalSelector","getIsLoggedIn","logout","providerType","onRedirect","switchTrue","object","defaultValue","obj","cur","checkAddress","addressIsValid","destinationAddress","isValidBach","canTransformToPublicKey","getNetworkProxy","getApiProvider","getAccountProvider","getAccountProviderType","getChainID","getNetworkConfig","getEgldLabel","getIsProviderEqualTo","comparedProviderType","getAddress","loggedIn","resolve","getAccount","setNonce","getLatestNonce","currentAccountNonce","isNaN","getAccountBalance","accountAddress","setNewAccount","accountData","e","refreshAccount","undefined","isAddressOfMetachain","metachainPrefix","pubKeyPrefix","pubKey","zeroAddress","getShardOfAddress","numShards","maskHigh","parseInt","maskLow","lastByteOfPubKey","logarithmicRest","minp","maxp","minv","maxv","scale","position","ERROR_SIGNING","TRANSACTION_CANCELLED","ERROR_SIGNING_TX","PROVIDER_NOT_INTIALIZED","MISSING_PROVIDER_MESSAGE","DEFAULT_MIN_GAS_LIMIT","configEndpoint","mainnet","testnet","devnet","fallbackNetworkConfigurations","ledgerErrorCodes","code","message","gasPriceModifier","defaultGasPrice","defaultGasLimit","denomination","dappInitRoute","walletSignSession","pipe","previous","then","newValue","valueOf","BigNumber","ROUNDING_MODE","ROUND_FLOOR","denominate","input","configDenomination","configDecimals","showLastNonZeroDecimal","addCommas","token","validation","bnBalance","integerPart","decimalPart","bNdecimalPart","decimalPlaces","shownDecimalsAreZero","formatted","formattedBalance","integerPartZero","numericPart","current","zeroPlaceholders","zeros","minAmount","nominate","customDenomination","createBalanceBuilder","TokenType","Fungible","classnames","getGeneratedClasses","className","shouldRenderDefaultCss","defaultStyles","defaultClassNames","classNames","wrapperClassName","moment","setItem","expires","String","getItem","item","deserializedItem","JSON","expired","removeItem","clear","defaultContextValue","DappCoreContext","React","useStore","createStoreHook","useDispatch","createDispatchHook","useSelector","createSelectorHook","useExtensionLogin","callbackRoute","redirectAfterLogin","error","setError","useState","isLoading","setIsLoading","dispatch","initiateLogin","ExtensionProvider","encodeURIComponent","providerLoginData","signature","loginToken","extension","loginFailed","useWebWalletLogin","walletLoginData","loginData","ledgerAppErrorText","failInitializeErrorText","defaultAddressesPerPage","useLedgerLogin","addressesPerPage","hwWalletP","startIndex","setStartIndex","accounts","setAccounts","selectedAddress","setSelectedAddress","showAddressList","setShowAddressList","loginType","ledger","onLoginFailed","loginUser","hwWalletProvider","dispatchLoginActions","onConfirmSelectedAddress","fetchAccounts","onStartLogin","onGoToPrevPage","onGoToNextPage","onSelectAddress","useUpdateEffect","effect","dependencies","isInitialMount","useRef","useEffect","useWalletConnectLogin","logoutRoute","heartbeatInterval","wcUri","setWcUri","providerRef","hasWcUri","uriDeepLink","handleHeartbeat","interval","setInterval","clearInterval","generateWcUri","isProviderConnected","customMessage","method","handleOnLogout","handleOnLogin","hasSignature","loginActionData","walletconnect","heartbeatDisconnectInterval","loginProvider","shouldGenerateWcUri","providerHandlers","onClientLogin","onClientLogout","newProvider","walletConnectUri","hasUri","wcUriWithToken","removeTransactionsToSign","removeSignedTransaction","removeAllSignedTransactions","removeAllTransactionsToSign","calcTotalFee","minGasLimit","totalFee","fee","chainId","signTransactions","networkConstants","accountBalance","storeChainId","transactionsPayload","Array","bNtotalFee","bNbalance","hasSufficientFunds","notificationPayload","iconClassName","title","description","hasValidChainId","signTransactionsPayload","ErrorCodesEnum","transformAndSignTransactions","validatedReceiver","addr","transactionsChainId","sendTransactions","areComplexTransactions","txToSign","useTrackTransactionStatus","transactionId","onSuccess","onFail","onCancelled","onTimedOut","onCompleted","transactionsBatch","isFailed","isTimedOut","isSuccessful","isCompleted","isCancelled","useGetPendingTransactions","pendingTransactions","pendingTransactionsArray","hasPendingTransactions","useGetFailedTransactions","failedTransactions","failedTransactionsArray","hasFailedTransactions","useGetSuccessfulTransactions","successfulTransactions","successfulTransactionsArray","hasSuccessfulTransactions","multiTxData","useParseMultiEsdtTransferData","parsedTransactionsByDataField","setParsedTransactions","allTransactions","setAllTransactions","multiTransactionData","multiTxs","newTx","trx","transactionIndex","idx","addTransactionDataToParsedInfo","extractTransactionESDTData","getTxInfoByDataField","useGetActiveTransactionsStatus","timedOutTransactions","completedTransactions","pending","timedOut","fail","success","completed","hasActiveTransactions","useGetCompletedTransactions","completedTransactionsArray","hasCompletedTransactions","sendSignedTransactions","promises","response","Promise","getTransactionsByHashes","hashes","responseData","withScResults","hash","previousStatus","txOnNetwork","txResponse","invalidTransaction","results","hasStatusChanged","ProviderInitializer","initWalletLoginProvider","refreshChainID","initializeProvider","fetchAccount","tryAuthenticateWalletUser","wallet","setLedgerProvider","setExtensionProvider","sendSignedTransactionsAsync","getTransactionsByHash","completedTransactionsDelay","OverrideDefaultBehaviourContext","TransactionSender","useContext","sendingRef","clearSignInfo","handleSendTransactions","sessionIds","skipSending","isSessionIdSigned","shouldSendCurrentSession","transactionsToSend","transactionObject","newStatus","newTransactions","responseHashes","submittedModalPayload","history","document","TransactionStatusTracker","transactionPayload","intervalRef","isFetchingStatusRef","retriesRef","timeoutRefs","manageTimedOutTransactions","checkTransactionStatus","retriesForThisHash","isScCallCompleted","resultWithError","returnMessage","TransactionsTracker","mappedPendingTransactionsTrackers","getServerConfigurationForEnvironment","axios","useGetNetworkConfig","useGetNotification","notification","clearNotification","useGetTransactionDisplayInfo","toastId","useParseSignedTransactions","searchData","qs","signSessionId","useSignTransactions","savedCallback","hasTransactions","onAbort","isExtensionProvider","onCancel","isTxCancelled","signWithWallet","buildedCallbackUrl","signTransactionsWithProvider","redirectRoute","isCurrentRoute","shouldRedirectAfterSign","hasSameTransactions","hasAllTransactionsSigned","shouldMoveTransactionsToSignedState","signedTransactionsArray","signed","setTransactionNonces","latestNonce","isSigningWithWebWallet","isSigningWithProvider","mappedTransactions","defaultErrorMessage","cancelled","useGetSignedTransactions","hasSignedTransactions","swr","fetcher","useGetTokenDetails","selectedToken","useSwr","tokenDenomination","tokenLabel","tokenAvatar","useSignTransactionsWithLedger","currentStep","setCurrentStep","setSignedTransactions","currentTransaction","setCurrentTransaction","waitingForDevice","setWaitingForDevice","isLastTransaction","extractTransactionsInfo","dataField","transactionTokenInfo","isTokenTransaction","sign","trueForLedger","newSignedTx","newSignedTransactions","exising","reset","existing","continueWithoutSigning","signTx","nextStep","isFirst","onSignTransaction","onNext","onPrev","useGetSignTransactionsError","useGetAccountInfo","useGetLoginInfo","useGetAccountProvider","getAccountShard","AppInitializer","customNetworkConfig","children","environment","initialized","setInitialized","initializeNetwork","fallbackConfig","serverConfig","onLogin","initializeApp","initializeCustomExtraActions","DappProvider","memoizedSendSignedTransactionsAsync","useCallback","memoizedGetTransactionsByHash","context","loading","AuthenticatedRoutesWrapper","routes","unlockRoute","authenticatedRoutesRef","route","isOnAuthenticatedRoute","path","TransactionParameter","withClassNameWrapper","props","denominateInvalid","denominateValid","showLabel","denominatedValue","valueParts","hasNoDecimals","isNotZero","Denominate","DenominateWrapper","denominateProps","fontawesomeFreeSolidIcons","ReactFontawesome","ExplorerLink","page","text","href","target","icon","icons","faSearch","ExtensionLoginButton","buttonClassName","loginButtonText","onInitiateLogin","isFirefox","navigator","classes","wrapper","loginText","noExtensionButtonWrapper","noExtensionButtonContent","noExtensionButtonTitle","noExtensionButtonIcon","handleLogin","rel","faArrowRight","onClick","ReactBootstrap","ModalContainer","noSpacer","onClose","show","backdrop","onHide","animation","centered","size","faTimes","PageState","iconClass","dataTestId","iconBgClass","iconSize","generatedClasses","iconContainer","trimHash","keep","start","end","noBalance","AddressRow","setBalance","handleChange","checked","fetchBalance","onChange","role","htmlFor","ledgerWaitingText","AddressTable","cardBody","tableWrapper","tableContent","tableHeader","tableHeaderText","buttonsWrapper","arrowButton","confirmButton","faCircleNotch","disabled","faChevronLeft","faChevronRight","ConfirmAddress","noBorder","LedgerConnect","connectPageContent","wrapContentInsideModal","spinner","getContent","LedgerLoginButton","showLoginModal","setShowLoginModal","handleOpenModal","handleCloseModal","notificationTypesToIcons","defaultIcon","NotificationModal","showModal","onDone","SignWithExtensionModal","handleClose","closeBtn","close","freeSolidIcons","faHourglass","Simple","Combined","small","getIdentifierWithoutNonce","tokenParts","identifier","getDetails","isEgldTransfer","symbol","label","faGem","TokenDetails","Component","process","render","allOccurences","TransactionData","highlight","output","encodedScCall","remainingDataFields","SignStep","transactionData","onCloseClick","signBtnLabel","denominatedAmount","formGroup","formLabel","contentWrapper","tokenWrapper","tokenValue","tokenAmountLabel","tokenAmountValue","dataFormGroup","cancelButton","signButton","tokenlabel","SignWithLedgerModal","container","SignWithWalletConnectModal","hasMultipleTransactions","CustomConfirmScreens","signError","signProps","SessionStorageKeysEnum","setToastsIdsToStorage","ids","getToastsIdsFromStorage","toastsIds","isCrossShardTransaction","receiverAddress","senderShard","senderAddress","receiverShard","IconState","half","Progress","progress","done","ref","removeTxFromSession","toastProgress","hasSessionStoredTx","saveToSession","getInitialData","totalSeconds","remaining","currentRemaining","percentRemaining","setPercentRemaining","maxPercent","perc","int","decrement","style","width","textArea","copyTextToClipboard","clipboard","fallbackCopyTextToClipboard","CopyButton","copyResult","setCopyResut","handleCopyToClipboard","noSpaces","faCopy","faCheck","Trim","overflow","setOverflow","trimRef","hiddenTextRef","listener","debounce","diff","addWindowResizeListener","TxDetails","statusTransactions","iconSuccess","iconFailed","trimContainer","iconPending","iconSuccessData","iconFailedData","iconPendingData","iconData","invalid","iconSrc","averageTxDurationMs","crossShardRounds","TransactionToast","withTxNonce","shouldRender","setShouldRender","transactionDisplayInfo","accountShard","timedOutMessage","isSameShard","useMemo","prevTxIsSameShard","shardAdjustedDuration","toastFooter","details","toastContainer","toastHeader","closeButton","startTime","endTime","successToastData","hasCloseButton","pendingToastData","failToastData","timedOutToastData","toatsOptionsData","sent","toastDataState","handleDeleteToast","minWidth","setToastsIds","pendingTransactionsFromStore","signedTransactionsFromStore","pendingTransactionsToRender","signedTransactionsToRender","toast","mappedToastsList","currentTx","mapPendingSignedTransactions","newToasts","hasToast","fetchSessionStorageToasts","sessionStorageToastsIds","saveSessionStorageToasts","shouldSaveLocalToasts","platform","qrcode","lead","initLoginWithWalletConnect","shouldLoginUser","qrCodeSvg","setQrCodeSvg","isMobileDevice","card","qrCodeSvgContainer","leadText","mobileLoginButton","generateQRCode","svg","content","root","dangerouslySetInnerHTML","__html","height","WalletConnectLoginButton","WebWalletLoginButton","UnlockPage","loginRoute","LedgerLoginButtonText","WalletConnectLoginButtonText","ExtensionLoginButtonText","WebWalletLoginButtonText","cardContainer"],"mappings":"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","sourcesContent":["// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import { createAction } from '@reduxjs/toolkit';\nimport { LoginMethodsEnum } from 'types/enums';\n\nexport interface LoginActionPayloadType {\n  address: string;\n  loginMethod: LoginMethodsEnum;\n}\n\nexport const logoutAction = createAction('logout');\n\nexport const loginAction = createAction(\n  'login',\n  (payload: LoginActionPayloadType) => ({ payload })\n);\n","import isEqual from 'lodash/isEqual';\nimport { createSelectorCreator, defaultMemoize } from 'reselect';\n\nexport const createDeepEqualSelector = createSelectorCreator(\n  defaultMemoize,\n  isEqual\n);\n","import { ChainID } from '@elrondnetwork/erdjs';\nimport { RootState } from '../store';\nimport { createDeepEqualSelector } from './helpers';\n\nexport const networkConfigSelector = (state: RootState) => state.networkConfig;\n\nexport const proxySelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => state.proxy\n);\n\nexport const providerSelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => state.provider\n);\n\nexport const chainIDSelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => new ChainID(state.chainID)\n);\n\nexport const apiProviderSelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => state.apiProvider\n);\n\nexport const walletConnectBridgeAddressSelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => state.network.walletConnectBridgeAddress\n);\n\nexport const walletConnectDeepLinkSelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => state.network.walletConnectDeepLink\n);\n\nexport const networkSelector = createDeepEqualSelector(\n  networkConfigSelector,\n  (state) => state.network\n);\n\nexport const apiNetworkSelector = createDeepEqualSelector(\n  networkSelector,\n  (state) => state.apiAddress\n);\n\nexport const explorerAddressSelector = createDeepEqualSelector(\n  networkSelector,\n  (state) => state.explorerAddress\n);\n\nexport const egldLabelSelector = createDeepEqualSelector(\n  networkSelector,\n  (state) => state.egldLabel\n);\n","export enum TransactionServerStatusesEnum {\n  'pending' = 'pending',\n  'fail' = 'fail',\n  'invalid' = 'invalid',\n  'success' = 'success',\n  'executed' = 'executed',\n  'completed' = 'completed'\n}\n\nexport enum TransactionBatchStatusesEnum {\n  'signed' = 'signed',\n  'cancelled' = 'cancelled',\n  'success' = 'success',\n  'sent' = 'sent',\n  'fail' = 'fail',\n  'timedOut' = 'timedOut'\n}\n\nexport enum LoginMethodsEnum {\n  ledger = 'ledger',\n  walletconnect = 'walletconnect',\n  wallet = 'wallet',\n  extension = 'extension',\n  extra = 'extra',\n  none = ''\n}\n\nexport enum NotificationTypesEnum {\n  warning = 'warning',\n  error = 'error',\n  success = 'success'\n}\n\nexport enum TypesOfSmartContractCallsEnum {\n  MultiESDTNFTTransfer = 'MultiESDTNFTTransfer',\n  ESDTNFTTransfer = 'ESDTNFTTransfer'\n}\n\nexport enum EnvironmentsEnum {\n  testnet = 'testnet',\n  devnet = 'devnet',\n  mainnet = 'mainnet'\n}\n","import { RootState } from '../store';\nimport { createDeepEqualSelector } from './helpers';\n\nexport const accountInfoSelector = (state: RootState) => state.account;\n\nexport const addressSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.address\n);\n\nexport const accountSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.account\n);\n\nexport const accountBalanceSelector = createDeepEqualSelector(\n  accountSelector,\n  (account) => account.balance\n);\n\nexport const accountNonceSelector = createDeepEqualSelector(\n  accountSelector,\n  (state) => state?.nonce?.valueOf() || 0\n);\n\nexport const shardSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.shard\n);\n\nexport const ledgerAccountSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.ledgerAccount\n);\n\nexport const walletConnectAccountSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.walletConnectAccount\n);\n\nexport const isAccountLoadingSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.isAccountLoading\n);\n\nexport const isAccountLoadingErrorSelector = createDeepEqualSelector(\n  accountInfoSelector,\n  (state) => state.accountLoadingError\n);\n","import { LoginMethodsEnum } from 'types/enums';\nimport { RootState } from '../store';\nimport { addressSelector } from './accountInfoSelectors';\nimport { createDeepEqualSelector } from './helpers';\n\nexport const loginInfoSelector = (state: RootState) => state.loginInfo;\n\nexport const loginMethodSelector = createDeepEqualSelector(\n  loginInfoSelector,\n  (state) => state.loginMethod\n);\n\nexport const isLoggedInSelector = createDeepEqualSelector(\n  loginInfoSelector,\n  addressSelector,\n  (state, address) =>\n    state.loginMethod != LoginMethodsEnum.none && Boolean(address)\n);\n\nexport const walletConnectLoginSelector = createDeepEqualSelector(\n  loginInfoSelector,\n  (state) => state.walletConnectLogin\n);\n\nexport const ledgerLoginSelector = createDeepEqualSelector(\n  loginInfoSelector,\n  (state) => state.ledgerLogin\n);\n\nexport const walletLoginSelector = createDeepEqualSelector(\n  loginInfoSelector,\n  (state) => state.walletLogin\n);\n\nexport const loginExpiresAtSelector = createDeepEqualSelector(\n  loginInfoSelector,\n  (state) => state.loginExpiresAt\n);\n","export function getNewLoginExpiresTimestamp() {\n  return new Date().setHours(new Date().getHours() + 24);\n}\n\nexport default getNewLoginExpiresTimestamp;\n","export function optionalRedirect(\n  callbackUrl?: string,\n  shouldRedirect?: boolean\n) {\n  if (shouldRedirect && callbackUrl != null) {\n    setTimeout(() => {\n      if (!window.location.pathname.includes(callbackUrl)) {\n        window.location.href = callbackUrl;\n      }\n    }, 200);\n  }\n}\n","export function getBridgeAddressFromNetwork(\n  walletConnectBridgeAddresses: string[]\n) {\n  return walletConnectBridgeAddresses[\n    Math.floor(Math.random() * walletConnectBridgeAddresses.length)\n  ];\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { LoginMethodsEnum } from 'types/enums';\nimport { getNewLoginExpiresTimestamp } from 'utils/internal';\nimport {\n  loginAction,\n  logoutAction,\n  LoginActionPayloadType\n} from '../commonActions';\n\nexport interface WalletConnectLoginType {\n  loginType: string;\n  callbackRoute: string;\n  logoutRoute: string;\n}\n\nexport interface LedgerLoginType {\n  index: number;\n  loginType: string;\n}\n\nexport interface LoginInfoType {\n  data: any;\n  expires: number;\n}\n\nexport interface TokenLoginType {\n  loginToken: string;\n  signature?: string;\n}\n\nexport interface LoginInfoStateType {\n  loginMethod: LoginMethodsEnum;\n  walletConnectLogin: WalletConnectLoginType | null;\n  ledgerLogin: LedgerLoginType | null;\n  tokenLogin: TokenLoginType | null;\n  walletLogin: LoginInfoType | null;\n  extensionLogin: LoginInfoType | null;\n  loginExpiresAt: number;\n}\n\nconst initialState: LoginInfoStateType = {\n  loginMethod: LoginMethodsEnum.none,\n  walletConnectLogin: null,\n  ledgerLogin: null,\n  tokenLogin: null,\n  walletLogin: null,\n  extensionLogin: null,\n  loginExpiresAt: getNewLoginExpiresTimestamp()\n};\n\nexport const loginInfoSlice = createSlice({\n  name: 'loginInfoSlice',\n  initialState: initialState,\n  reducers: {\n    setLoginMethod: (\n      state: LoginInfoStateType,\n      action: PayloadAction<LoginMethodsEnum>\n    ) => {\n      state.loginMethod = action.payload;\n    },\n    setTokenLogin: (\n      state: LoginInfoStateType,\n      action: PayloadAction<TokenLoginType>\n    ) => {\n      state.tokenLogin = action.payload;\n    },\n    setTokenLoginSignature: (\n      state: LoginInfoStateType,\n      action: PayloadAction<string>\n    ) => {\n      if (state?.tokenLogin != null) {\n        state.tokenLogin.signature = action.payload;\n      }\n    },\n    setWalletLogin: (\n      state: LoginInfoStateType,\n      action: PayloadAction<LoginInfoType | null>\n    ) => {\n      state.walletLogin = action.payload;\n    },\n    setWalletConnectLogin: (\n      state: LoginInfoStateType,\n      action: PayloadAction<WalletConnectLoginType | null>\n    ) => {\n      state.walletConnectLogin = action.payload;\n    },\n    setLedgerLogin: (\n      state: LoginInfoStateType,\n      action: PayloadAction<LedgerLoginType | null>\n    ) => {\n      state.ledgerLogin = action.payload;\n    },\n    setLoginExpiresAt: (\n      state: LoginInfoStateType,\n      action: PayloadAction<number>\n    ) => {\n      state.loginExpiresAt = action.payload;\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addCase(logoutAction, () => {\n      return initialState;\n    });\n    builder.addCase(\n      loginAction,\n      (\n        state: LoginInfoStateType,\n        action: PayloadAction<LoginActionPayloadType>\n      ) => {\n        state.loginMethod = action.payload.loginMethod;\n        state.loginExpiresAt = getNewLoginExpiresTimestamp();\n      }\n    );\n  }\n});\n\nexport const {\n  setLoginMethod,\n  setWalletConnectLogin,\n  setLedgerLogin,\n  setTokenLogin,\n  setTokenLoginSignature,\n  setWalletLogin,\n  setLoginExpiresAt\n} = loginInfoSlice.actions;\n\nexport default loginInfoSlice.reducer;\n","import { PayloadAction } from '@reduxjs/toolkit';\nimport throttle from 'lodash/throttle';\nimport { logoutAction } from 'redux/commonActions';\nimport {\n  isLoggedInSelector,\n  loginExpiresAtSelector\n} from 'redux/selectors/loginInfoSelectors';\nimport { providerSelector } from 'redux/selectors/networkConfigSelectors';\nimport { setLoginExpiresAt } from 'redux/slices/loginInfoSlice';\nimport { StoreType } from 'redux/store';\nimport { getNewLoginExpiresTimestamp } from 'utils/internal';\n\nconst whitelistedActions = ['loginInfoSlice/setLoginExpiresAt', 'logout'];\n\nconst throttledSetNewToken = throttle((store: StoreType) => {\n  store.dispatch(setLoginExpiresAt(getNewLoginExpiresTimestamp()));\n}, 5000);\n\nexport const loginSessionMiddleware: any =\n  (store: StoreType) =>\n  (next: (action: PayloadAction) => void) =>\n  (action: PayloadAction) => {\n    if (whitelistedActions.includes(action.type)) {\n      return next(action);\n    }\n    const appState = store.getState();\n    const loginTimestamp = loginExpiresAtSelector(appState);\n    const isLoggedIn = isLoggedInSelector(appState);\n    if (!isLoggedIn) {\n      return next(action);\n    }\n    if (loginTimestamp == null) {\n      return store.dispatch(setLoginExpiresAt(getNewLoginExpiresTimestamp()));\n    }\n    const now = Date.now();\n    const isExpired = loginTimestamp - now < 0;\n    if (isExpired) {\n      return setTimeout(async () => {\n        const provider = providerSelector(store.getState());\n        console.log('session expired');\n        store.dispatch(logoutAction());\n        try {\n          await provider.logout({ callbackUrl: '/' });\n        } catch (err) {\n          console.error('error logging out', err);\n        }\n      }, 1000);\n    } else {\n      throttledSetNewToken(store);\n    }\n    return next(action);\n  };\n\nexport default loginSessionMiddleware;\n","import { Address } from '@elrondnetwork/erdjs';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { REHYDRATE } from 'redux-persist';\n\nimport {\n  loginAction,\n  logoutAction,\n  LoginActionPayloadType\n} from '../commonActions';\n\nexport interface AccountType {\n  address: string;\n  balance: string;\n  nonce: number;\n  code?: string;\n  username?: string;\n}\nexport interface LedgerAccountType {\n  index: number;\n  address: string;\n}\n\nexport interface AccountInfoSliceType {\n  address: string;\n  shard?: number;\n  account: AccountType;\n  publicKey: string;\n  ledgerAccount: LedgerAccountType | null;\n  walletConnectAccount: string | null;\n  isAccountLoading: boolean;\n  accountLoadingError: string | null;\n}\n\nexport const emptyAccount: AccountType = {\n  balance: '...',\n  address: '',\n  nonce: 0\n};\n\nconst initialState: AccountInfoSliceType = {\n  address: '',\n  account: emptyAccount,\n  ledgerAccount: null,\n  publicKey: '',\n  walletConnectAccount: null,\n  isAccountLoading: true,\n  accountLoadingError: null\n};\n\nexport const accountInfoSlice = createSlice({\n  name: 'accountInfoSlice',\n  initialState: initialState,\n  reducers: {\n    setAddress: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<string>\n    ) => {\n      const address = action.payload;\n      state.address = address;\n      state.publicKey = new Address(address).hex();\n    },\n    setAccount: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<AccountType>\n    ) => {\n      state.account = action.payload;\n      state.isAccountLoading = false;\n      state.accountLoadingError = null;\n    },\n    setAccountNonce: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<number>\n    ) => {\n      state.account.nonce = action.payload;\n    },\n    setAccountShard: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<number>\n    ) => {\n      state.shard = action.payload;\n    },\n    setLedgerAccount: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<LedgerAccountType | null>\n    ) => {\n      state.ledgerAccount = action.payload;\n    },\n    setWalletConnectAccount: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<string | null>\n    ) => {\n      state.walletConnectAccount = action.payload;\n    },\n    setIsAccountLoading: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<boolean>\n    ) => {\n      state.isAccountLoading = action.payload;\n      state.accountLoadingError = null;\n    },\n    setAccountLoadingError: (\n      state: AccountInfoSliceType,\n      action: PayloadAction<string | null>\n    ) => {\n      state.accountLoadingError = action.payload;\n      state.isAccountLoading = false;\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addCase(logoutAction, () => {\n      return initialState;\n    });\n    builder.addCase(\n      loginAction,\n      (\n        state: AccountInfoSliceType,\n        action: PayloadAction<LoginActionPayloadType>\n      ) => {\n        const { address } = action.payload;\n        state.address = address;\n        state.publicKey = new Address(address).hex();\n      }\n    );\n    builder.addCase(REHYDRATE, (state, action: any) => {\n      if (!action.payload?.account) {\n        return;\n      }\n\n      const { account: accountInfo } = action.payload;\n      const { address, shard, account, publicKey } = accountInfo;\n      state.address = address;\n      state.shard = shard;\n      state.account = account;\n      state.publicKey = publicKey;\n    });\n  }\n});\n\nexport const {\n  setAccount,\n  setAddress,\n  setAccountNonce,\n  setAccountShard,\n  setLedgerAccount,\n  setWalletConnectAccount,\n  setIsAccountLoading,\n  setAccountLoadingError\n} = accountInfoSlice.actions;\n\nexport default accountInfoSlice.reducer;\n","import {\n  ExtensionProvider,\n  HWProvider,\n  IDappProvider,\n  SignableMessage,\n  Transaction,\n  WalletConnectProvider,\n  WalletProvider\n} from '@elrondnetwork/erdjs';\nimport { LoginMethodsEnum } from 'types/enums';\n\nexport const DAPP_INIT_ROUTE = '/dapp/init';\n\nexport const getProviderType = (\n  provider: IDappProvider | undefined\n): LoginMethodsEnum => {\n  switch (provider?.constructor) {\n    case WalletProvider:\n      return LoginMethodsEnum.wallet;\n    case WalletConnectProvider:\n      return LoginMethodsEnum.walletconnect;\n    case HWProvider:\n      return LoginMethodsEnum.ledger;\n    case ExtensionProvider:\n      return LoginMethodsEnum.extension;\n    case EmptyProvider:\n      return LoginMethodsEnum.none;\n    default:\n      return LoginMethodsEnum.extra;\n  }\n};\n\nexport const newWalletProvider = (walletAddress: string) =>\n  new WalletProvider(`${walletAddress}${DAPP_INIT_ROUTE}`);\n\nconst notInitializedError = (caller: string) => {\n  return `Unable to perform ${caller}, Provider not initialized`;\n};\n\nexport class EmptyProvider implements IDappProvider {\n  async init() {\n    return false;\n  }\n  login(options?: { callbackUrl?: string; token?: string }): Promise<string> {\n    throw new Error(notInitializedError(`login with options: ${options}`));\n  }\n  async logout(options?: { callbackUrl?: string }): Promise<boolean> {\n    throw new Error(notInitializedError(`logout with options: ${options}`));\n  }\n  async getAddress(): Promise<string> {\n    throw new Error(notInitializedError('getAddress'));\n  }\n  isInitialized(): boolean {\n    return false;\n  }\n  async isConnected(): Promise<boolean> {\n    return false;\n  }\n  async sendTransaction(\n    transaction: Transaction,\n    options?: { callbackUrl?: string }\n  ): Promise<Transaction> {\n    throw new Error(\n      notInitializedError(\n        `sendTransaction with transactions: ${transaction} options: ${options}`\n      )\n    );\n  }\n  async signTransaction(\n    transaction: Transaction,\n    options?: { callbackUrl?: string }\n  ): Promise<Transaction> {\n    throw new Error(\n      notInitializedError(\n        `signTransaction with transactions: ${transaction} options: ${options}`\n      )\n    );\n  }\n  async signTransactions(\n    transactions: Transaction[],\n    options?: { callbackUrl?: string }\n  ): Promise<Transaction[]> {\n    throw new Error(\n      notInitializedError(\n        `signTransactions with transactions: ${transactions} options: ${options}`\n      )\n    );\n  }\n  async signMessage(message: SignableMessage): Promise<SignableMessage> {\n    throw new Error(notInitializedError(`signTransactions with ${message}`));\n  }\n}\n\nexport const emptyProvider = new EmptyProvider();\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { ExtraActionsType } from 'types';\nimport { emptyProvider } from 'utils/provider';\n\ntype ExtraActionsSliceState = ExtraActionsType;\n\nconst initialState: ExtraActionsSliceState = {\n  log: () => null,\n  getProvider: () => emptyProvider,\n  init: () => null\n};\n\nexport const extraActionsSlice = createSlice({\n  name: 'extraActionsSlice',\n  initialState,\n  reducers: {\n    initializeExtraActions: (\n      state: ExtraActionsSliceState,\n      action: PayloadAction<ExtraActionsSliceState>\n    ) => {\n      return { ...state, ...action.payload };\n    }\n  }\n});\n\nexport const { initializeExtraActions } = extraActionsSlice.actions;\n\nexport default extraActionsSlice.reducer;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { NotificationTypesEnum } from 'types';\nimport { logoutAction } from '../commonActions';\n\nexport interface TxSubmittedModal {\n  sessionId: string;\n  submittedMessage: string;\n}\n\nexport interface NotificationModal {\n  type: NotificationTypesEnum;\n  iconClassName: string;\n  title: string;\n  description: string;\n}\n\nexport interface ModalsSliceState {\n  txSubmittedModal?: TxSubmittedModal;\n  notificationModal?: NotificationModal;\n}\n\nconst initialState: ModalsSliceState = {};\n\nexport const modalsSlice = createSlice({\n  name: 'modalsSlice',\n  initialState,\n  reducers: {\n    setTxSubmittedModal: (\n      state: ModalsSliceState,\n      action: PayloadAction<TxSubmittedModal>\n    ) => {\n      state.txSubmittedModal = action.payload;\n    },\n    setNotificationModal: (\n      state: ModalsSliceState,\n      action: PayloadAction<NotificationModal>\n    ) => {\n      state.notificationModal = action.payload;\n    },\n    clearTxSubmittedModal: (state: ModalsSliceState) => {\n      state.txSubmittedModal = undefined;\n    },\n    clearNotificationModal: (state: ModalsSliceState) => {\n      state.notificationModal = undefined;\n    }\n  },\n\n  extraReducers: (builder) => {\n    builder.addCase(logoutAction, () => {\n      return initialState;\n    });\n  }\n});\n\nexport const {\n  setTxSubmittedModal,\n  setNotificationModal,\n  clearTxSubmittedModal,\n  clearNotificationModal\n} = modalsSlice.actions;\n\nexport default modalsSlice.reducer;\n","import {\n  IDappProvider,\n  IProvider,\n  IApiProvider,\n  ProxyProvider,\n  ApiProvider\n} from '@elrondnetwork/erdjs';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport omit from 'lodash/omit';\nimport {\n  AccountInfoSliceNetworkType,\n  BaseNetworkType,\n  NetworkType\n} from 'types';\nimport { getBridgeAddressFromNetwork } from 'utils/internal';\nimport { emptyProvider } from 'utils/provider';\nimport { logoutAction } from '../commonActions';\n\nexport const defaultNetwork: AccountInfoSliceNetworkType = {\n  id: 'not-configured',\n  name: 'NOT CONFIGURED',\n  egldLabel: '',\n  egldDenomination: '18',\n  decimals: '4',\n  gasPerDataByte: '1500',\n  walletConnectDeepLink: '',\n  walletConnectBridgeAddress: '',\n  walletAddress: '',\n\n  apiAddress: '',\n  explorerAddress: '',\n  apiTimeout: '4000'\n};\n\nexport interface NetworkConfigStateType {\n  provider: IDappProvider;\n  proxy: IProvider;\n  apiProvider: IApiProvider;\n  network: AccountInfoSliceNetworkType;\n  chainID: string;\n}\n\nconst initialState: NetworkConfigStateType = {\n  network: defaultNetwork,\n  proxy: new ProxyProvider(defaultNetwork.apiAddress, {\n    timeout: Number(defaultNetwork.apiTimeout)\n  }),\n  apiProvider: new ApiProvider(defaultNetwork.apiAddress, {\n    timeout: Number(defaultNetwork.apiTimeout)\n  }),\n  provider: emptyProvider,\n  chainID: '-1'\n};\n\nexport const networkConfigSlice = createSlice({\n  name: 'appConfig',\n  initialState: initialState,\n  reducers: {\n    initializeNetworkConfig: (\n      state: NetworkConfigStateType,\n      action: PayloadAction<NetworkType>\n    ) => {\n      const walletConnectBridgeAddress = getBridgeAddressFromNetwork(\n        action.payload.walletConnectBridgeAddresses\n      );\n      const network: BaseNetworkType = omit(\n        action.payload,\n        'walletConnectBridgeAddresses'\n      );\n      const { apiAddress } = network;\n\n      if (apiAddress) {\n        state.proxy = new ProxyProvider(apiAddress, {\n          timeout: Number(network.apiTimeout || defaultNetwork.apiTimeout)\n        });\n        state.apiProvider = new ApiProvider(apiAddress, {\n          timeout: Number(network.apiTimeout || defaultNetwork.apiTimeout)\n        });\n      }\n      state.network = {\n        ...state.network,\n        ...network,\n        walletConnectBridgeAddress\n      };\n    },\n    setChainID: (\n      state: NetworkConfigStateType,\n      action: PayloadAction<string>\n    ) => {\n      state.chainID = action.payload;\n    },\n    setProvider: (\n      state: NetworkConfigStateType,\n      action: PayloadAction<IDappProvider>\n    ) => {\n      state.provider = action.payload;\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addCase(logoutAction, (state) => {\n      state.provider = initialState.provider;\n    });\n  }\n});\n\nexport const { initializeNetworkConfig, setChainID, setProvider } =\n  networkConfigSlice.actions;\n\nexport default networkConfigSlice.reducer;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { TransactionsDisplayInfoType } from 'types/transactions';\nimport { logoutAction } from '../commonActions';\n\nexport interface StateType {\n  [sessionId: string]: TransactionsDisplayInfoType;\n}\n\nexport interface SetTransactionsInfoPayloadType {\n  sessionId: string;\n  transactionsDisplayInfo: TransactionsDisplayInfoType;\n}\n\nexport const defaultTransactionErrorMessage = 'Transaction failed';\nexport const defaultTransactionSuccessMessage = 'Transaction successful';\nexport const defaultTransactionProcessingMessage = 'Processing transaction';\nexport const defaultTransactionSubmittedMessage = 'Transaction submitted';\n\nconst initialState: StateType = {};\n\nexport const signTransactionsSlice = createSlice({\n  name: 'transactionsInfo',\n  initialState,\n  reducers: {\n    setTransactionsDisplayInfo(\n      state: StateType,\n      action: PayloadAction<SetTransactionsInfoPayloadType>\n    ) {\n      const { sessionId, transactionsDisplayInfo } = action.payload;\n      if (sessionId != null) {\n        state[sessionId] = {\n          errorMessage:\n            transactionsDisplayInfo?.errorMessage ||\n            defaultTransactionErrorMessage,\n          successMessage:\n            transactionsDisplayInfo?.successMessage ||\n            defaultTransactionSuccessMessage,\n          processingMessage:\n            transactionsDisplayInfo?.processingMessage ||\n            defaultTransactionProcessingMessage,\n          submittedMessage:\n            transactionsDisplayInfo?.submittedMessage ||\n            defaultTransactionSubmittedMessage,\n          transactionDuration: transactionsDisplayInfo?.transactionDuration\n        };\n      }\n    },\n    clearTransactionsInfoForSessionId(\n      state: StateType,\n      action: PayloadAction<string | undefined>\n    ) {\n      if (action.payload != null) {\n        delete state[action.payload];\n      }\n    },\n    clearTransactionsInfo: () => initialState\n  },\n  extraReducers: (builder) => {\n    builder.addCase(logoutAction, () => {\n      return initialState;\n    });\n  }\n});\n\nexport const {\n  clearTransactionsInfo,\n  setTransactionsDisplayInfo,\n  clearTransactionsInfoForSessionId\n} = signTransactionsSlice.actions;\n\nexport default signTransactionsSlice.reducer;\n","import { Address, Transaction } from '@elrondnetwork/erdjs';\nimport {\n  TransactionBatchStatusesEnum,\n  TransactionServerStatusesEnum\n} from './enums';\n\nexport interface TransactionsToSignType {\n  transactions: RawTransactionType[];\n  callbackRoute?: string;\n  sessionId: string;\n  customTransactionInformation: CustomTransactionInformation;\n}\n\nexport interface SignedTransactionsBodyType {\n  transactions?: SignedTransactionType[];\n  status?: TransactionBatchStatusesEnum;\n  errorMessage?: string;\n  customTransactionInformation?: CustomTransactionInformation;\n}\n\nexport interface SignedTransactionsType {\n  [sessionId: string]: SignedTransactionsBodyType;\n}\n\nexport interface TransactionParameter {\n  sender: Address;\n  receiver: Address;\n  functionName: string;\n  inputParameters: string[];\n  outputParameters: string[];\n}\n\nexport interface RawTransactionType {\n  signature?: string;\n  value: string;\n  receiver: string;\n  gasPrice: number;\n  gasLimit: number;\n  sender: string;\n  nonce: number;\n  data: string;\n  chainID: string;\n  version?: number;\n  options?: number;\n}\n\nexport interface SignedTransactionType extends RawTransactionType {\n  hash: string;\n  status: TransactionServerStatusesEnum;\n  errorMessage?: string;\n}\n\nexport interface TxDataTokenType {\n  tokenId: string;\n  amount: string;\n  receiver: string;\n  type?: MultiEsdtTxType['type'] | '';\n  nonce?: string;\n  multiTxData?: string;\n}\n\nexport type TxsDataTokensType = Record<string, TxDataTokenType> | undefined;\n\ninterface MultiEsdtType {\n  type:\n    | TransactionTypesEnum.esdtTransaction\n    | TransactionTypesEnum.nftTransaction;\n  receiver: string;\n  token?: string;\n  nonce?: string;\n  amount?: string;\n  data: string;\n}\n\ninterface MultiEsdtScCallType {\n  type: TransactionTypesEnum.scCall;\n  receiver: string;\n  token?: string;\n  nonce?: string;\n  amount?: string;\n  data: string;\n}\n\nexport type MultiEsdtTxType = MultiEsdtType | MultiEsdtScCallType;\n\nexport type MultiSignTxType = {\n  multiTxData?: string;\n  transactionIndex: number;\n  transaction: Transaction;\n};\n\nexport interface TokenOptionType {\n  name: string;\n  identifier: string;\n  balance: string;\n  decimals: number;\n  collection?: string;\n  avatar?: string;\n}\n\nexport interface SimpleTransactionType {\n  value: string;\n  receiver: string;\n  data?: string;\n  gasPrice?: number;\n  gasLimit?: number;\n  chainID?: string;\n  version?: number;\n  options?: number;\n}\n\nexport interface TransactionsDisplayInfoType {\n  errorMessage?: string;\n  successMessage?: string;\n  processingMessage?: string;\n  submittedMessage?: string;\n  transactionDuration?: number;\n}\n\nexport interface SendSimpleTransactionPropsType {\n  transactions: SimpleTransactionType[];\n  minGasLimit?: number;\n}\n\nexport interface SendTransactionsPropsType {\n  transactions:\n    | Transaction\n    | SimpleTransactionType\n    | (Transaction | SimpleTransactionType)[];\n  redirectAfterSign?: boolean;\n  signWithoutSending: boolean;\n  callbackRoute?: string;\n  transactionsDisplayInfo: TransactionsDisplayInfoType;\n  minGasLimit?: number;\n  completedThreshold?: number;\n  sessionInformation?: any;\n}\n\nexport interface SignTransactionsPropsType {\n  transactions: Transaction[] | Transaction;\n  minGasLimit?: number;\n  callbackRoute?: string;\n  transactionsDisplayInfo: TransactionsDisplayInfoType;\n  customTransactionInformation: CustomTransactionInformation;\n}\n\nexport enum TransactionTypesEnum {\n  MultiESDTNFTTransfer = 'MultiESDTNFTTransfer',\n  ESDTTransfer = 'ESDTTransfer',\n  ESDTNFTTransfer = 'ESDTNFTTransfer',\n  esdtTransaction = 'esdtTransaction',\n  nftTransaction = 'nftTransaction',\n  scCall = 'scCall'\n}\n\nexport interface ActiveLedgerTransactionType {\n  transaction: Transaction;\n  transactionTokenInfo: TxDataTokenType;\n  isTokenTransaction: boolean;\n  dataField: string;\n}\n\nexport interface SmartContractResult {\n  hash: string;\n  timestamp: number;\n  nonce: number;\n  gasLimit: number;\n  gasPrice: number;\n  value: string;\n  sender: string;\n  receiver: string;\n  data: string;\n  prevTxHash: string;\n  originalTxHash: string;\n  callType: string;\n  miniBlockHash: string;\n  returnMessage: string;\n}\n\nexport interface SignModalPropsType {\n  handleClose: () => void;\n  error: string | null;\n  callbackRoute?: string;\n  transactions: Transaction[];\n  className?: string;\n}\n\nexport interface CustomTransactionInformation {\n  redirectAfterSign: boolean;\n  sessionInformation: any;\n  signWithoutSending: boolean;\n  completedThreshold: number;\n}\n","import { Address, TransactionPayload } from '@elrondnetwork/erdjs';\nimport { SmartContractResult, TypesOfSmartContractCallsEnum } from 'types';\n\nconst okInHex = '6f6b';\n\nexport const ESDTTransferTypes = [\n  'ESDTNFTTransfer',\n  'ESDTNFTBurn',\n  'ESDTNFTAddQuantity',\n  'ESDTNFTCreate',\n  'MultiESDTNFTTransfer',\n  'ESDTTransfer',\n  'ESDTBurn',\n  'ESDTLocalMint',\n  'ESDTLocalBurn',\n  'ESDTWipe',\n  'ESDTFreeze'\n];\n\nexport function areScCallsSuccessful(\n  scResults?: SmartContractResult[],\n  completedThreshold = 1\n) {\n  if (!scResults) {\n    return true;\n  }\n  let numberOfOkParts = 0;\n  scResults.forEach((result) => {\n    if (result?.data) {\n      const decoded = Buffer.from(result.data, 'base64').toString().split('@');\n      const hasOkPart = Boolean(decoded.find((part) => part === okInHex));\n      if (hasOkPart) {\n        numberOfOkParts++;\n      }\n    }\n  });\n  return numberOfOkParts >= completedThreshold;\n}\n\nexport function isContract(\n  receiver: string,\n  sender?: string,\n  data = ''\n): boolean {\n  try {\n    const isContract = new Address(receiver).isContractAddress();\n    if (isContract) {\n      return true;\n    }\n    const extractedAddress = getAddressFromDataField({ receiver, data });\n    if (!extractedAddress) {\n      return false;\n    }\n    const isExtractedAddressContractCall = new Address(\n      extractedAddress\n    ).isContractAddress();\n    return (\n      isExtractedAddressContractCall ||\n      isSelfESDTContract(receiver, sender, data)\n    );\n  } catch (err) {\n    console.log('err', err);\n    return false;\n  }\n}\n\nconst isHexValidCharacters = (str: string) => {\n  return str.toLowerCase().match(/[0-9a-f]/g);\n};\nconst isHexValidLength = (str: string) => {\n  return str.length % 2 === 0;\n};\n\nexport function isSelfESDTContract(\n  receiver: string,\n  sender?: string,\n  data?: string\n) {\n  const parts = data?.split('@');\n  if (parts == null) {\n    return false;\n  }\n  const [type, ...restParts] = parts;\n  const isSelfTransaction =\n    sender != null && receiver != null && receiver === sender;\n  const isCorrectESDTType = ESDTTransferTypes.includes(type);\n  const areDataPartsValid = restParts.every(\n    (part) => isHexValidCharacters(part) && isHexValidLength(part)\n  );\n  return isSelfTransaction && isCorrectESDTType && areDataPartsValid;\n}\n\nexport function getAddressFromDataField({\n  receiver,\n  data\n}: {\n  receiver: string;\n  data: string;\n}) {\n  try {\n    if (!data) {\n      return receiver;\n    }\n    const parsedData = TransactionPayload.fromEncoded(data).toString();\n    const addressIndex = getAddressIndex(parsedData);\n    const parts = parsedData.split('@');\n    return addressIndex > -1 ? parts[addressIndex] : receiver;\n  } catch (err) {\n    console.log(err);\n    return;\n  }\n}\n\nfunction getAddressIndex(data: string) {\n  return data.includes(TypesOfSmartContractCallsEnum.MultiESDTNFTTransfer)\n    ? 1\n    : data.includes(TypesOfSmartContractCallsEnum.ESDTNFTTransfer)\n    ? 4\n    : -1;\n}\n\nexport default isContract;\n","import {\n  TransactionBatchStatusesEnum,\n  TransactionServerStatusesEnum\n} from 'types/enums';\n\nexport const pendingBatchTransactionsStates = [\n  TransactionBatchStatusesEnum.sent\n];\nexport const successBatchTransactionsStates = [\n  TransactionBatchStatusesEnum.success\n];\n\nexport const failBatchTransactionsStates = [\n  TransactionBatchStatusesEnum.fail,\n  TransactionBatchStatusesEnum.cancelled,\n  TransactionBatchStatusesEnum.timedOut\n];\n\nexport const timedOutBatchTransactionsStates = [\n  TransactionBatchStatusesEnum.timedOut\n];\n\nexport const pendingServerTransactionsStatuses = [\n  TransactionServerStatusesEnum.pending\n];\n\nexport const successServerTransactionsStates = [\n  TransactionServerStatusesEnum.success\n];\n\nexport const completedServerTransactionsStates = [\n  TransactionServerStatusesEnum.completed\n];\n\nexport const failServerTransactionsStates = [\n  TransactionServerStatusesEnum.fail,\n  TransactionServerStatusesEnum.invalid\n];\n\nexport function getIsTransactionCompleted(\n  status?: TransactionServerStatusesEnum | TransactionBatchStatusesEnum\n) {\n  return completedServerTransactionsStates.includes(\n    status as TransactionServerStatusesEnum\n  );\n}\n\nexport function getIsTransactionPending(\n  status?: TransactionServerStatusesEnum | TransactionBatchStatusesEnum,\n  isScCall = false\n) {\n  const isPending =\n    status != null &&\n    (isBatchTransactionPending(status as TransactionBatchStatusesEnum) ||\n      isServerTransactionPending(status as TransactionServerStatusesEnum));\n  return isScCall\n    ? isPending ||\n        (getIsTransactionSuccessful(status) &&\n          !getIsTransactionCompleted(status))\n    : isPending;\n}\n\nexport function getIsTransactionSuccessful(\n  status?: TransactionServerStatusesEnum | TransactionBatchStatusesEnum\n) {\n  return (\n    status != null &&\n    (isBatchTransactionSuccessful(status as TransactionBatchStatusesEnum) ||\n      isServerTransactionSuccessful(status as TransactionServerStatusesEnum))\n  );\n}\n\nexport function getIsTransactionFailed(\n  status?: TransactionServerStatusesEnum | TransactionBatchStatusesEnum\n) {\n  return (\n    status != null &&\n    (isBatchTransactionFailed(status as TransactionBatchStatusesEnum) ||\n      isServerTransactionFailed(status as TransactionServerStatusesEnum))\n  );\n}\n\nexport function getIsTransactionTimedOut(\n  status?: TransactionServerStatusesEnum | TransactionBatchStatusesEnum\n) {\n  return (\n    status != null &&\n    isBatchTransactionTimedOut(status as TransactionBatchStatusesEnum)\n  );\n}\n\nexport function isBatchTransactionPending(\n  status?: TransactionBatchStatusesEnum\n) {\n  return status != null && pendingBatchTransactionsStates.includes(status);\n}\n\nexport function isBatchTransactionSuccessful(\n  status: TransactionBatchStatusesEnum\n) {\n  return status != null && successBatchTransactionsStates.includes(status);\n}\n\nexport function isBatchTransactionFailed(status: TransactionBatchStatusesEnum) {\n  return status != null && failBatchTransactionsStates.includes(status);\n}\n\nexport function isBatchTransactionTimedOut(\n  status?: TransactionBatchStatusesEnum\n) {\n  return status != null && timedOutBatchTransactionsStates.includes(status);\n}\n\nexport function isServerTransactionPending(\n  status?: TransactionServerStatusesEnum\n) {\n  return status != null && pendingServerTransactionsStatuses.includes(status);\n}\nexport function isServerTransactionSuccessful(\n  status: TransactionServerStatusesEnum\n) {\n  return status != null && successServerTransactionsStates.includes(status);\n}\n\nexport function isServerTransactionFailed(\n  status: TransactionServerStatusesEnum\n) {\n  return status != null && failServerTransactionsStates.includes(status);\n}\n","const isUtf8 = (str: string) => {\n  for (let i = 0; i < str.length; i++) {\n    if (str.charCodeAt(i) > 127) return false;\n  }\n  return true;\n};\n\nexport function decodePart(part: string) {\n  let decodedPart = part;\n\n  try {\n    const hexPart = Buffer.from(part, 'hex').toString().trim();\n\n    if (isUtf8(hexPart) && hexPart.length > 1) {\n      decodedPart = hexPart;\n    }\n  } catch (error) {}\n\n  return decodedPart;\n}\n\nexport default decodePart;\n","export const getAllStringOccurrences = (sourceStr: string, searchStr: string) =>\n  [...sourceStr.matchAll(new RegExp(searchStr, 'gi'))].map((a) => a.index);\n","import BigNumber from 'bignumber.js';\nimport { MultiEsdtTxType, TransactionTypesEnum } from 'types/transactions';\nimport { decodePart } from 'utils/decoders';\nimport { getAllStringOccurrences } from '../getAllStringOccurrences';\n\n// TODO: add tests\nexport function parseMultiEsdtTransferData(data?: string) {\n  const transactions: MultiEsdtTxType[] = [];\n  let contractCallDataIndex = 0;\n  try {\n    if (\n      data?.startsWith(TransactionTypesEnum.MultiESDTNFTTransfer) &&\n      data?.includes('@')\n    ) {\n      const [, receiver, encodedTxCount, ...rest] = data?.split('@');\n      if (receiver) {\n        const txCount = new BigNumber(encodedTxCount, 16).toNumber();\n\n        let itemIndex = 0;\n        for (let txIndex = 0; txIndex < txCount; txIndex++) {\n          const transaction: MultiEsdtTxType = {\n            type: TransactionTypesEnum.nftTransaction,\n            data: '',\n            receiver\n          };\n\n          for (let index = 0; index < 3; index++) {\n            switch (index) {\n              case 0:\n                transaction.token = decodePart(rest[itemIndex]);\n                transaction.data = rest[itemIndex];\n                break;\n              case 1: {\n                const encodedNonce =\n                  rest[itemIndex] && rest[itemIndex].length\n                    ? rest[itemIndex]\n                    : '';\n                if (encodedNonce) {\n                  transaction.nonce = encodedNonce;\n                } else {\n                  transaction.type = TransactionTypesEnum.esdtTransaction;\n                }\n                transaction.data = `${transaction.data}@${rest[itemIndex]}`;\n                break;\n              }\n              case 2:\n                transaction.amount = new BigNumber(\n                  rest[itemIndex],\n                  16\n                ).toString(10);\n                transaction.data = `${transaction.data}@${rest[itemIndex]}`;\n                break;\n              default:\n                break;\n            }\n            contractCallDataIndex = itemIndex + 1;\n            itemIndex++;\n          }\n          transactions[txIndex] = transaction;\n        }\n        if (\n          transactions.length !== txCount ||\n          transactions.some(\n            (tx) => getAllStringOccurrences(tx.data, '@').length !== 2\n          ) ||\n          transactions.some((tx) => tx.data.startsWith('@'))\n        ) {\n          return [];\n        }\n        if (rest[contractCallDataIndex]) {\n          let scCallData = rest[contractCallDataIndex];\n          for (let i = contractCallDataIndex + 1; i < rest.length; i++) {\n            scCallData += '@' + rest[i];\n          }\n          transactions[txCount] = {\n            type: TransactionTypesEnum.scCall,\n            data: scCallData,\n            receiver\n          };\n        }\n      }\n    }\n  } catch (err) {\n    return transactions;\n  }\n  return transactions;\n}\n\nexport default parseMultiEsdtTransferData;\n","import BigNumber from 'bignumber.js';\nimport { TransactionTypesEnum } from '../../types/transactions';\n\nconst noData = {\n  tokenId: '',\n  amount: ''\n};\n\n// TODO: add tests\nexport function getTokenFromData(data?: string): {\n  tokenId: string;\n  amount: string;\n} {\n  const tokenTransfer = data?.includes(TransactionTypesEnum.ESDTTransfer);\n  const nftTransfer = data?.includes(TransactionTypesEnum.ESDTNFTTransfer);\n\n  if (data != null && (tokenTransfer || nftTransfer)) {\n    try {\n      const encodedToken = data.split('@')[1];\n      const encodedAmount = data.split('@')[tokenTransfer ? 2 : 3];\n      const tokenId = Buffer.from(encodedToken, 'hex').toString('ascii');\n\n      if (tokenId) {\n        const amount = new BigNumber(\n          '0x' + encodedAmount.replace('0x', '')\n        ).toString(10);\n        return {\n          tokenId,\n          amount\n        };\n      } else {\n        return noData;\n      }\n    } catch (e) {\n      return noData;\n    }\n  }\n  return noData;\n}\nexport default getTokenFromData;\n","export function isTokenTransfer({\n  tokenId,\n  erdLabel\n}: {\n  tokenId: string | undefined;\n  erdLabel: string;\n}) {\n  return Boolean(tokenId && tokenId !== erdLabel);\n}\n\nexport default isTokenTransfer;\n","function buildUrlParams(\n  search: string,\n  urlParams: {\n    [key: string]: string;\n  }\n) {\n  const urlSearchParams = new URLSearchParams(search);\n  const params = Object.fromEntries(urlSearchParams as any);\n\n  const nextUrlParams = new URLSearchParams({\n    ...params,\n    ...urlParams\n  }).toString();\n\n  return { nextUrlParams, params };\n}\n\ninterface ReplyUrlType {\n  callbackUrl: string;\n  urlParams?: { [key: string]: string };\n}\n\nexport function builtCallbackUrl({ callbackUrl, urlParams = {} }: ReplyUrlType) {\n  let url = callbackUrl;\n  if (Object.entries(urlParams).length > 0) {\n    const { search, origin, pathname } = new URL(callbackUrl);\n    const { nextUrlParams } = buildUrlParams(search, urlParams);\n    url = `${origin}${pathname}?${nextUrlParams}`;\n  }\n  return url;\n}\n\nexport default builtCallbackUrl;\n","import {\n  Transaction,\n  TransactionOptions,\n  TransactionVersion\n} from '@elrondnetwork/erdjs';\nimport { TransactionServerStatusesEnum } from 'types/enums';\n\nexport function parseTransactionAfterSigning(\n  transaction: Transaction,\n  isLedger = false\n) {\n  // TODO: REMOVE\n  //#region REMOVE when options is available in erdjs getTransactionsFromWalletUrl\n  if (isLedger) {\n    transaction.version = TransactionVersion.withTxHashSignVersion();\n    transaction.options = TransactionOptions.withTxHashSignOptions();\n  }\n  //#endregion\n  const parsedTransaction = transaction.toPlainObject();\n  parsedTransaction.hash = transaction.getHash().toString();\n  parsedTransaction.status = TransactionServerStatusesEnum.pending;\n  return parsedTransaction;\n}\n\nexport default parseTransactionAfterSigning;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { REHYDRATE } from 'redux-persist';\nimport {\n  TransactionBatchStatusesEnum,\n  TransactionServerStatusesEnum\n} from 'types/enums';\nimport {\n  CustomTransactionInformation,\n  SignedTransactionsBodyType,\n  SignedTransactionsType,\n  SignedTransactionType,\n  TransactionsToSignType\n} from 'types/transactions';\nimport { isContract } from 'utils/smartContracts';\nimport {\n  getIsTransactionFailed,\n  getIsTransactionSuccessful,\n  getIsTransactionCompleted\n} from 'utils/transactions';\nimport { logoutAction } from '../commonActions';\n\nexport interface UpdateSignedTransactionsPayloadType {\n  sessionId: string;\n  status: TransactionBatchStatusesEnum;\n  errorMessage?: string;\n  transactions?: SignedTransactionType[];\n}\n\nexport interface MoveTransactionsToSignedStatePayloadType\n  extends SignedTransactionsBodyType {\n  sessionId: string;\n}\n\nexport interface UpdateSignedTransactionStatusPayloadType {\n  sessionId: string;\n  transactionHash: string;\n  status: TransactionServerStatusesEnum;\n  errorMessage?: string;\n}\n\nexport interface TransactionsSliceStateType {\n  signedTransactions: SignedTransactionsType;\n  transactionsToSign: TransactionsToSignType | null;\n  signTransactionsError: string | null;\n  customTransactionInformationForSessionId: {\n    [sessionId: string]: CustomTransactionInformation;\n  };\n}\n\nconst initialState: TransactionsSliceStateType = {\n  signedTransactions: {},\n  transactionsToSign: null,\n  signTransactionsError: null,\n  customTransactionInformationForSessionId: {}\n};\n\nconst defaultCustomInformation: CustomTransactionInformation = {\n  signWithoutSending: false,\n  sessionInformation: null,\n  redirectAfterSign: false,\n  completedThreshold: 1\n};\n\nexport const transactionsSlice = createSlice({\n  name: 'transactionsSlice',\n  initialState,\n  reducers: {\n    moveTransactionsToSignedState: (\n      state: TransactionsSliceStateType,\n      action: PayloadAction<MoveTransactionsToSignedStatePayloadType>\n    ) => {\n      const { sessionId, transactions, errorMessage, status } = action.payload;\n      const customTransactionInformation =\n        state.customTransactionInformationForSessionId?.[sessionId] ||\n        defaultCustomInformation;\n      state.signedTransactions[sessionId] = {\n        transactions,\n        status,\n        errorMessage,\n        customTransactionInformation\n      };\n      if (state?.transactionsToSign?.sessionId === sessionId) {\n        state.transactionsToSign = initialState.transactionsToSign;\n      }\n    },\n\n    clearSignedTransaction: (\n      state: TransactionsSliceStateType,\n      action: PayloadAction<string>\n    ) => {\n      if (state.signedTransactions[action.payload]) {\n        delete state.signedTransactions[action.payload];\n      }\n    },\n    clearTransactionToSign: (\n      state: TransactionsSliceStateType,\n      action: PayloadAction<string>\n    ) => {\n      if (state?.transactionsToSign?.[action.payload]) {\n        delete state.transactionsToSign[action.payload];\n      }\n    },\n    updateSignedTransaction: (\n      state: TransactionsSliceStateType,\n      action: PayloadAction<SignedTransactionsType>\n    ) => {\n      state.signedTransactions = {\n        ...state.signedTransactions,\n        ...action.payload\n      };\n    },\n    updateSignedTransactions: (\n      state: TransactionsSliceStateType,\n      action: PayloadAction<UpdateSignedTransactionsPayloadType>\n    ) => {\n      const { sessionId, status, errorMessage, transactions } = action.payload;\n      const transaction = state.signedTransactions[sessionId];\n      if (transaction != null) {\n        state.signedTransactions[sessionId].status = status;\n        if (errorMessage != null) {\n          state.signedTransactions[sessionId].errorMessage = errorMessage;\n        }\n        if (transactions != null) {\n          state.signedTransactions[sessionId].transactions = transactions;\n        }\n      }\n    },\n    updateSignedTransactionStatus: (\n      state: TransactionsSliceStateType,\n      action: PayloadAction<UpdateSignedTransactionStatusPayloadType>\n    ) => {\n      const { sessionId, status, errorMessage, transactionHash } =\n        action.payload;\n      const transactions = state.signedTransactions?.[sessionId]?.transactions;\n      if (transactions != null) {\n        state.signedTransactions[sessionId].transactions = transactions.map(\n          (transaction) => {\n            if (transaction.hash === transactionHash) {\n              return {\n                ...transaction,\n                status,\n                errorMessage\n              };\n            }\n            return transaction;\n          }\n        );\n        const areTransactionsSuccessful = state.signedTransactions[\n          sessionId\n        ]?.transactions?.every((transaction) => {\n          const isScCall = isContract(\n            transaction.receiver,\n            transaction.sender,\n            transaction.data\n          );\n          return isScCall\n            ? getIsTransactionCompleted(transaction.status)\n            : getIsTransactionSuccessful(transaction.status);\n        });\n\n        const areTransactionsFailed = state.signedTransactions[\n          sessionId\n        ]?.transactions?.every((transaction) =>\n          getIsTransactionFailed(transaction.status)\n        );\n        if (areTransactionsSuccessful) {\n          state.signedTransactions[sessionId].status =\n            TransactionBatchStatusesEnum.success;\n        }\n        if (areTransactionsFailed) {\n          state.signedTransactions[sessionId].status =\n            TransactionBatchStatusesEnum.fail;\n        }\n      }\n    },\n    setTransactionsToSign: (\n      state: TransactionsSliceStateType,\n      action: PayloadAction<TransactionsToSignType>\n    ) => {\n      state.transactionsToSign = action.payload;\n\n      const { sessionId, customTransactionInformation } = action.payload;\n      state.customTransactionInformationForSessionId[sessionId] =\n        customTransactionInformation;\n\n      state.signTransactionsError = null;\n    },\n    clearAllTransactionsToSign: (state) => {\n      state.transactionsToSign = initialState.transactionsToSign;\n      state.signTransactionsError = null;\n    },\n    clearAllSignedTransactions: (state) => {\n      state.signedTransactions = initialState.signedTransactions;\n    },\n    setSignTransactionsError: (state, action: PayloadAction<string | null>) => {\n      state.signTransactionsError = action.payload;\n    }\n  },\n  extraReducers: (builder) => {\n    builder.addCase(logoutAction, () => {\n      return initialState;\n    });\n    builder.addCase(REHYDRATE, (state, action: any) => {\n      if (!action.payload?.transactions) {\n        return;\n      }\n\n      const { signedTransactions, customTransactionInformationForSessionId } =\n        action.payload.transactions;\n      const parsedSignedTransactions = Object.entries(\n        signedTransactions\n      ).reduce((acc, [sessionId, transaction]) => {\n        const txTimestamp: any = new Date(sessionId);\n        const expiration: any = new Date();\n        expiration.setHours(expiration.getHours() + 5);\n        const isExpired = expiration - txTimestamp > 0;\n        if (!isExpired) {\n          acc[sessionId] = transaction;\n        }\n        return acc;\n      }, {});\n      if (customTransactionInformationForSessionId != null) {\n        state.customTransactionInformationForSessionId =\n          customTransactionInformationForSessionId;\n      }\n      if (signedTransactions != null) {\n        state.signedTransactions = parsedSignedTransactions;\n      }\n    });\n  }\n});\n\nexport const {\n  updateSignedTransactionStatus,\n  updateSignedTransactions,\n  setTransactionsToSign,\n  clearAllTransactionsToSign,\n  clearAllSignedTransactions,\n  clearSignedTransaction,\n  clearTransactionToSign,\n  setSignTransactionsError,\n  moveTransactionsToSignedState\n} = transactionsSlice.actions;\n\nexport default transactionsSlice.reducer;\n","import { combineReducers } from '@reduxjs/toolkit';\nimport { persistReducer } from 'redux-persist';\n\nimport account from './slices/accountInfoSlice';\nimport extraActions from './slices/extraActionsSlice';\nimport loginInfo from './slices/loginInfoSlice';\nimport modals from './slices/modalsSlice';\nimport networkConfig from './slices/networkConfigSlice';\nimport transactionsInfo from './slices/transactionsInfoSlice';\nimport transactions from './slices/transactionsSlice';\n\nconst reducers = {\n  account,\n  networkConfig,\n  extraActions,\n  loginInfo,\n  modals,\n  transactions,\n  transactionsInfo\n};\n\nif (window?.localStorage != null) {\n  //This allows for this library to be used on other platforms than web, like React Native\n  //without this condition, redux-persist 6+ will throw an error if persist storage fails\n  const sessionStorage = require('redux-persist/lib/storage/session').default;\n\n  //#region custom reducers\n  const transactionsInfoPersistConfig = {\n    key: 'dapp-core-transactionsInfo',\n    version: 1,\n    storage: sessionStorage\n  };\n  const transactionsReducer = {\n    key: 'dapp-core-transactions',\n    version: 1,\n    storage: sessionStorage,\n    blacklist: ['transactionsToSign']\n  };\n  reducers.transactions = persistReducer(\n    transactionsReducer,\n    transactions\n  ) as any;\n  reducers.transactionsInfo = persistReducer(\n    transactionsInfoPersistConfig,\n    transactionsInfo\n  ) as any;\n  //#endregion\n}\n\nconst rootReducer = combineReducers(reducers);\n\nexport default rootReducer;\n","import { configureStore } from '@reduxjs/toolkit';\n\nimport { Reducer } from 'redux';\n\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER\n} from 'redux-persist';\n\nimport loginSessionMiddleware from './middlewares/loginSessionMiddleware';\nimport rootReducer from './reducers';\n\nlet localStorageReducers: Partial<Reducer> = rootReducer;\n\n//This allows for this library to be used on other platforms than web, like React Native\n//without this condition, redux-persist 6+ will throw an error if persist storage fails\nif (window?.localStorage != null) {\n  const storage = require('redux-persist/lib/storage').default;\n  const persistConfig = {\n    key: 'dapp-core-store',\n    version: 1,\n    storage,\n    whitelist: ['account', 'loginInfo', 'toasts', 'modals']\n  };\n  localStorageReducers = persistReducer(persistConfig, rootReducer);\n}\n\nexport const store = configureStore({\n  reducer: localStorageReducers,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [\n          FLUSH,\n          REHYDRATE,\n          PAUSE,\n          PERSIST,\n          PURGE,\n          REGISTER,\n          'appConfig/setProvider',\n          'accountInfoSlice/setAccount',\n          'accountInfoSlice/setAccountNonce',\n          'extraActionsSlice/initializeExtraActions'\n        ],\n        ignoredPaths: [\n          'networkConfig.proxy',\n          'networkConfig.apiProvider',\n          'networkConfig.provider',\n          'payload.nonce',\n          'account.account.nonce',\n          // extra actions\n          'extraActions.log',\n          'payload.log',\n          'payload.onLogin',\n\n          'extraActions.getProvider',\n          'extraActions.init'\n        ]\n      }\n    }).concat(loginSessionMiddleware)\n});\n\nexport const persistor = persistStore(store);\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type StoreType = typeof store;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","import { createSelector } from 'reselect';\nimport { RootState } from '../store';\n\nexport const extraActionsSelector = (state: RootState) => state.extraActions;\n\nexport const extraActionsInit = createSelector(\n  extraActionsSelector,\n  (state) => state.init\n);\n","import {\n  Transaction,\n  GasLimit,\n  GasPrice,\n  Address,\n  TransactionPayload,\n  Balance,\n  ChainID,\n  TransactionVersion\n} from '@elrondnetwork/erdjs';\nimport { Nonce, TransactionOptions } from '@elrondnetwork/erdjs/out';\nimport { RawTransactionType } from 'types/transactions';\n\nexport default function newTransaction(rawTransaction: RawTransactionType) {\n  const { data } = rawTransaction;\n  const parsedData = data ? atob(data) : '';\n  return new Transaction({\n    value: Balance.fromString(rawTransaction.value),\n    data: new TransactionPayload(parsedData),\n    nonce: new Nonce(rawTransaction.nonce),\n    receiver: new Address(rawTransaction.receiver),\n    gasLimit: new GasLimit(rawTransaction.gasLimit),\n    gasPrice: new GasPrice(rawTransaction.gasPrice),\n    chainID: new ChainID(rawTransaction.chainID),\n    ...(rawTransaction.version\n      ? { version: new TransactionVersion(rawTransaction.version) }\n      : {}),\n    ...(rawTransaction.options\n      ? { options: new TransactionOptions(rawTransaction.options) }\n      : {})\n  });\n}\n","import { Transaction } from '@elrondnetwork/erdjs';\nimport newTransaction from 'models/newTransaction';\nimport {\n  CustomTransactionInformation,\n  RawTransactionType,\n  SignedTransactionsType\n} from 'types/transactions';\nimport {\n  getIsTransactionCompleted,\n  getIsTransactionFailed,\n  getIsTransactionPending,\n  getIsTransactionSuccessful,\n  getIsTransactionTimedOut\n} from 'utils/transactions';\nimport { RootState } from '../store';\nimport { createDeepEqualSelector } from './helpers';\n\nexport interface TransactionsToSignReturnType {\n  callbackRoute?: string;\n  sessionId: string;\n  transactions: Transaction[];\n  customTransactionInformation: CustomTransactionInformation;\n}\n\nexport const transactionsSelectors = (state: RootState) => state.transactions;\n\nexport const signedTransactionsSelector = createDeepEqualSelector(\n  transactionsSelectors,\n  (state) => state.signedTransactions as SignedTransactionsType\n);\n\nexport const signTransactionsErrorSelector = createDeepEqualSelector(\n  transactionsSelectors,\n  (state) => state.signTransactionsError\n);\n\nexport const pendingSignedTransactionsSelector = createDeepEqualSelector(\n  signedTransactionsSelector,\n  (signedTransactions) =>\n    Object.entries(signedTransactions).reduce((acc, [sessionId, txBody]) => {\n      if (getIsTransactionPending(txBody.status)) {\n        acc[sessionId] = txBody;\n      }\n      return acc;\n    }, {})\n);\n\nexport const successfulTransactionsSelector = createDeepEqualSelector(\n  signedTransactionsSelector,\n  (signedTransactions) =>\n    Object.entries(signedTransactions).reduce((acc, [sessionId, txBody]) => {\n      if (getIsTransactionSuccessful(txBody.status)) {\n        acc[sessionId] = txBody;\n      }\n      return acc;\n    }, {})\n);\n\nexport const completedTransactionsSelector = createDeepEqualSelector(\n  signedTransactionsSelector,\n  (signedTransactions) =>\n    Object.entries(signedTransactions).reduce((acc, [sessionId, txBody]) => {\n      if (getIsTransactionCompleted(txBody.status)) {\n        acc[sessionId] = txBody;\n      }\n      return acc;\n    }, {})\n);\n\nexport const failedTransactionsSelector = createDeepEqualSelector(\n  signedTransactionsSelector,\n  (signedTransactions) =>\n    Object.entries(signedTransactions).reduce((acc, [sessionId, txBody]) => {\n      if (getIsTransactionFailed(txBody.status)) {\n        acc[sessionId] = txBody;\n      }\n      return acc;\n    }, {})\n);\n\nexport const timedOutTransactionsSelector = createDeepEqualSelector(\n  signedTransactionsSelector,\n  (signedTransactions) =>\n    Object.entries(signedTransactions).reduce((acc, [sessionId, txBody]) => {\n      if (getIsTransactionTimedOut(txBody.status)) {\n        acc[sessionId] = txBody;\n      }\n      return acc;\n    }, {})\n);\n\nexport const transactionsToSignSelector = createDeepEqualSelector(\n  transactionsSelectors,\n  (state): TransactionsToSignReturnType | null => {\n    if (state?.transactionsToSign == null) {\n      return null;\n    }\n    return {\n      ...state.transactionsToSign,\n      transactions:\n        state?.transactionsToSign?.transactions.map((tx: RawTransactionType) =>\n          newTransaction(tx)\n        ) || []\n    };\n  }\n);\n\nexport const transactionStatusSelector = createDeepEqualSelector(\n  signedTransactionsSelector,\n  (_: RootState, transactionSessionId: string | null) => transactionSessionId,\n  (\n    signedTransactions: SignedTransactionsType,\n    transactionSessionId: string | null\n  ) =>\n    transactionSessionId != null\n      ? signedTransactions?.[transactionSessionId] || {}\n      : {}\n);\n","import { createDeepEqualSelector } from 'redux/selectors/helpers';\nimport {\n  defaultTransactionErrorMessage,\n  defaultTransactionProcessingMessage,\n  defaultTransactionSuccessMessage\n} from 'redux/slices';\nimport { RootState } from '../store';\n\nconst defaultTransactionInfo = {\n  errorMessage: defaultTransactionErrorMessage,\n  successMessage: defaultTransactionSuccessMessage,\n  processingMessage: defaultTransactionProcessingMessage\n};\n\nexport const transactionsInfoSelectors = (state: RootState) =>\n  state.transactionsInfo;\n\nexport const transactionDisplayInfoSelector = createDeepEqualSelector(\n  transactionsInfoSelectors,\n  (_: RootState, transactionSessionId: string | null) => transactionSessionId,\n  (transactionsDisplayInfo: any, transactionSessionId: string | null) =>\n    transactionSessionId != null\n      ? transactionsDisplayInfo?.[Number(transactionSessionId)] ||\n        defaultTransactionInfo\n      : defaultTransactionInfo\n);\n","import { RootState } from '../store';\nimport { createDeepEqualSelector } from './helpers';\n\nexport const modalsSliceSelector = (state: RootState) => state.modals;\n\nexport const txSubmittedModalSelector = createDeepEqualSelector(\n  modalsSliceSelector,\n  (state) => state.txSubmittedModal\n);\n\nexport const notificationModalSelector = createDeepEqualSelector(\n  modalsSliceSelector,\n  (state) => state.notificationModal\n);\n","import { isLoggedInSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getIsLoggedIn() {\n  return isLoggedInSelector(store.getState());\n}\n","import { logoutAction } from 'redux/commonActions';\nimport { providerSelector } from 'redux/selectors/networkConfigSelectors';\nimport { store } from 'redux/store';\nimport { LoginMethodsEnum } from 'types';\nimport { getIsLoggedIn } from 'utils/getIsLoggedIn';\nimport { getProviderType } from 'utils/provider';\n\nexport async function logout(\n  callbackUrl?: string,\n  onRedirect?: (callbackUrl?: string) => void\n) {\n  const provider = providerSelector(store.getState());\n  const providerType = getProviderType(provider);\n  const isLoggedIn = getIsLoggedIn();\n  if (!isLoggedIn) {\n    return;\n  }\n\n  store.dispatch(logoutAction());\n\n  try {\n    await provider.logout({ callbackUrl });\n    if (callbackUrl && providerType !== LoginMethodsEnum.wallet) {\n      if (typeof onRedirect === 'function') {\n        onRedirect(callbackUrl);\n      } else {\n        window.location.href = callbackUrl;\n      }\n    }\n  } catch (err) {\n    console.error('error logging out', err);\n  }\n}\n","export function buildUrlParams(\n  search: string,\n  urlParams: {\n    [key: string]: string;\n  }\n) {\n  const urlSearchParams: any = new URLSearchParams(search);\n  const params = Object.fromEntries(urlSearchParams);\n  const nextUrlParams = new URLSearchParams({\n    ...params,\n    ...urlParams\n  }).toString();\n  return { nextUrlParams, params };\n}\n","interface SwitchTrueType {\n  default: any;\n  [key: string]: any;\n}\n\ntype ReturnKeys = 'true' | 'false';\n\nexport function switchTrue(object: SwitchTrueType) {\n  const { default: defaultValue, ...rest } = object;\n  const obj = { default: defaultValue, ...rest };\n  const result = Object.keys(obj).reduce((acc, cur) => {\n    return {\n      ...acc,\n      [cur === 'default' ? 'true' : cur]: (obj as any)[cur as ReturnKeys]\n    };\n  }, {} as Record<ReturnKeys, any>);\n  return result['true'];\n}\n","import { Address } from '@elrondnetwork/erdjs';\n\nfunction canTransformToPublicKey(address: string) {\n  try {\n    const checkAddress = new Address(address);\n    return Boolean(checkAddress.bech32());\n  } catch {\n    return false;\n  }\n}\n\nexport function addressIsValid(destinationAddress: string) {\n  const isValidBach =\n    destinationAddress?.startsWith('erd') &&\n    destinationAddress.length === 62 &&\n    /^\\w+$/.test(destinationAddress);\n\n  return isValidBach && canTransformToPublicKey(destinationAddress);\n}\n","import { proxySelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getNetworkProxy() {\n  return proxySelector(store.getState());\n}\n","import { apiProviderSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getApiProvider() {\n  return apiProviderSelector(store.getState());\n}\n","import { providerSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getAccountProvider() {\n  return providerSelector(store.getState());\n}\n","import { getProviderType } from 'utils/provider';\nimport { getAccountProvider } from './getAccountProvider';\n\nexport function getAccountProviderType() {\n  const provider = getAccountProvider();\n  return getProviderType(provider);\n}\n","import { chainIDSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getChainID() {\n  return chainIDSelector(store.getState());\n}\n","import { networkSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getNetworkConfig() {\n  return networkSelector(store.getState());\n}\n","import { egldLabelSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getEgldLabel() {\n  return egldLabelSelector(store.getState());\n}\n","import { getAccountProviderType } from './getAccountProviderType';\n\nexport function getIsProviderEqualTo(comparedProviderType: any) {\n  const providerType = getAccountProviderType();\n  return providerType === comparedProviderType;\n}\n","import {\n  addressSelector,\n  isLoggedInSelector,\n  providerSelector,\n  walletLoginSelector\n} from 'redux/selectors';\nimport { store } from 'redux/store';\nimport { LoginMethodsEnum } from 'types/enums';\nimport { getIsProviderEqualTo } from 'utils/network';\nimport { addressIsValid } from './addressIsValid';\n\nexport function getAddress(): Promise<string> {\n  const { search } = window.location;\n  const appState = store.getState();\n  const provider = providerSelector(appState);\n  const address = addressSelector(appState);\n  const loggedIn = isLoggedInSelector(appState);\n  const walletLogin = walletLoginSelector(appState);\n\n  if (getIsProviderEqualTo(LoginMethodsEnum.ledger) && loggedIn) {\n    return new Promise((resolve) => {\n      resolve(address);\n    });\n  }\n\n  return !getIsProviderEqualTo(LoginMethodsEnum.none) &&\n    !getIsProviderEqualTo(LoginMethodsEnum.wallet) &&\n    !getIsProviderEqualTo(LoginMethodsEnum.extra)\n    ? // TODO: does not take into account ledger locked see link for details:\n      // https://github.com/ElrondNetwork/dapp/blob/d5c57695a10055f20d387ba064b6843606789ee9/src/helpers/accountMethods.tsx#L21\n      provider.getAddress()\n    : new Promise((resolve) => {\n        if (walletLogin != null) {\n          const urlSearchParams = new URLSearchParams(search);\n          const params = Object.fromEntries(urlSearchParams as any);\n          if (addressIsValid(params.address)) {\n            resolve(params.address);\n          }\n        }\n        if (loggedIn) {\n          resolve(address);\n        }\n        resolve('');\n      });\n}\n\nexport default getAddress;\n","import { Address } from '@elrondnetwork/erdjs';\nimport { proxySelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getAccount(address?: string) {\n  const proxy = proxySelector(store.getState());\n  return proxy.getAccount(new Address(address));\n}\n\nexport default getAccount;\n","import { setAccountNonce } from 'redux/slices';\nimport { store } from 'redux/store';\n\n// this is is needed to allow the users to set the nonce dynamically from outside the library\n// without getting access to store.dispatch function\nexport function setNonce(nonce: number) {\n  store.dispatch(setAccountNonce(nonce));\n}\n","import { AccountOnNetwork } from '@elrondnetwork/erdjs';\nimport { accountNonceSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport function getLatestNonce(account: AccountOnNetwork) {\n  const appState = store.getState();\n  const currentAccountNonce = accountNonceSelector(appState);\n  return currentAccountNonce && !isNaN(currentAccountNonce)\n    ? Math.max(currentAccountNonce, account.nonce.valueOf())\n    : account.nonce.valueOf();\n}\n\nexport default getLatestNonce;\n","import { accountSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\nimport { getAccount } from './getAccount';\n\nexport async function getAccountBalance(address?: string) {\n  let accountAddress = address;\n  if (accountAddress == null) {\n    const account = accountSelector(store.getState());\n    accountAddress = account.address;\n  }\n  const account = await getAccount(accountAddress);\n  return account.balance.toString();\n}\n","import { providerSelector } from 'redux/selectors';\nimport { setAccount } from 'redux/slices';\nimport { store } from 'redux/store';\nimport getAccount from './getAccount';\nimport getAddress from './getAddress';\nimport getLatestNonce from './getLatestNonce';\n\nconst setNewAccount = async () => {\n  try {\n    const address = await getAddress();\n    try {\n      const account = await getAccount(address);\n      const accountData = {\n        balance: account.balance.toString(),\n        address,\n        nonce: getLatestNonce(account)\n      };\n      store.dispatch(setAccount(accountData));\n      return accountData;\n    } catch (e) {\n      console.error('Failed getting account ', e);\n    }\n  } catch (e) {\n    console.error('Failed getting address ', e);\n  }\n  return null;\n};\n\nexport async function refreshAccount() {\n  const provider = providerSelector(store.getState());\n  if (provider.isInitialized()) {\n    return setNewAccount();\n  } else {\n    try {\n      const initialized = await provider.init();\n      if (!initialized) {\n        return;\n      }\n      return setNewAccount();\n    } catch (e) {\n      console.error('Failed initializing provider ', e);\n    }\n  }\n  return undefined;\n}\n","const isAddressOfMetachain = (pubKey: Buffer) => {\n  // prettier-ignore\n  const metachainPrefix = Buffer.from([\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0\n  ]);\n  const pubKeyPrefix = pubKey.slice(0, metachainPrefix.length);\n  if (pubKeyPrefix.equals(metachainPrefix)) {\n    return true;\n  }\n  const zeroAddress = Buffer.alloc(32).fill(0);\n  return pubKey.equals(zeroAddress);\n};\nexport const getShardOfAddress = (hexPubKey: any) => {\n  try {\n    const numShards = 3;\n    const maskHigh = parseInt('11', 2);\n    const maskLow = parseInt('01', 2);\n    const pubKey = Buffer.from(hexPubKey, 'hex');\n    const lastByteOfPubKey = pubKey[31];\n    if (isAddressOfMetachain(pubKey)) {\n      return 4294967295;\n    }\n    let shard = lastByteOfPubKey & maskHigh;\n    if (shard > numShards - 1) {\n      shard = lastByteOfPubKey & maskLow;\n    }\n    return shard;\n  } catch (err) {\n    return -1;\n  }\n};\n","export const logarithmicRest = (position: number) => {\n  const minp = 0;\n  const maxp = 10;\n\n  const minv = Math.log(0.005);\n  const maxv = Math.log(2);\n\n  const scale = (maxv - minv) / (maxp - minp);\n\n  return Math.exp(minv + scale * (position - minp));\n};\n","export const ERROR_SIGNING= 'error when signing';\nexport const TRANSACTION_CANCELLED = 'Transaction cancelled';\nexport const ERROR_SIGNING_TX = 'error signing transaction';\nexport const PROVIDER_NOT_INTIALIZED = 'provider not intialized';\nexport const MISSING_PROVIDER_MESSAGE = 'You need a signer/valid signer to send a transaction,use either WalletProvider, LedgerProvider or WalletConnect';\n","import { EnvironmentsEnum, NetworkType } from 'types';\n\nexport const DEFAULT_MIN_GAS_LIMIT = 50_000;\n\nexport const configEndpoint: Record<EnvironmentsEnum, string> = {\n  mainnet: 'https://api.elrond.com/dapp/config',\n  testnet: 'https://testnet-api.elrond.com/dapp/config',\n  devnet: 'https://devnet-api.elrond.com/dapp/config'\n};\n\nexport const fallbackNetworkConfigurations: Record<string, NetworkType> = {\n  devnet: {\n    id: 'devnet',\n    name: 'Devnet',\n    egldLabel: 'xEGLD',\n    egldDenomination: '18',\n    decimals: '4',\n    gasPerDataByte: '1500',\n    walletConnectDeepLink:\n      'https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/',\n    walletConnectBridgeAddresses: ['https://bridge.walletconnect.org'],\n    walletAddress: 'https://devnet-wallet.elrond.com',\n    apiAddress: 'https://devnet-api.elrond.com',\n    explorerAddress: 'http://devnet-explorer.elrond.com',\n    apiTimeout: '4000'\n  },\n  testnet: {\n    id: 'testnet',\n    name: 'Testnet',\n    egldLabel: 'xEGLD',\n    egldDenomination: '18',\n    decimals: '4',\n    gasPerDataByte: '1500',\n    walletConnectDeepLink:\n      'https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/',\n    walletConnectBridgeAddresses: ['https://bridge.walletconnect.org'],\n    walletAddress: 'https://testnet-wallet.elrond.com',\n    apiAddress: 'https://testnet-api.elrond.com',\n    explorerAddress: 'http://testnet-explorer.elrond.com',\n    apiTimeout: '4000'\n  },\n  mainnet: {\n    id: 'mainnet',\n    name: 'Mainnet',\n    egldLabel: 'xEGLD',\n    egldDenomination: '18',\n    decimals: '4',\n    gasPerDataByte: '1500',\n    walletConnectDeepLink:\n      'https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/',\n    walletConnectBridgeAddresses: ['https://bridge.walletconnect.org'],\n    walletAddress: 'https://wallet.elrond.com',\n    apiAddress: 'https://api.elrond.com',\n    explorerAddress: 'https://explorer.elrond.com',\n    apiTimeout: '4000'\n  }\n};\n","const ledgerErrorCodes = {\n  0x9000: {\n    code: 'codeSuccess',\n    message: 'Success'\n  },\n  0x6985: {\n    code: 'ERR_USER_DENIED',\n    message: 'Rejected by user'\n  },\n  0x6d00: {\n    code: 'ERR_UNKNOWN_INSTRUCTION',\n    message: 'Unknown instruction'\n  },\n  0x6e00: {\n    code: 'ERR_WRONG_CLA',\n    message: 'Wrong CLA'\n  },\n  0x6e01: {\n    code: 'ERR_INVALID_ARGUMENTS',\n    message: 'Invalid arguments'\n  },\n  0x6e02: {\n    code: 'ERR_INVALID_MESSAGE',\n    message: 'Invalid message'\n  },\n  0x6e03: {\n    code: 'ERR_INVALID_P1',\n    message: 'Invalid P1'\n  },\n  0x6e04: {\n    code: 'ERR_MESSAGE_TOO_LONG',\n    message: 'Message too long'\n  },\n  0x6e05: {\n    code: 'ERR_RECEIVER_TOO_LONG',\n    message: 'Receiver too long'\n  },\n  0x6e06: {\n    code: 'ERR_AMOUNT_TOO_LONG',\n    message: 'Amount too long'\n  },\n  0x6e07: {\n    code: 'ERR_CONTRACT_DATA_DISABLED',\n    message: 'Contract data disabled in app options'\n  },\n  0x6e08: {\n    code: 'ERR_MESSAGE_INCOMPLETE',\n    message: 'Message incomplete'\n  },\n  0x6e10: {\n    code: 'ERR_SIGNATURE_FAILED',\n    message: 'Signature failed'\n  },\n  0x6e09: {\n    code: 'ERR_WRONG_TX_VERSION',\n    message: 'Wrong TX version'\n  },\n  0x6e0a: {\n    code: 'ERR_NONCE_TOO_LONG',\n    message: 'Nonce too long'\n  },\n  0x6e0b: {\n    code: 'ERR_INVALID_AMOUNT',\n    message: 'Invalid amount'\n  },\n  0x6e0c: {\n    code: 'ERR_INVALID_FEE',\n    message: 'Invalid fee'\n  },\n  0x6e0d: {\n    code: 'ERR_PRETTY_FAILED',\n    message: 'Pretty failed'\n  },\n  0x6e0e: {\n    code: 'ERR_DATA_TOO_LONG',\n    message: 'Data too long'\n  },\n  0x6e0f: {\n    code: 'ERR_WRONG_TX_OPTIONS',\n    message: 'Invalid transaction options'\n  },\n  0x6e11: {\n    code: 'ERR_SIGN_TX_DEPRECATED',\n    message:\n      'Regular transaction signing is deprecated in this version. Use hash signing.'\n  }\n};\n\nexport default ledgerErrorCodes;\n","export * as errorsMessages from './errorsMessages';\nexport * as networkConstants from './network';\nexport * as ledgerErrorCodes from './ledgerErrorCodes';\n\nexport const gasPriceModifier = '0.01';\nexport const gasPerDataByte = '1500';\nexport const gasLimit = '50000';\nexport const defaultGasPrice = 1_000_000_000;\nexport const defaultGasLimit = 60_000_000;\nexport const denomination = 18;\nexport const decimals = 4;\n\nexport const dappInitRoute = '/dapp/init';\nexport const walletSignSession = 'signSession';\n","export function pipe<ValueType>(previous: ValueType) {\n  return {\n    if: function (condition: boolean) {\n      if (condition) {\n        return {\n          then: (newValue: ValueType | ((prop: ValueType) => ValueType)) =>\n            // if a callback is passed, callback is executed with previous value\n            newValue instanceof Function\n              ? pipe(newValue(previous))\n              : pipe(newValue)\n        };\n      } else {\n        return {\n          then: () => pipe(previous)\n        };\n      }\n    },\n\n    then: (newValue: ValueType | ((prop: ValueType) => ValueType)) =>\n      newValue instanceof Function ? pipe(newValue(previous)) : pipe(newValue),\n\n    valueOf: function () {\n      return previous;\n    }\n  };\n}\nexport default pipe;\n","import { validation } from '@elrondnetwork/dapp-utils';\nimport { Balance, Token } from '@elrondnetwork/erdjs';\nimport BigNumber from 'bignumber.js';\nimport {\n  denomination as configDenomination,\n  decimals as configDecimals\n} from 'constants/index';\nimport pipe from './pipe';\n\nBigNumber.config({ ROUNDING_MODE: BigNumber.ROUND_FLOOR });\n\nexport function denominate({\n  input,\n  denomination = configDenomination,\n  decimals = configDecimals,\n  showLastNonZeroDecimal = true,\n  addCommas = false\n}: {\n  input: string | Balance;\n  denomination?: number;\n  decimals?: number;\n  showLastNonZeroDecimal?: boolean;\n  addCommas?: boolean;\n}) {\n  const token = new Token({ decimals: denomination });\n\n  if (typeof input === 'string' && !validation.stringIsInteger(input, false)) {\n    throw new Error('Invalid input');\n  }\n\n  return (\n    pipe(input as string)\n      // denominate\n      .if(typeof input === 'string')\n      .then(() =>\n        new Balance(token, 0, new BigNumber(input as string)).toDenominated()\n      )\n\n      .if(input.constructor === Balance)\n      .then(() => (input as Balance).toDenominated())\n\n      // format\n      .then((current) => {\n        const bnBalance = new BigNumber(current);\n\n        if (bnBalance.isZero()) {\n          return '0';\n        }\n        const balance = bnBalance.toString(10);\n        const [integerPart, decimalPart] = balance.split('.');\n        const bNdecimalPart = new BigNumber(decimalPart || 0);\n\n        const decimalPlaces = pipe(0)\n          .if(Boolean(decimalPart && showLastNonZeroDecimal))\n          .then(() => Math.max(decimalPart.length, decimals))\n\n          .if(bNdecimalPart.isZero() && !showLastNonZeroDecimal)\n          .then(0)\n\n          .if(Boolean(decimalPart && !showLastNonZeroDecimal))\n          .then(() => Math.min(decimalPart.length, decimals))\n\n          .valueOf();\n\n        const shownDecimalsAreZero =\n          decimalPart &&\n          decimals >= 1 &&\n          decimals <= decimalPart.length &&\n          bNdecimalPart.isGreaterThan(0) &&\n          new BigNumber(decimalPart.substring(0, decimals)).isZero();\n\n        const formatted = bnBalance.toFormat(decimalPlaces);\n\n        const formattedBalance = pipe(balance)\n          .if(addCommas)\n          .then(formatted)\n\n          .if(Boolean(shownDecimalsAreZero) && !showLastNonZeroDecimal)\n          .then((current) => {\n            const integerPartZero = new BigNumber(integerPart).isZero();\n            const [numericPart] = current.split('.');\n\n            const zeroPlaceholders = new Array(decimals - 1).fill(0);\n            const zeros = [...zeroPlaceholders, 0].join('');\n            const minAmount = [...zeroPlaceholders, 1].join(''); // 00..1\n\n            if (integerPartZero) {\n              return `<${numericPart}.${minAmount}`;\n            } else {\n              return `${numericPart}.${zeros}`;\n            }\n          })\n\n          .valueOf();\n\n        return formattedBalance;\n      })\n\n      .valueOf()\n  );\n}\nexport default denominate;\n","import {\n  createBalanceBuilder,\n  Token,\n  TokenType\n} from '@elrondnetwork/erdjs/out';\nimport { denomination as configDenomination } from 'constants/index';\n\nexport function nominate(input: string, customDenomination?: number) {\n  const balance = createBalanceBuilder(\n    new Token({\n      decimals: customDenomination || configDenomination,\n      type: TokenType.Fungible\n    })\n  );\n  return balance(input).toString();\n}\n\nexport default nominate;\n","let classnames: any = {};\ntry {\n  classnames = require('classnames');\n} catch (err) {}\n\nexport default classnames;\n","import classNames from 'optionalPackages/classnames';\n\nexport function getGeneratedClasses(\n  className: string,\n  shouldRenderDefaultCss: boolean,\n  defaultStyles: Record<string, string>\n) {\n  return Object.entries(defaultStyles).reduce(\n    (acc, [key, defaultClassNames]) => {\n      acc[key] = classNames?.(\n        `${className}_${key}`,\n        shouldRenderDefaultCss && (defaultClassNames as string)\n      );\n      return acc;\n    },\n    {}\n  ) as any;\n}\n","export const wrapperClassName = 'dapp-core-ui-component';\nexport default wrapperClassName;\n","let moment: any = {};\ntry {\n  moment = require('moment');\n} catch (err) {}\n\nexport default moment;\n","import moment from 'optionalPackages/moment';\n\nexport type SessionKeyType = 'address' | 'shard' | 'toasts' | 'toastProgress';\ntype ExpiresType = number | false;\n\nexport const setItem = ({\n  key,\n  data,\n  expires\n}: {\n  key: SessionKeyType;\n  data: any;\n  expires: ExpiresType;\n}) => {\n  sessionStorage.setItem(\n    String(key),\n    JSON.stringify({\n      expires,\n      data\n    })\n  );\n};\n\nexport const getItem = (key: SessionKeyType): any => {\n  const item = sessionStorage.getItem(String(key));\n  if (!item) {\n    return null;\n  }\n\n  const deserializedItem = JSON.parse(item);\n  if (!deserializedItem) {\n    return null;\n  }\n\n  if (\n    !deserializedItem.hasOwnProperty('expires') ||\n    !deserializedItem.hasOwnProperty('data')\n  ) {\n    return null;\n  }\n\n  const expired = moment().unix() >= deserializedItem.expires;\n  if (expired) {\n    sessionStorage.removeItem(String(key));\n    return null;\n  }\n\n  return deserializedItem.data;\n};\n\nexport const removeItem = (key: SessionKeyType) =>\n  sessionStorage.removeItem(String(key));\n\nexport const clear = () => sessionStorage.clear();\n\nexport const storage = {\n  setItem,\n  getItem,\n  removeItem,\n  clear\n};\n\nexport default storage;\n","import React from 'react';\nimport {\n  createDispatchHook,\n  createSelectorHook,\n  createStoreHook\n} from 'react-redux';\n\nconst defaultContextValue: any = null;\nexport const DappCoreContext = React.createContext(defaultContextValue);\n\nexport const useStore = createStoreHook(DappCoreContext);\nexport const useDispatch = createDispatchHook(DappCoreContext);\nexport const useSelector = createSelectorHook(DappCoreContext);\n","import { useState } from 'react';\nimport { ExtensionProvider } from '@elrondnetwork/erdjs';\nimport { loginAction } from 'redux/commonActions';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport { isLoggedInSelector } from 'redux/selectors';\nimport { setProvider, setTokenLogin } from 'redux/slices';\nimport { LoginMethodsEnum } from 'types/enums';\nimport { optionalRedirect } from 'utils/internal';\nimport { LoginHookGenericStateType, InitiateLoginFunctionType } from '../types';\n\ninterface UseExtensionLoginPropsType {\n  callbackRoute: string;\n  token?: string;\n  redirectAfterLogin?: boolean;\n}\n\nexport type UseExtensionLoginReturnType = [\n  InitiateLoginFunctionType,\n  LoginHookGenericStateType\n];\n\nexport const useExtensionLogin = ({\n  callbackRoute,\n  token,\n  redirectAfterLogin = false\n}: UseExtensionLoginPropsType): UseExtensionLoginReturnType => {\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const isLoggedIn = useSelector(isLoggedInSelector);\n  const dispatch = useDispatch();\n  async function initiateLogin() {\n    setIsLoading(true);\n    const provider: ExtensionProvider = ExtensionProvider.getInstance();\n\n    try {\n      const isSuccessfullyInitialized: boolean = await provider.init();\n\n      if (!isSuccessfullyInitialized) {\n        console.warn(\n          'Something went wrong trying to redirect to wallet login..'\n        );\n        return;\n      }\n\n      const callbackUrl: string = encodeURIComponent(\n        `${window.location.origin}${callbackRoute}`\n      );\n      const providerLoginData = {\n        callbackUrl,\n        ...(token && { token })\n      };\n\n      await provider.login(providerLoginData);\n\n      dispatch(setProvider(provider));\n\n      const { signature, address } = provider.account;\n      if (signature) {\n        dispatch(\n          setTokenLogin({\n            loginToken: String(token),\n            signature\n          })\n        );\n      }\n      dispatch(\n        loginAction({ address, loginMethod: LoginMethodsEnum.extension })\n      );\n      optionalRedirect(callbackRoute, redirectAfterLogin);\n    } catch (error) {\n      console.error('error loging in', error);\n      // TODO: can be any or typed error\n      setError('error logging in' + (error as any).message);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  const loginFailed = Boolean(error);\n  return [\n    initiateLogin,\n    {\n      loginFailed,\n      error,\n      isLoading: isLoading && !loginFailed,\n      isLoggedIn: isLoggedIn && !loginFailed\n    }\n  ];\n};\n","import { useState } from 'react';\nimport { useSelector } from 'redux/DappProviderContext';\nimport { isLoggedInSelector, networkSelector } from 'redux/selectors';\nimport { setWalletLogin } from 'redux/slices';\nimport { store } from 'redux/store';\nimport { newWalletProvider } from 'utils';\nimport { LoginHookGenericStateType, InitiateLoginFunctionType } from '../types';\n\ninterface UseWebWalletLoginPropsType {\n  callbackRoute: string;\n  token?: string;\n}\n\nexport type UseWebWalletLoginReturnType = [\n  InitiateLoginFunctionType,\n  LoginHookGenericStateType\n];\n\nexport const useWebWalletLogin = ({\n  callbackRoute,\n  token\n}: UseWebWalletLoginPropsType): UseWebWalletLoginReturnType => {\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const isLoggedIn = useSelector(isLoggedInSelector);\n\n  async function initiateLogin() {\n    try {\n      setIsLoading(true);\n      const appState = store.getState();\n      const network = networkSelector(appState);\n      const provider = newWalletProvider(network.walletAddress);\n\n      const now = new Date();\n      const expires: number = now.setMinutes(now.getMinutes() + 3) / 1000;\n      const walletLoginData = {\n        data: {},\n        expires: expires\n      };\n\n      store.dispatch(setWalletLogin(walletLoginData));\n\n      const callbackUrl: string = encodeURIComponent(\n        `${window.location.origin}${callbackRoute}`\n      );\n      const loginData = {\n        callbackUrl: callbackUrl,\n        ...(token && { token })\n      };\n\n      await provider.login(loginData);\n    } catch (error) {\n      console.error(error);\n      setError('error logging in' + (error as any).message);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  const loginFailed = error != null;\n\n  return [\n    initiateLogin,\n    {\n      error,\n      loginFailed,\n      isLoading: isLoading && !loginFailed,\n      isLoggedIn: isLoggedIn && !loginFailed\n    }\n  ];\n};\n\nexport default useWebWalletLogin;\n","import React from 'react';\nimport { HWProvider } from '@elrondnetwork/erdjs';\nimport { ledgerErrorCodes } from 'constants/index';\nimport { loginAction } from 'redux/commonActions';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport {\n  isLoggedInSelector,\n  ledgerAccountSelector,\n  proxySelector\n} from 'redux/selectors';\nimport {\n  setLedgerAccount,\n  setLedgerLogin,\n  setProvider,\n  setTokenLogin\n} from 'redux/slices';\nimport { LoginMethodsEnum } from 'types/enums';\nimport { optionalRedirect } from 'utils/internal';\nimport { LoginHookGenericStateType, InitiateLoginFunctionType } from '../types';\n\nconst ledgerAppErrorText = 'Check if Elrond app is open on Ledger';\nconst failInitializeErrorText =\n  'Could not initialise ledger app, make sure Elrond app is open';\n\nconst defaultAddressesPerPage = 10;\n\nexport interface UseLedgerLoginPropsType {\n  callbackRoute: string;\n  addressesPerPage?: number;\n  token?: string;\n  redirectAfterLogin?: boolean;\n}\n\nexport interface SelectedAddress {\n  address: string;\n  index: number;\n}\n\nexport interface LedgerLoginHookCustomStateType {\n  accounts: string[];\n  showAddressList: boolean;\n  startIndex: number;\n  selectedAddress: SelectedAddress | null;\n\n  onGoToPrevPage: () => void;\n  onGoToNextPage: () => void;\n  onSelectAddress: (address: SelectedAddress | null) => void;\n  onConfirmSelectedAddress: () => void;\n}\n\nexport type LedgerLoginHookReturnType = [\n  InitiateLoginFunctionType,\n  LoginHookGenericStateType,\n  LedgerLoginHookCustomStateType\n];\n\nexport function useLedgerLogin({\n  callbackRoute,\n  token,\n  addressesPerPage = defaultAddressesPerPage,\n  redirectAfterLogin = false\n}: UseLedgerLoginPropsType): LedgerLoginHookReturnType {\n  const ledgerAccount = useSelector(ledgerAccountSelector);\n  const isLoggedIn = useSelector(isLoggedInSelector);\n  const proxy = useSelector(proxySelector);\n  const dispatch = useDispatch();\n  const [error, setError] = React.useState('');\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  const hwWalletP = new HWProvider(proxy);\n  const [startIndex, setStartIndex] = React.useState(0);\n  const [accounts, setAccounts] = React.useState<string[]>([]);\n  const [selectedAddress, setSelectedAddress] =\n    React.useState<SelectedAddress | null>(null);\n\n  const [showAddressList, setShowAddressList] = React.useState(false);\n\n  function dispatchLoginActions({\n    provider,\n    address,\n    index,\n    signature\n  }: {\n    provider: HWProvider;\n    address: string;\n    index: number;\n    signature?: string;\n  }) {\n    dispatch(setProvider(provider));\n\n    dispatch(setLedgerLogin({ index, loginType: LoginMethodsEnum.ledger }));\n\n    if (signature) {\n      dispatch(\n        setTokenLogin({\n          loginToken: String(token),\n          signature\n        })\n      );\n    }\n    dispatch(loginAction({ address, loginMethod: LoginMethodsEnum.ledger }));\n    optionalRedirect(callbackRoute, redirectAfterLogin);\n  }\n\n  const onLoginFailed = (err: any, customMessage?: string) => {\n    if (err.statusCode in ledgerErrorCodes) {\n      setError(\n        (ledgerErrorCodes as any)[err.statusCode].message + customMessage\n      );\n    }\n    setIsLoading(false);\n    console.warn(err);\n    dispatch(setLedgerAccount(null));\n  };\n\n  async function loginUser(hwWalletProvider: HWProvider) {\n    if (selectedAddress == null) {\n      return false;\n    }\n    const { index } = selectedAddress;\n\n    if (token) {\n      try {\n        const loginInfo = await hwWalletProvider.tokenLogin({\n          token: Buffer.from(`${token}{}`),\n          addressIndex: index\n        });\n        dispatchLoginActions({\n          address: loginInfo.address,\n          provider: hwWalletProvider,\n          index: index,\n          signature: loginInfo.signature.hex()\n        });\n      } catch (err) {\n        onLoginFailed(err, '. Update Elrond App to continue.');\n      }\n    } else {\n      try {\n        const address = await hwWalletProvider.login({ addressIndex: index });\n        dispatchLoginActions({\n          address,\n          provider: hwWalletProvider,\n          index\n        });\n      } catch (err) {\n        onLoginFailed(err);\n        return false;\n      }\n    }\n    return true;\n  }\n\n  async function onConfirmSelectedAddress() {\n    try {\n      setIsLoading(true);\n      if (selectedAddress == null) {\n        return false;\n      }\n      const { address, index } = selectedAddress;\n      dispatch(\n        setLedgerAccount({\n          index,\n          address\n        })\n      );\n      const hwWalletProvider = new HWProvider(proxy);\n      const initialized = await hwWalletProvider.init();\n      if (!initialized) {\n        setError(failInitializeErrorText);\n        console.warn(failInitializeErrorText);\n        return false;\n      }\n      setIsLoading(false);\n      await loginUser(hwWalletProvider);\n    } catch (err) {\n      if ((err as any).statusCode in ledgerErrorCodes) {\n        setError((ledgerErrorCodes as any)[(err as any).statusCode].message);\n      }\n      console.warn(failInitializeErrorText, err);\n    } finally {\n      setIsLoading(false);\n    }\n    setShowAddressList(false);\n    return true;\n  }\n\n  async function fetchAccounts() {\n    try {\n      setIsLoading(true);\n      const initialized = await hwWalletP.init();\n      if (!initialized) {\n        setError(failInitializeErrorText);\n        console.warn(failInitializeErrorText);\n        setIsLoading(false);\n        return;\n      }\n      const accounts = await hwWalletP.getAccounts(\n        startIndex,\n        addressesPerPage\n      );\n      setAccounts(accounts);\n      setIsLoading(false);\n    } catch (err) {\n      if ((err as any).statusCode in ledgerErrorCodes) {\n        setError((ledgerErrorCodes as any)[(err as any).statusCode].message);\n      } else {\n        setError(ledgerAppErrorText);\n      }\n      console.error('error', err);\n      setIsLoading(false);\n    }\n  }\n\n  async function onStartLogin() {\n    setError('');\n    try {\n      setIsLoading(true);\n      if (ledgerAccount != null) {\n        const hwWalletP = new HWProvider(proxy);\n        const initialized = await hwWalletP.init();\n        if (!initialized) {\n          console.warn(failInitializeErrorText);\n          return;\n        }\n        const address = await hwWalletP.login({\n          addressIndex: selectedAddress?.index\n        });\n        dispatch(setProvider(hwWalletP));\n        dispatch(\n          loginAction({ address, loginMethod: LoginMethodsEnum.ledger })\n        );\n        optionalRedirect(callbackRoute, redirectAfterLogin);\n      } else {\n        if (accounts?.length > 0) {\n          setShowAddressList(true);\n        } else {\n          await fetchAccounts();\n          setShowAddressList(true);\n        }\n      }\n    } catch (error) {\n      console.error('error ', error);\n      setError(ledgerAppErrorText);\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  function onSelectAddress(newSelectedAddress: SelectedAddress | null) {\n    setSelectedAddress(newSelectedAddress);\n  }\n\n  function onGoToNextPage() {\n    setSelectedAddress(null);\n    setStartIndex((current) => current + 1);\n  }\n\n  function onGoToPrevPage() {\n    setSelectedAddress(null);\n    setStartIndex((current) => (current === 0 ? 0 : current - 1));\n  }\n\n  React.useEffect(() => {\n    fetchAccounts();\n  }, [startIndex]);\n  const loginFailed = Boolean(error);\n  return [\n    onStartLogin,\n    {\n      loginFailed,\n      isLoggedIn: isLoggedIn && !loginFailed,\n      error,\n      isLoading: isLoading && !loginFailed\n    },\n    {\n      accounts,\n      showAddressList,\n      startIndex,\n      selectedAddress,\n\n      onGoToPrevPage,\n      onGoToNextPage,\n      onSelectAddress,\n      onConfirmSelectedAddress\n    }\n  ];\n}\n","import { useRef, useEffect } from 'react';\n\nexport function useUpdateEffect(effect: any, dependencies: any[] = []) {\n  const isInitialMount = useRef(true);\n\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else {\n      effect();\n    }\n  }, dependencies);\n}\n","import { useEffect, useRef, useState } from 'react';\nimport { WalletConnectProvider } from '@elrondnetwork/erdjs';\n\nimport { useUpdateEffect } from 'hooks/useUpdateEffect';\nimport { loginAction } from 'redux/commonActions';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport {\n  isLoggedInSelector,\n  providerSelector,\n  proxySelector,\n  walletConnectBridgeAddressSelector,\n  walletConnectDeepLinkSelector\n} from 'redux/selectors';\nimport {\n  setProvider,\n  setTokenLogin,\n  setTokenLoginSignature,\n  setWalletConnectLogin\n} from 'redux/slices';\n\nimport { LoginMethodsEnum } from 'types/enums';\nimport { logout } from 'utils';\nimport { optionalRedirect } from 'utils/internal';\nimport Timeout = NodeJS.Timeout;\nimport { LoginHookGenericStateType } from '../types';\n\ninterface InitWalletConnectType {\n  callbackRoute: string;\n  logoutRoute: string;\n  token?: string;\n  shouldLoginUser?: boolean;\n  redirectAfterLogin?: boolean;\n}\n\nexport interface WalletConnectLoginHookCustomStateType {\n  uriDeepLink: string | null;\n  walletConnectUri?: string;\n}\n\nexport type WalletConnectLoginHookReturnType = [\n  (loginProvider?: boolean) => void,\n  LoginHookGenericStateType,\n  WalletConnectLoginHookCustomStateType\n];\n\nexport const useWalletConnectLogin = ({\n  callbackRoute,\n  logoutRoute,\n  token,\n  redirectAfterLogin = false\n}: InitWalletConnectType): WalletConnectLoginHookReturnType => {\n  const dispatch = useDispatch();\n  const heartbeatInterval = 15000;\n\n  const [error, setError] = useState<string>('');\n  const [wcUri, setWcUri] = useState<string>('');\n\n  const proxy = useSelector(proxySelector);\n\n  const provider: any = useSelector(providerSelector);\n  const walletConnectBridgeAddress = useSelector(\n    walletConnectBridgeAddressSelector\n  );\n  const walletConnectDeepLink = useSelector(walletConnectDeepLinkSelector);\n  const isLoggedIn = useSelector(isLoggedInSelector);\n  const providerRef = useRef<any>(provider);\n\n  let heartbeatDisconnectInterval: Timeout;\n\n  const hasWcUri = Boolean(wcUri);\n  const isLoading = !hasWcUri;\n  const uriDeepLink = hasWcUri\n    ? `${walletConnectDeepLink}?wallet-connect=${encodeURIComponent(wcUri)}`\n    : null;\n\n  useEffect(() => {\n    handleHeartbeat();\n\n    const interval = setInterval(() => {\n      handleHeartbeat();\n    }, heartbeatInterval);\n\n    return () => clearInterval(interval);\n  }, [provider]);\n\n  useUpdateEffect(() => {\n    generateWcUri();\n  }, [token]);\n\n  useUpdateEffect(() => {\n    providerRef.current = provider;\n  }, [provider]);\n\n  async function handleHeartbeat() {\n    const isProviderConnected = Boolean(\n      providerRef.current?.walletConnector?.connected\n    );\n    if (!isProviderConnected) {\n      return;\n    }\n\n    const customMessage = {\n      method: 'heartbeat',\n      params: {}\n    };\n\n    try {\n      await providerRef.current.sendCustomMessage(customMessage);\n    } catch (error) {\n      console.error('Connection lost', error);\n      handleOnLogout();\n    }\n  }\n\n  async function handleOnLogin() {\n    try {\n      const provider = providerRef.current;\n      if (isLoggedIn) {\n        return;\n      }\n      if (provider == null) {\n        return;\n      }\n      const address = await provider.getAddress();\n      const signature = await provider.getSignature();\n      const hasSignature = Boolean(signature);\n      const loginActionData = {\n        address: address,\n        loginMethod: LoginMethodsEnum.walletconnect\n      };\n\n      const loginData = {\n        logoutRoute: logoutRoute,\n        loginType: 'walletConnect',\n        callbackRoute: callbackRoute\n      };\n\n      if (hasSignature) {\n        dispatch(setWalletConnectLogin(loginData));\n        dispatch(setTokenLoginSignature(signature));\n      } else {\n        dispatch(setWalletConnectLogin(loginData));\n      }\n      dispatch(loginAction(loginActionData));\n\n      provider.walletConnector.on('heartbeat', () => {\n        clearInterval(heartbeatDisconnectInterval);\n        heartbeatDisconnectInterval = setInterval(() => {\n          console.log('Maiar Wallet Connection Lost');\n          handleOnLogout();\n          clearInterval(heartbeatDisconnectInterval);\n        }, 150000);\n      });\n\n      optionalRedirect(callbackRoute, redirectAfterLogin);\n    } catch (err) {\n      setError('Invalid address');\n      console.error(err);\n    }\n  }\n\n  const handleOnLogout = () => {\n    logout(logoutRoute);\n  };\n\n  async function initiateLogin(loginProvider = true) {\n    const shouldGenerateWcUri = loginProvider && !wcUri;\n    if (\n      !walletConnectBridgeAddress ||\n      (providerRef?.current?.isInitialized?.() && !shouldGenerateWcUri)\n    ) {\n      return;\n    }\n\n    const providerHandlers = {\n      onClientLogin: handleOnLogin,\n      onClientLogout: handleOnLogout\n    };\n\n    const newProvider = new WalletConnectProvider(\n      proxy,\n      walletConnectBridgeAddress,\n      providerHandlers\n    );\n\n    await newProvider.init();\n    dispatch(setProvider(newProvider));\n    providerRef.current = newProvider;\n    if (loginProvider) {\n      generateWcUri();\n    }\n  }\n\n  async function generateWcUri() {\n    if (!walletConnectBridgeAddress) {\n      return;\n    }\n\n    const walletConnectUri: string | undefined =\n      await providerRef.current?.login();\n    const hasUri = Boolean(walletConnectUri);\n\n    if (!hasUri) {\n      return;\n    }\n\n    if (!token) {\n      setWcUri(walletConnectUri as string);\n      return;\n    }\n\n    const wcUriWithToken = `${walletConnectUri}&token=${token}`;\n\n    setWcUri(wcUriWithToken);\n    dispatch(setTokenLogin({ loginToken: token }));\n  }\n\n  const loginFailed = error != null;\n  return [\n    initiateLogin,\n    {\n      error,\n      loginFailed,\n      isLoading: isLoading && !loginFailed,\n      isLoggedIn: isLoggedIn && !loginFailed\n    },\n    { uriDeepLink, walletConnectUri: wcUri }\n  ];\n};\n\nexport default useWalletConnectLogin;\n","import {\n  clearSignedTransaction,\n  clearAllTransactionsToSign,\n  clearAllSignedTransactions\n} from 'redux/slices';\nimport { store } from 'redux/store';\n\nexport function removeTransactionsToSign(sessionId: string) {\n  store.dispatch(clearSignedTransaction(sessionId));\n}\nexport function removeSignedTransaction(sessionId: string) {\n  store.dispatch(clearSignedTransaction(sessionId));\n}\n\nexport function removeAllSignedTransactions() {\n  store.dispatch(clearAllSignedTransactions());\n}\n\nexport function removeAllTransactionsToSign() {\n  store.dispatch(clearAllTransactionsToSign());\n}\n","import { operations } from '@elrondnetwork/dapp-utils';\nimport { Transaction } from '@elrondnetwork/erdjs/out';\nimport BigNumber from 'bignumber.js';\nimport { gasPerDataByte, gasPriceModifier } from 'constants/index';\n\nexport function calcTotalFee(transactions: Transaction[], minGasLimit: number) {\n  let totalFee = new BigNumber(0);\n\n  transactions.forEach((tx) => {\n    const fee = operations.calculateFeeLimit({\n      gasPerDataByte,\n      gasPriceModifier,\n      minGasLimit: String(minGasLimit),\n      gasLimit: tx.getGasLimit().valueOf().toString(),\n      gasPrice: tx.getGasPrice().valueOf().toString(),\n      data: tx.getData().toString(),\n      chainId: tx.getChainID().valueOf()\n    });\n    totalFee = totalFee.plus(new BigNumber(fee));\n  });\n\n  return totalFee;\n}\n","import { validation } from '@elrondnetwork/dapp-utils';\nimport BigNumber from 'bignumber.js';\nimport { networkConstants } from 'constants/index';\n\nimport { accountBalanceSelector, chainIDSelector } from 'redux/selectors';\nimport {\n  setTransactionsToSign,\n  setNotificationModal,\n  setTransactionsDisplayInfo\n} from 'redux/slices';\nimport { store } from 'redux/store';\nimport { NotificationTypesEnum, SignTransactionsPropsType } from 'types';\nimport { SendTransactionReturnType } from './sendTransactions';\nimport { calcTotalFee } from './utils';\n\nexport function signTransactions({\n  transactions,\n  callbackRoute,\n  minGasLimit = networkConstants.DEFAULT_MIN_GAS_LIMIT,\n  customTransactionInformation,\n  transactionsDisplayInfo\n}: SignTransactionsPropsType): SendTransactionReturnType {\n  const appState = store.getState();\n  const sessionId = Date.now().toString();\n  const accountBalance = accountBalanceSelector(appState);\n  const storeChainId = chainIDSelector(appState);\n\n  const transactionsPayload = Array.isArray(transactions)\n    ? transactions\n    : [transactions];\n  const bNtotalFee = calcTotalFee(transactionsPayload, minGasLimit);\n  const bNbalance = new BigNumber(\n    validation.stringIsFloat(accountBalance) ? accountBalance : '0'\n  );\n  const hasSufficientFunds = bNbalance.minus(bNtotalFee).isGreaterThan(0);\n\n  if (!hasSufficientFunds) {\n    const notificationPayload = {\n      type: NotificationTypesEnum.warning,\n      iconClassName: 'text-warning',\n      title: 'Insufficient EGLD funds',\n      description: 'Current EGLD balance cannot cover the transaction fees.'\n    };\n\n    store.dispatch(setNotificationModal(notificationPayload));\n    return { error: 'insufficient funds', sessionId: null };\n  }\n\n  const hasValidChainId = transactionsPayload?.every(\n    (tx) => tx.getChainID().valueOf() === storeChainId.valueOf()\n  );\n  if (!hasValidChainId) {\n    const notificationPayload = {\n      type: NotificationTypesEnum.warning,\n      iconClassName: 'text-warning',\n      title: 'Network change detected',\n      description: 'The application tried to change the transaction network'\n    };\n    store.dispatch(setNotificationModal(notificationPayload));\n    return { error: 'Invalid ChainID', sessionId: null };\n  }\n\n  const signTransactionsPayload = {\n    sessionId,\n    callbackRoute,\n    customTransactionInformation,\n    transactions: transactionsPayload.map((tx) => tx.toPlainObject())\n  };\n\n  store.dispatch(setTransactionsToSign(signTransactionsPayload));\n  store.dispatch(\n    setTransactionsDisplayInfo({ sessionId, transactionsDisplayInfo })\n  );\n  return { sessionId };\n}\n\nexport default signTransactions;\n","import {\n  Address,\n  Transaction,\n  TransactionPayload\n} from '@elrondnetwork/erdjs/out';\nimport { defaultGasPrice, defaultGasLimit } from 'constants/index';\nimport newTransaction from 'models/newTransaction';\nimport { addressSelector, chainIDSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\nimport { SendSimpleTransactionPropsType } from 'types';\nimport { getAccount, getLatestNonce } from 'utils';\n\nenum ErrorCodesEnum {\n  'invalidReceiver' = 'Invalid Receiver address',\n  'unknownError' = 'Unknown Error. Please check the transactions and try again'\n}\n\nexport async function transformAndSignTransactions({\n  transactions\n}: SendSimpleTransactionPropsType): Promise<Transaction[]> {\n  const address = addressSelector(store.getState());\n  const account = await getAccount(address);\n  const nonce = getLatestNonce(account);\n  return transactions.map((tx) => {\n    const {\n      value,\n      receiver,\n      data = '',\n      chainID,\n      version,\n      options,\n      gasPrice = defaultGasPrice,\n      gasLimit = defaultGasLimit\n    } = tx;\n    let validatedReceiver = receiver;\n\n    try {\n      const addr = new Address(receiver);\n      validatedReceiver = addr.hex();\n    } catch (err) {\n      throw ErrorCodesEnum.invalidReceiver;\n    }\n\n    const storeChainId = chainIDSelector(store.getState()).valueOf().toString();\n    const transactionsChainId = chainID || storeChainId;\n    return newTransaction({\n      value,\n      receiver: validatedReceiver,\n      data: new TransactionPayload(data).toString(),\n      gasPrice,\n      gasLimit,\n      nonce: Number(nonce.valueOf().toString()),\n      sender: new Address(address).hex(),\n      chainID: transactionsChainId,\n      version,\n      options\n    });\n  });\n}\n\nexport default transformAndSignTransactions;\n","import { Transaction } from '@elrondnetwork/erdjs/out';\nimport { SendTransactionsPropsType, SimpleTransactionType } from 'types';\nimport { signTransactions } from './signTransactions';\nimport transformAndSignTransactions from './transformAndSignTransactions';\n\nexport interface SendTransactionReturnType {\n  error?: string;\n  sessionId: string | null;\n}\n\nexport async function sendTransactions({\n  transactions,\n  transactionsDisplayInfo,\n  redirectAfterSign = true,\n  callbackRoute = window.location.pathname,\n  signWithoutSending,\n  sessionInformation,\n  completedThreshold = 1,\n  minGasLimit\n}: SendTransactionsPropsType): Promise<SendTransactionReturnType> {\n  try {\n    const transactionsPayload = Array.isArray(transactions)\n      ? transactions\n      : [transactions];\n\n    const areComplexTransactions = transactionsPayload.every(\n      (tx) => Object.getPrototypeOf(tx).toPlainObject != null\n    );\n    let txToSign = transactionsPayload;\n    if (!areComplexTransactions) {\n      txToSign = await transformAndSignTransactions({\n        transactions: transactionsPayload as SimpleTransactionType[],\n        minGasLimit\n      });\n    }\n\n    return signTransactions({\n      transactions: txToSign as Transaction[],\n      minGasLimit,\n      callbackRoute,\n      transactionsDisplayInfo,\n      customTransactionInformation: {\n        redirectAfterSign,\n        sessionInformation,\n        signWithoutSending,\n        completedThreshold\n      }\n    });\n  } catch (err) {\n    console.error('error signing transaction', err as any);\n    return { error: err as any, sessionId: null };\n  }\n}\n\nexport default sendTransactions;\n","import { useEffect } from 'react';\nimport { useSelector } from 'redux/DappProviderContext';\nimport { transactionStatusSelector } from 'redux/selectors';\nimport { RootState } from 'redux/store';\nimport { TransactionBatchStatusesEnum } from 'types/enums';\nimport {\n  getIsTransactionCompleted,\n  getIsTransactionFailed,\n  getIsTransactionPending,\n  getIsTransactionSuccessful,\n  getIsTransactionTimedOut\n} from 'utils';\n\nexport interface UseTrackTransactionStatusArgsType {\n  transactionId: string | null;\n  onSuccess?: (transactionId: string | null) => void;\n  onFail?: (transactionId: string | null, errorMessage?: string) => void;\n  onTimedOut?: (transactionId: string | null) => void;\n  onCancelled?: (transactionId: string | null) => void;\n  onCompleted?: (transactionId: string | null) => void;\n}\n\nexport function useTrackTransactionStatus({\n  transactionId,\n  onSuccess,\n  onFail,\n  onCancelled,\n  onTimedOut,\n  onCompleted\n}: UseTrackTransactionStatusArgsType) {\n  const transactionsBatch = useSelector((state: RootState) =>\n    transactionStatusSelector(state, transactionId)\n  );\n\n  const { status, transactions, errorMessage } = transactionsBatch;\n\n  const isPending = getIsTransactionPending(status);\n  const isFailed = getIsTransactionFailed(status);\n  const isTimedOut = getIsTransactionTimedOut(status);\n  const isSuccessful = getIsTransactionSuccessful(status);\n  const isCompleted = getIsTransactionCompleted(status);\n\n  const isCancelled = status === TransactionBatchStatusesEnum.cancelled;\n\n  useEffect(() => {\n    if (isSuccessful && onSuccess) {\n      onSuccess(transactionId);\n    }\n  }, [isSuccessful]);\n  useEffect(() => {\n    if (isCompleted && onCompleted) {\n      onCompleted(transactionId);\n    }\n  }, [isCompleted]);\n\n  useEffect(() => {\n    if (isFailed && onFail) {\n      onFail(transactionId, errorMessage);\n    }\n  }, [isFailed]);\n\n  useEffect(() => {\n    if (isCancelled && onCancelled) {\n      onCancelled(transactionId);\n    }\n  }, [isCancelled]);\n\n  useEffect(() => {\n    if (isTimedOut) {\n      if (onTimedOut) {\n        onTimedOut(transactionId);\n      } else {\n        onFail?.(transactionId, 'timeout');\n      }\n    }\n  }, [isTimedOut]);\n\n  if (transactionId == null) {\n    return {};\n  }\n\n  if (transactionsBatch == null) {\n    return { errorMessage: 'No transaction to track' };\n  }\n\n  return {\n    isPending,\n    isSuccessful,\n    isFailed,\n    isCancelled,\n    isCompleted,\n    errorMessage,\n    status,\n    transactions\n  };\n}\n\nexport default useTrackTransactionStatus;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { pendingSignedTransactionsSelector } from 'redux/selectors';\nimport {\n  SignedTransactionsType,\n  SignedTransactionsBodyType\n} from 'types/transactions';\n\ninterface useGetPendingTransactionsReturnType {\n  pendingTransactions: SignedTransactionsType;\n  pendingTransactionsArray: [string, SignedTransactionsBodyType][];\n  hasPendingTransactions: boolean;\n}\n\n//this is a hook to be able to take advantage of memoization offered by useSelector\nexport function useGetPendingTransactions(): useGetPendingTransactionsReturnType {\n  const pendingTransactions = useSelector(pendingSignedTransactionsSelector);\n  const pendingTransactionsArray: [string, SignedTransactionsBodyType][] =\n    Object.entries(pendingTransactions);\n  const hasPendingTransactions = pendingTransactionsArray?.length > 0;\n  return {\n    pendingTransactions,\n    pendingTransactionsArray,\n    hasPendingTransactions\n  };\n}\n","import { useSelector } from 'redux/DappProviderContext';\nimport { failedTransactionsSelector } from 'redux/selectors';\nimport {\n  SignedTransactionsType,\n  SignedTransactionsBodyType\n} from 'types/transactions';\n\ninterface useGetFailedTransactionsReturnType {\n  failedTransactions: SignedTransactionsType;\n  failedTransactionsArray: [string, SignedTransactionsBodyType][];\n  hasFailedTransactions: boolean;\n}\n\n//this is a hook to be able to take advantage of memoization offered by useSelector\nexport function useGetFailedTransactions(): useGetFailedTransactionsReturnType {\n  const failedTransactions = useSelector(failedTransactionsSelector);\n  const failedTransactionsArray: [string, SignedTransactionsBodyType][] =\n    Object.entries(failedTransactions);\n  const hasFailedTransactions = failedTransactionsArray?.length > 0;\n  return {\n    failedTransactions,\n    failedTransactionsArray,\n    hasFailedTransactions\n  };\n}\n","import { useSelector } from 'redux/DappProviderContext';\nimport { successfulTransactionsSelector } from 'redux/selectors';\nimport {\n  SignedTransactionsType,\n  SignedTransactionsBodyType\n} from 'types/transactions';\n\ninterface useGetSuccessfulTransactionsReturnType {\n  successfulTransactions: SignedTransactionsType;\n  successfulTransactionsArray: [string, SignedTransactionsBodyType][];\n  hasSuccessfulTransactions: boolean;\n}\n\n//this is a hook to be able to take advantage of memoization offered by useSelector\nexport function useGetSuccessfulTransactions(): useGetSuccessfulTransactionsReturnType {\n  const successfulTransactions = useSelector(successfulTransactionsSelector);\n  const successfulTransactionsArray: [string, SignedTransactionsBodyType][] =\n    Object.entries(successfulTransactions);\n  const hasSuccessfulTransactions = successfulTransactionsArray?.length > 0;\n  return {\n    successfulTransactions,\n    successfulTransactionsArray,\n    hasSuccessfulTransactions\n  };\n}\n","import { useEffect, useState } from 'react';\nimport { Transaction } from '@elrondnetwork/erdjs';\nimport {\n  MultiSignTxType,\n  TxDataTokenType,\n  TxsDataTokensType\n} from 'types/transactions';\nimport { getTokenFromData } from 'utils';\nimport parseMultiEsdtTransferData from 'utils/transactions/parseMultiEsdtTransferData';\n\nconst defaultTransactionInfo: TxDataTokenType = {\n  tokenId: '',\n  amount: '',\n  type: '',\n  multiTxData: '',\n  receiver: ''\n};\n\ninterface UseParseMultiEsdtTransferDataPropsType {\n  transactions?: Transaction[];\n}\n\ninterface UseParseMultiEsdtTransferDataReturnType {\n  parsedTransactionsByDataField: TxsDataTokensType;\n  getTxInfoByDataField: (\n    data: string,\n    multiTransactionData?: string\n  ) => TxDataTokenType;\n  allTransactions: MultiSignTxType[];\n}\n\nexport function useParseMultiEsdtTransferData({\n  transactions\n}: UseParseMultiEsdtTransferDataPropsType): UseParseMultiEsdtTransferDataReturnType {\n  const [parsedTransactionsByDataField, setParsedTransactions] =\n    useState<TxsDataTokensType>({});\n  const [allTransactions, setAllTransactions] = useState<MultiSignTxType[]>([]);\n\n  function addTransactionDataToParsedInfo(\n    data: string,\n    txInfo: TxDataTokenType\n  ) {\n    setParsedTransactions((existing) => ({\n      ...existing,\n      [data]: txInfo\n    }));\n  }\n\n  function getTxInfoByDataField(\n    data: string,\n    multiTransactionData?: string\n  ): TxDataTokenType {\n    if (parsedTransactionsByDataField == null) {\n      return defaultTransactionInfo;\n    }\n\n    if (data in parsedTransactionsByDataField) {\n      return parsedTransactionsByDataField[data];\n    }\n\n    if (\n      multiTransactionData != null &&\n      String(multiTransactionData) in parsedTransactionsByDataField\n    ) {\n      return parsedTransactionsByDataField[multiTransactionData];\n    }\n\n    return defaultTransactionInfo;\n  }\n\n  function extractTransactionESDTData() {\n    if (transactions && transactions.length > 0) {\n      const allTransactions: MultiSignTxType[] = [];\n      transactions.forEach((transaction, transactionIndex) => {\n        const multiTxs = parseMultiEsdtTransferData(\n          transaction.getData().toString()\n        );\n\n        if (multiTxs.length > 0) {\n          multiTxs.forEach((trx, idx) => {\n            const newTx: MultiSignTxType = {\n              transaction,\n              multiTxData: trx.data,\n              transactionIndex: idx\n            };\n            addTransactionDataToParsedInfo(trx.data, {\n              tokenId: trx.token ? trx.token : '',\n              amount: trx.amount ? trx.amount : '',\n              type: trx.type,\n              nonce: trx.nonce ? trx.nonce : '',\n              multiTxData: trx.data,\n              receiver: trx.receiver\n            });\n            allTransactions.push(newTx);\n          });\n        } else {\n          const { tokenId, amount } = getTokenFromData(\n            transaction.getData().toString()\n          );\n\n          if (tokenId) {\n            addTransactionDataToParsedInfo(transaction.getData().toString(), {\n              tokenId,\n              amount,\n              receiver: transaction.getReceiver().bech32()\n            });\n          }\n          allTransactions.push({ transaction, transactionIndex });\n        }\n      });\n      setAllTransactions(allTransactions);\n    }\n  }\n\n  useEffect(() => {\n    extractTransactionESDTData();\n  }, [transactions]);\n\n  return {\n    parsedTransactionsByDataField,\n    getTxInfoByDataField,\n    allTransactions\n  };\n}\n","import { useSelector } from 'redux/DappProviderContext';\nimport {\n  completedTransactionsSelector,\n  failedTransactionsSelector,\n  pendingSignedTransactionsSelector,\n  signedTransactionsSelector,\n  successfulTransactionsSelector,\n  timedOutTransactionsSelector\n} from 'redux/selectors';\n\ninterface useGetActiveTransactionsStatusReturnType {\n  pending: boolean;\n  timedOut: boolean;\n  fail: boolean;\n  success: boolean;\n  completed: boolean;\n  hasActiveTransactions: boolean;\n}\n\n//this is a hook to be able to take advantage of memoization offered by useSelector\nexport function useGetActiveTransactionsStatus(): useGetActiveTransactionsStatusReturnType {\n  const signedTransactions = useSelector(signedTransactionsSelector);\n  const timedOutTransactions = useSelector(timedOutTransactionsSelector);\n  const failedTransactions = useSelector(failedTransactionsSelector);\n  const successfulTransactions = useSelector(successfulTransactionsSelector);\n  const pendingTransactions = useSelector(pendingSignedTransactionsSelector);\n  const completedTransactions = useSelector(completedTransactionsSelector);\n\n  const pending = Object.keys(pendingTransactions)?.length > 0;\n\n  const timedOut = !pending && Object.keys(timedOutTransactions)?.length > 0;\n\n  const fail =\n    !pending && !timedOut && Object.keys(failedTransactions)?.length > 0;\n\n  const success =\n    !pending &&\n    !timedOut &&\n    !fail &&\n    Object.keys(successfulTransactions).length > 0;\n\n  const completed =\n    !pending &&\n    !timedOut &&\n    !fail &&\n    Object.keys(completedTransactions).length > 0;\n  const hasActiveTransactions = Object.keys(signedTransactions).length > 0;\n  return {\n    pending,\n    timedOut,\n    fail,\n    success,\n    completed,\n    hasActiveTransactions\n  };\n}\n","import { useSelector } from 'redux/DappProviderContext';\nimport { completedTransactionsSelector } from 'redux/selectors';\nimport {\n  SignedTransactionsType,\n  SignedTransactionsBodyType\n} from 'types/transactions';\n\ninterface useGetCompletedTransactionsReturnType {\n  completedTransactions: SignedTransactionsType;\n  completedTransactionsArray: [string, SignedTransactionsBodyType][];\n  hasCompletedTransactions: boolean;\n}\n\n//this is a hook to be able to take advantage of memoization offered by useSelector\nexport function useGetCompletedTransactions(): useGetCompletedTransactionsReturnType {\n  const completedTransactions = useSelector(completedTransactionsSelector);\n  const completedTransactionsArray: [string, SignedTransactionsBodyType][] =\n    Object.entries(completedTransactions);\n  const hasCompletedTransactions = completedTransactionsArray?.length > 0;\n  return {\n    completedTransactions,\n    completedTransactionsArray,\n    hasCompletedTransactions\n  };\n}\n","import { Transaction } from '@elrondnetwork/erdjs';\nimport axios from 'axios';\nimport { networkSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\n\nexport type SendSignedTransactionsReturnType = string[];\n\nexport async function sendSignedTransactions(\n  signedTransactions: Transaction[]\n): Promise<SendSignedTransactionsReturnType> {\n  const { apiAddress, apiTimeout } = networkSelector(store.getState());\n  const promises = signedTransactions.map((transaction) => {\n    return axios.post(\n      `${apiAddress}/transactions`,\n      transaction.toPlainObject(),\n      { timeout: parseInt(apiTimeout) }\n    );\n  });\n  const response = await Promise.all(promises);\n\n  return response.map(({ data }) => data.txHash);\n}\n","import { TransactionPayload } from '@elrondnetwork/erdjs/out';\nimport axios from 'axios';\nimport { networkConfigSelector } from 'redux/selectors';\nimport { store } from 'redux/store';\nimport { SmartContractResult, TransactionServerStatusesEnum } from 'types';\n\nexport type GetTransactionsByHashesReturnType = {\n  hash: string;\n  invalidTransaction: boolean;\n  status: TransactionServerStatusesEnum;\n  results: SmartContractResult[];\n  sender: string;\n  receiver: string;\n  data: string;\n  previousStatus: string;\n  hasStatusChanged: boolean;\n}[];\n\nexport type PendingTransactionsType = {\n  hash: string;\n  previousStatus: string;\n}[];\n\nexport async function getTransactionsByHashes(\n  pendingTransactions: PendingTransactionsType\n): Promise<GetTransactionsByHashesReturnType> {\n  const networkConfig = networkConfigSelector(store.getState());\n  const hashes = pendingTransactions.map((tx) => tx.hash);\n  const { data: responseData } = await axios.get(\n    `${networkConfig.network.apiAddress}/transactions`,\n    {\n      params: {\n        hashes: hashes.join(','),\n        withScResults: true\n      }\n    }\n  );\n  return pendingTransactions.map(({ hash, previousStatus }) => {\n    const txOnNetwork = responseData.find(\n      (txResponse: any) => txResponse.txHash === hash\n    );\n    const data = TransactionPayload.fromEncoded(txOnNetwork?.data).toString();\n\n    return {\n      hash,\n      data,\n      invalidTransaction: txOnNetwork == null,\n      status: txOnNetwork.status,\n      results: txOnNetwork.results,\n      sender: txOnNetwork.sender,\n      receiver: txOnNetwork?.receiver,\n      previousStatus,\n      hasStatusChanged: status !== previousStatus\n    };\n  });\n}\n","import { useEffect } from 'react';\nimport { HWProvider, ExtensionProvider } from '@elrondnetwork/erdjs';\nimport { NetworkConfig } from '@elrondnetwork/erdjs/out/networkConfig';\nimport { loginAction } from 'redux/commonActions';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport {\n  loginMethodSelector,\n  walletConnectLoginSelector,\n  networkSelector,\n  proxySelector,\n  walletLoginSelector,\n  addressSelector,\n  ledgerAccountSelector,\n  ledgerLoginSelector,\n  isLoggedInSelector\n} from 'redux/selectors';\nimport { extraActionsSelector } from 'redux/selectors/extraActionsSelectors';\nimport {\n  setAccount,\n  setIsAccountLoading,\n  setAccountLoadingError,\n  setLedgerAccount,\n  setProvider,\n  setWalletLogin,\n  setChainID\n} from 'redux/slices';\nimport { useWalletConnectLogin } from 'services/login/useWalletConnectLogin';\nimport { LoginMethodsEnum } from 'types/enums';\nimport {\n  newWalletProvider,\n  getAddress,\n  getAccount,\n  getLatestNonce,\n  logout\n} from 'utils';\n\nexport default function ProviderInitializer() {\n  const network = useSelector(networkSelector);\n  const walletConnectLogin = useSelector(walletConnectLoginSelector);\n  const loginMethod = useSelector(loginMethodSelector);\n  const walletLogin = useSelector(walletLoginSelector);\n  const { getProvider } = useSelector(extraActionsSelector);\n  const address = useSelector(addressSelector);\n  const ledgerAccount = useSelector(ledgerAccountSelector);\n  const ledgerLogin = useSelector(ledgerLoginSelector);\n  const isLoggedIn = useSelector(isLoggedInSelector);\n\n  const proxy = useSelector(proxySelector);\n  const dispatch = useDispatch();\n\n  const { callbackRoute, logoutRoute } = walletConnectLogin\n    ? walletConnectLogin\n    : { callbackRoute: '', logoutRoute: '' };\n\n  const [initWalletLoginProvider] = useWalletConnectLogin({\n    callbackRoute,\n    logoutRoute\n  });\n\n  useEffect(() => {\n    refreshChainID();\n  }, [network]);\n\n  useEffect(() => {\n    initializeProvider();\n  }, [loginMethod]);\n\n  useEffect(() => {\n    fetchAccount();\n  }, [address, ledgerLogin, isLoggedIn]);\n\n  function refreshChainID() {\n    proxy\n      .getNetworkConfig()\n      .then((networkConfig: NetworkConfig) => {\n        dispatch(setChainID(networkConfig.ChainID.valueOf()));\n      })\n      .catch((e: any) => {\n        console.error('To do ', e);\n      });\n  }\n\n  async function fetchAccount() {\n    dispatch(setIsAccountLoading(true));\n    if (address && isLoggedIn) {\n      try {\n        const account = await getAccount(address);\n        dispatch(\n          setAccount({\n            balance: account.balance.toString(),\n            address,\n            nonce: account.nonce.valueOf()\n          })\n        );\n        if (ledgerAccount == null && ledgerLogin != null) {\n          dispatch(\n            setLedgerAccount({\n              index: ledgerLogin.index,\n              address\n            })\n          );\n        }\n      } catch (e) {\n        dispatch(setAccountLoadingError('Failed getting account'));\n        console.error('Failed getting account ', e);\n      }\n    }\n    dispatch(setIsAccountLoading(false));\n  }\n\n  async function tryAuthenticateWalletUser() {\n    try {\n      if (walletLogin != null) {\n        const provider = newWalletProvider(network.walletAddress);\n        const address = await getAddress();\n        if (address) {\n          dispatch(setProvider(provider));\n          dispatch(\n            loginAction({ address, loginMethod: LoginMethodsEnum.wallet })\n          );\n          const account = await getAccount(address);\n          dispatch(\n            setAccount({\n              balance: account.balance.toString(),\n              address,\n              nonce: getLatestNonce(account)\n            })\n          );\n        }\n        dispatch(setWalletLogin(null));\n      }\n    } catch (e) {\n      console.error('Failed authenticating wallet user ', e);\n    }\n  }\n\n  async function setLedgerProvider() {\n    try {\n      const hwWalletP = new HWProvider(proxy);\n\n      const isInitializationSuccessful = await hwWalletP.init();\n      if (ledgerLogin?.index != null) {\n        hwWalletP.addressIndex = ledgerLogin.index;\n      }\n      if (!isInitializationSuccessful) {\n        console.warn('Could not initialise ledger app');\n        logout();\n        return;\n      }\n\n      dispatch(setProvider(hwWalletP));\n    } catch (err) {\n      console.error('Could not initialise ledger app', err);\n      logout();\n    }\n  }\n\n  async function setExtensionProvider() {\n    try {\n      const address = await getAddress();\n      const provider = ExtensionProvider.getInstance().setAddress(address);\n      const success = await provider.init();\n\n      if (success) {\n        dispatch(setProvider(provider));\n      } else {\n        console.error(\n          'Could not initialise extension, make sure Elrond wallet extension is installed.'\n        );\n      }\n    } catch (err) {\n      console.error('Unable to login to ExtensionProvider', err);\n    }\n  }\n\n  function initializeProvider() {\n    if (loginMethod == null) {\n      return;\n    }\n    switch (loginMethod) {\n      case LoginMethodsEnum.ledger: {\n        setLedgerProvider();\n        break;\n      }\n\n      case LoginMethodsEnum.walletconnect: {\n        initWalletLoginProvider(false);\n        break;\n      }\n      case LoginMethodsEnum.wallet: {\n        const provider = newWalletProvider(network.walletAddress);\n        dispatch(setProvider(provider));\n        break;\n      }\n\n      case LoginMethodsEnum.extension: {\n        setExtensionProvider();\n        break;\n      }\n\n      case LoginMethodsEnum.extra: {\n        const provider = getProvider();\n        dispatch(setProvider(provider));\n        break;\n      }\n\n      case LoginMethodsEnum.none: {\n        tryAuthenticateWalletUser();\n        break;\n      }\n      default:\n        return;\n    }\n  }\n\n  return null;\n}\n","import React from 'react';\nimport {\n  getTransactionsByHashes,\n  sendSignedTransactions\n} from 'apiCalls/transactions';\nimport { OverrideDefaultBehaviourContextValueType } from './types';\n\nconst defaultValue: OverrideDefaultBehaviourContextValueType = {\n  sendSignedTransactionsAsync: sendSignedTransactions,\n  getTransactionsByHash: getTransactionsByHashes,\n  completedTransactionsDelay: 0\n};\n\nconst OverrideDefaultBehaviourContext = React.createContext(defaultValue);\n\nexport default OverrideDefaultBehaviourContext;\n","import React, { useContext, useRef } from 'react';\nimport { Address } from '@elrondnetwork/erdjs';\nimport { Signature } from '@elrondnetwork/erdjs/out/signature';\n\nimport OverrideDefaultBehaviourContext from 'contexts/OverrideDefaultBehaviourContext';\nimport newTransaction from 'models/newTransaction';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport { signedTransactionsSelector } from 'redux/selectors';\nimport { accountSelector } from 'redux/selectors';\nimport {\n  setTxSubmittedModal,\n  clearAllTransactionsToSign,\n  updateSignedTransactions\n} from 'redux/slices';\nimport {\n  TransactionBatchStatusesEnum,\n  TransactionServerStatusesEnum\n} from 'types/enums';\nimport { setNonce } from 'utils';\n\nconst TransactionSender = () => {\n  const account = useSelector(accountSelector);\n  const signedTransactions = useSelector(signedTransactionsSelector);\n  const { sendSignedTransactionsAsync } = useContext(\n    OverrideDefaultBehaviourContext\n  );\n  const sendingRef = useRef(false);\n\n  const dispatch = useDispatch();\n\n  const clearSignInfo = () => {\n    dispatch(clearAllTransactionsToSign());\n    sendingRef.current = false;\n  };\n  async function handleSendTransactions() {\n    const sessionIds = Object.keys(signedTransactions);\n    for (const sessionId of sessionIds) {\n      const skipSending =\n        signedTransactions?.[sessionId]?.customTransactionInformation\n          ?.signWithoutSending;\n\n      if (!sessionId || skipSending) {\n        continue;\n      }\n\n      try {\n        const isSessionIdSigned =\n          signedTransactions[sessionId].status ===\n          TransactionBatchStatusesEnum.signed;\n        const shouldSendCurrentSession =\n          isSessionIdSigned && !sendingRef.current;\n        if (!shouldSendCurrentSession) {\n          continue;\n        }\n        const { transactions } = signedTransactions[sessionId];\n\n        if (!transactions) {\n          continue;\n        }\n        sendingRef.current = true;\n        const transactionsToSend = transactions.map((tx) => {\n          const address = new Address(tx.sender);\n          const transactionObject = newTransaction(tx);\n          const signature = new Signature(tx.signature);\n\n          transactionObject.applySignature(signature, address);\n          return transactionObject;\n        });\n        const responseHashes = await sendSignedTransactionsAsync(\n          transactionsToSend\n        );\n\n        const newStatus = TransactionServerStatusesEnum.pending;\n        const newTransactions = transactions.map((transaction) => {\n          if (responseHashes.includes(transaction.hash)) {\n            return { ...transaction, status: newStatus };\n          }\n\n          return transaction;\n        });\n\n        const submittedModalPayload = {\n          sessionId,\n          submittedMessage: 'submitted'\n        };\n\n        dispatch(setTxSubmittedModal(submittedModalPayload));\n        dispatch(\n          updateSignedTransactions({\n            sessionId,\n            status: TransactionBatchStatusesEnum.sent,\n            transactions: newTransactions\n          })\n        );\n        clearSignInfo();\n        setNonce(account.nonce + transactions.length);\n\n        history.pushState({}, document.title, '?');\n      } catch (error) {\n        console.error('Unable to send transactions', error);\n        dispatch(\n          updateSignedTransactions({\n            sessionId,\n            status: TransactionBatchStatusesEnum.fail,\n            errorMessage: (error as any).message\n          })\n        );\n        clearSignInfo();\n      } finally {\n        sendingRef.current = false;\n      }\n    }\n  }\n\n  React.useEffect(() => {\n    handleSendTransactions();\n  }, [signedTransactions, account]);\n\n  return null;\n};\n\nexport default TransactionSender;\n","import { useContext, useEffect, useRef } from 'react';\nimport OverrideDefaultBehaviourContext from 'contexts/OverrideDefaultBehaviourContext';\nimport { useDispatch } from 'redux/DappProviderContext';\nimport {\n  updateSignedTransactions,\n  updateSignedTransactionStatus\n} from 'redux/slices';\nimport {\n  TransactionBatchStatusesEnum,\n  TransactionServerStatusesEnum\n} from 'types/enums';\nimport { SignedTransactionsBodyType } from 'types/transactions';\nimport {\n  getIsTransactionCompleted,\n  getIsTransactionFailed,\n  getIsTransactionPending\n} from 'utils';\nimport { refreshAccount } from 'utils/account';\nimport { isContract, areScCallsSuccessful } from 'utils/smartContracts';\n\ninterface RetriesType {\n  [hash: string]: number;\n}\n\ninterface TransactionStatusTrackerPropsType {\n  sessionId: string;\n  transactionPayload: SignedTransactionsBodyType;\n}\n\nexport function TransactionStatusTracker({\n  sessionId,\n  transactionPayload: { transactions, status, customTransactionInformation }\n}: TransactionStatusTrackerPropsType) {\n  const dispatch = useDispatch();\n  const intervalRef = useRef<any>(null);\n  const isFetchingStatusRef = useRef(false);\n  const retriesRef = useRef<RetriesType>({});\n  const timeoutRefs = useRef<string[]>([]);\n  const { getTransactionsByHash, completedTransactionsDelay } = useContext(\n    OverrideDefaultBehaviourContext\n  );\n\n  const isPending = sessionId != null && getIsTransactionPending(status);\n  const manageTimedOutTransactions = () => {\n    dispatch(\n      updateSignedTransactions({\n        sessionId,\n        status: TransactionBatchStatusesEnum.timedOut\n      })\n    );\n  };\n\n  const checkTransactionStatus = async () => {\n    try {\n      if (!isPending || transactions == null) {\n        return;\n      }\n      isFetchingStatusRef.current = true;\n\n      const pendingTransactions = transactions.reduce(\n        (\n          acc: { hash: string; previousStatus: string }[],\n          { receiver, sender, data, status, hash }\n        ) => {\n          const isScCall = isContract(receiver, sender, data);\n          if (\n            hash != null &&\n            !timeoutRefs.current.includes(hash) &&\n            getIsTransactionPending(status, isScCall)\n          ) {\n            acc.push({ hash, previousStatus: status });\n          }\n          return acc;\n        },\n        []\n      );\n\n      if (pendingTransactions?.length === 0) {\n        isFetchingStatusRef.current = false;\n        return;\n      }\n      const serverTransactions = await getTransactionsByHash(\n        pendingTransactions\n      );\n      for (const {\n        hash,\n        status,\n        results,\n        invalidTransaction,\n        receiver,\n        sender,\n        data,\n        hasStatusChanged\n      } of serverTransactions) {\n        try {\n          const isScCall = isContract(receiver, sender, data);\n          const retriesForThisHash = retriesRef.current[hash];\n          if (retriesForThisHash > 30) {\n            // consider transaction as stuck after 1 minute\n            manageTimedOutTransactions();\n            return;\n          }\n          if (!invalidTransaction) {\n            if (!getIsTransactionPending(status)) {\n              if (isScCall && !getIsTransactionCompleted(status)) {\n                const isScCallCompleted = areScCallsSuccessful(\n                  results,\n                  customTransactionInformation?.completedThreshold\n                );\n                if (isScCallCompleted) {\n                  timeoutRefs.current.push(hash);\n                  setTimeout(\n                    () =>\n                      dispatch(\n                        updateSignedTransactionStatus({\n                          sessionId,\n                          status: TransactionServerStatusesEnum.completed,\n                          transactionHash: hash\n                        })\n                      ),\n                    completedTransactionsDelay\n                  );\n                }\n              }\n\n              if (hasStatusChanged) {\n                dispatch(\n                  updateSignedTransactionStatus({\n                    sessionId,\n                    status,\n                    transactionHash: hash\n                  })\n                );\n              }\n\n              refreshAccount();\n\n              if (getIsTransactionFailed(status)) {\n                const resultWithError = results.find(\n                  (scResult) => scResult?.returnMessage !== ''\n                );\n\n                dispatch(\n                  updateSignedTransactionStatus({\n                    transactionHash: hash,\n                    sessionId,\n                    status: TransactionServerStatusesEnum.fail,\n                    errorMessage: resultWithError?.returnMessage\n                  })\n                );\n                dispatch(\n                  updateSignedTransactions({\n                    sessionId,\n                    status: TransactionBatchStatusesEnum.fail,\n                    errorMessage: resultWithError?.returnMessage\n                  })\n                );\n              }\n            } else {\n              retriesRef.current[hash] = retriesRef.current[hash]\n                ? retriesRef.current[hash] + 1\n                : 1;\n            }\n          } else {\n            retriesRef.current[hash] = retriesRef.current[hash]\n              ? retriesRef.current[hash] + 1\n              : 1;\n          }\n        } catch (error) {\n          console.error(error);\n          manageTimedOutTransactions();\n        }\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  useEffect(() => {\n    if (isPending) {\n      intervalRef.current = setInterval(() => {\n        checkTransactionStatus();\n      }, 2000);\n    } else {\n      clearInterval(intervalRef.current);\n    }\n    return () => {\n      clearInterval(intervalRef.current);\n    };\n  }, [isPending]);\n  return null;\n}\n\nexport default TransactionStatusTracker;\n","import React from 'react';\nimport { useGetPendingTransactions } from 'services/transactions';\nimport { SignedTransactionsBodyType } from 'types/transactions';\nimport TransactionStatusTracker from './TransactionStatusTracker';\n\nexport function TransactionsTracker() {\n  const { pendingTransactionsArray } = useGetPendingTransactions();\n\n  const mappedPendingTransactionsTrackers = pendingTransactionsArray.map(\n    ([sessionId, transactionPayload]) => (\n      <TransactionStatusTracker\n        key={sessionId}\n        sessionId={sessionId}\n        transactionPayload={transactionPayload as SignedTransactionsBodyType}\n      />\n    )\n  );\n\n  return <React.Fragment>{mappedPendingTransactionsTrackers}</React.Fragment>;\n}\n\nexport default TransactionsTracker;\n","import axios from 'axios';\nimport { configEndpoint } from 'constants/network';\nimport { EnvironmentsEnum } from 'types';\n\nexport async function getServerConfigurationForEnvironment(\n  environment: EnvironmentsEnum\n) {\n  try {\n    const { data } = await axios.get(configEndpoint[environment]);\n    if (data != null) {\n      return data;\n    }\n  } catch (err) {\n    console.error('error fetching configuration for ', environment);\n    return null;\n  }\n}\n","import { useSelector } from 'redux/DappProviderContext';\nimport { networkConfigSelector } from 'redux/selectors';\n\nexport const useGetNetworkConfig = () => {\n  return useSelector(networkConfigSelector);\n};\n\nexport default useGetNetworkConfig;\n","import { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport { notificationModalSelector } from 'redux/selectors';\nimport { clearNotificationModal } from 'redux/slices';\n\nexport function useGetNotification() {\n  const notification = useSelector(notificationModalSelector);\n  const dispatch = useDispatch();\n  const clearNotification = () => dispatch(clearNotificationModal());\n  return { notification, clearNotification };\n}\n","import { useSelector } from 'redux/DappProviderContext';\nimport { transactionDisplayInfoSelector } from 'redux/selectors';\nimport { RootState } from 'redux/store';\n\nexport function useGetTransactionDisplayInfo(toastId: string | null) {\n  return useSelector((state: RootState) =>\n    transactionDisplayInfoSelector(state, toastId)\n  );\n}\n","import React from 'react';\nimport { WalletProvider } from '@elrondnetwork/erdjs';\nimport qs from 'qs';\nimport { dappInitRoute, walletSignSession } from 'constants/index';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport { networkSelector } from 'redux/selectors';\nimport { moveTransactionsToSignedState } from 'redux/slices';\nimport { TransactionBatchStatusesEnum } from 'types/enums';\nimport { parseTransactionAfterSigning } from 'utils';\n\nexport function useParseSignedTransactions() {\n  const { search } = window.location;\n  const network = useSelector(networkSelector);\n  const dispatch = useDispatch();\n\n  React.useEffect(() => {\n    if (search != null) {\n      const searchData = qs.parse(search.replace('?', ''));\n\n      if (searchData && walletSignSession in searchData) {\n        const signSessionId: number = (searchData as any)[walletSignSession];\n        const signedTransactions = new WalletProvider(\n          `${network.walletAddress}${dappInitRoute}`\n        ).getTransactionsFromWalletUrl();\n        if (signedTransactions.length > 0) {\n          dispatch(\n            moveTransactionsToSignedState({\n              sessionId: signSessionId.toString(),\n              status: TransactionBatchStatusesEnum.signed,\n              transactions: signedTransactions.map((tx) =>\n                parseTransactionAfterSigning(tx)\n              )\n            })\n          );\n          history.pushState({}, document.title, '?');\n        }\n      }\n    }\n  }, [search]);\n}\n\nexport default useParseSignedTransactions;\n","import { useEffect, useRef, useState } from 'react';\nimport {\n  Address,\n  Nonce,\n  Transaction,\n  ExtensionProvider\n} from '@elrondnetwork/erdjs';\n\nimport { errorsMessages, walletSignSession } from 'constants/index';\nimport { useParseSignedTransactions } from 'hooks/transactions/useParseSignedTransactions';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport {\n  addressSelector,\n  providerSelector,\n  proxySelector,\n  transactionsToSignSelector\n} from 'redux/selectors';\nimport {\n  clearAllTransactionsToSign,\n  clearTransactionsInfoForSessionId,\n  moveTransactionsToSignedState\n} from 'redux/slices';\nimport { LoginMethodsEnum, TransactionBatchStatusesEnum } from 'types/enums';\nimport {\n  getLatestNonce,\n  getProviderType,\n  builtCallbackUrl,\n  parseTransactionAfterSigning\n} from 'utils';\n\nexport const useSignTransactions = () => {\n  const dispatch = useDispatch();\n  const savedCallback = useRef('/');\n  const proxy = useSelector(proxySelector);\n  const address = useSelector(addressSelector);\n  const provider = useSelector(providerSelector);\n  const providerType = getProviderType(provider);\n  const [error, setError] = useState<string | null>(null);\n  const transactionsToSign = useSelector(transactionsToSignSelector);\n  const hasTransactions = Boolean(transactionsToSign?.transactions);\n\n  useParseSignedTransactions();\n\n  const onAbort = (sessionId?: string) => {\n    setError(null);\n    clearSignInfo(sessionId);\n  };\n\n  const clearSignInfo = (sessionId?: string) => {\n    const isExtensionProvider = provider instanceof ExtensionProvider;\n\n    dispatch(clearAllTransactionsToSign());\n    dispatch(clearTransactionsInfoForSessionId(sessionId));\n\n    if (!isExtensionProvider) {\n      return;\n    }\n\n    ExtensionProvider.getInstance()?.cancelAction?.();\n  };\n\n  const onCancel = (errorMessage: string, sessionId?: string) => {\n    const isTxCancelled = errorMessage !== errorsMessages.TRANSACTION_CANCELLED;\n\n    clearSignInfo(sessionId);\n\n    /*\n     * this is triggered by abort action,\n     * so no need to show error again\n     */\n    if (!isTxCancelled) {\n      return;\n    }\n\n    setError(errorMessage);\n  };\n\n  const signWithWallet = (\n    transactions: Array<Transaction>,\n    sessionId: string,\n    callbackRoute = ''\n  ) => {\n    const urlParams = { [walletSignSession]: sessionId };\n    const callbackUrl = `${window.location.origin}${callbackRoute}`;\n    const buildedCallbackUrl = builtCallbackUrl({ callbackUrl, urlParams });\n\n    provider.signTransactions(transactions, {\n      callbackUrl: encodeURIComponent(buildedCallbackUrl)\n    });\n  };\n\n  const signTransactionsWithProvider = async () => {\n    const {\n      sessionId,\n      transactions,\n      callbackRoute,\n      customTransactionInformation\n    } = transactionsToSign!;\n    const { redirectAfterSign } = customTransactionInformation;\n    const redirectRoute = callbackRoute || window.location.pathname;\n    const isCurrentRoute = window.location.pathname.includes(redirectRoute);\n    const shouldRedirectAfterSign = redirectAfterSign && !isCurrentRoute;\n\n    try {\n      const isProviderInitialized = await provider.init();\n\n      if (!isProviderInitialized) {\n        return;\n      }\n    } catch (error) {\n      const errorMessage =\n        (error as unknown as Error)?.message ||\n        (error as string) ||\n        errorsMessages.PROVIDER_NOT_INTIALIZED;\n      console.error(errorsMessages.PROVIDER_NOT_INTIALIZED, errorMessage);\n      onCancel(errorMessage);\n      return;\n    }\n\n    try {\n      const signedTransactions = await provider.signTransactions(transactions);\n      const hasSameTransactions =\n        Object.keys(signedTransactions).length === transactions.length;\n      const hasAllTransactionsSigned =\n        signedTransactions && hasSameTransactions;\n      const shouldMoveTransactionsToSignedState =\n        signedTransactions && hasAllTransactionsSigned;\n\n      if (!shouldMoveTransactionsToSignedState) {\n        return;\n      }\n\n      const signedTransactionsArray = Object.values(signedTransactions).map(\n        (tx: any) => parseTransactionAfterSigning(tx)\n      );\n\n      dispatch(\n        moveTransactionsToSignedState({\n          sessionId,\n          transactions: signedTransactionsArray,\n          status: TransactionBatchStatusesEnum.signed\n        })\n      );\n\n      if (shouldRedirectAfterSign) {\n        window.location.href = redirectRoute;\n      }\n    } catch (err) {\n      const errorMessage =\n        (error as unknown as Error)?.message ||\n        (error as string) ||\n        errorsMessages.ERROR_SIGNING_TX;\n      console.error(errorsMessages.ERROR_SIGNING_TX, errorMessage);\n      onCancel(errorMessage, sessionId);\n    }\n  };\n\n  const signTransactions = async () => {\n    if (!transactionsToSign) {\n      return;\n    }\n\n    const { sessionId, transactions, callbackRoute } = transactionsToSign;\n\n    if (!provider) {\n      console.error(errorsMessages.MISSING_PROVIDER_MESSAGE);\n      return;\n    }\n\n    /*\n     * if the transaction is cancelled\n     * the callback will go to undefined,\n     * we save the most recent one for a valid transaction\n     */\n    savedCallback.current = callbackRoute || window.location.pathname;\n\n    const setTransactionNonces = (\n      latestNonce: number,\n      transactions: Array<Transaction>\n    ): Array<Transaction> => {\n      return transactions.map((tx: Transaction, index: number) => {\n        tx.setNonce(new Nonce(latestNonce + index));\n\n        return tx;\n      });\n    };\n\n    try {\n      const proxyAccount = await proxy.getAccount(new Address(address));\n      const isSigningWithWebWallet = providerType === LoginMethodsEnum.wallet;\n\n      const isSigningWithProvider =\n        providerType === LoginMethodsEnum.extension ||\n        providerType === LoginMethodsEnum.walletconnect;\n\n      const latestNonce = getLatestNonce(proxyAccount);\n      const mappedTransactions = setTransactionNonces(\n        latestNonce,\n        transactions\n      );\n\n      if (isSigningWithWebWallet) {\n        signWithWallet(mappedTransactions, sessionId, callbackRoute);\n      }\n      if (isSigningWithProvider) {\n        signTransactionsWithProvider();\n      }\n    } catch (err) {\n      const defaultErrorMessage = (error as unknown as Error)?.message;\n      const errorMessage = defaultErrorMessage || errorsMessages.ERROR_SIGNING;\n      onCancel(errorMessage, sessionId);\n\n      dispatch(\n        moveTransactionsToSignedState({\n          sessionId,\n          status: TransactionBatchStatusesEnum.cancelled\n        })\n      );\n\n      console.error(errorMessage, err);\n    }\n  };\n\n  useEffect(() => {\n    signTransactions();\n  }, [transactionsToSign]);\n\n  return {\n    error,\n    onAbort,\n    hasTransactions,\n    callbackRoute: savedCallback.current,\n    sessionId: transactionsToSign?.sessionId,\n    transactions: transactionsToSign?.transactions\n  };\n};\n\nexport default useSignTransactions;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { signedTransactionsSelector } from 'redux/selectors';\n\nimport {\n  SignedTransactionsType,\n  SignedTransactionsBodyType\n} from 'types/transactions';\n\ninterface useGetSignedTransactionsReturnType {\n  signedTransactions: SignedTransactionsType;\n  signedTransactionsArray: [string, SignedTransactionsBodyType][];\n  hasSignedTransactions: boolean;\n}\n\nexport function useGetSignedTransactions(): useGetSignedTransactionsReturnType {\n  const signedTransactions = useSelector(signedTransactionsSelector);\n  const signedTransactionsArray: [string, SignedTransactionsBodyType][] =\n    Object.entries(signedTransactions);\n  const hasSignedTransactions = signedTransactionsArray?.length > 0;\n  return {\n    signedTransactions,\n    signedTransactionsArray,\n    hasSignedTransactions\n  };\n}\n","let swr: any = {};\ntry {\n  swr = require('swr').default;\n} catch (err) {}\n\nexport default swr;\n","import axios from 'axios';\nimport useGetNetworkConfig from 'hooks/useGetNetworkConfig';\n\nimport useSwr from 'optionalPackages/swr';\n\ninterface TokenOptionType {\n  tokenLabel: string;\n  tokenDenomination: number;\n  tokenAvatar: string;\n  error?: string;\n}\n\ninterface TokenInfoResponse {\n  identifier: string;\n  name: string;\n  ticker: string;\n  decimals: number;\n  assets: {\n    description: string;\n    status: string;\n    svgUrl: string;\n  };\n}\n\nconst fetcher = (url: string) =>\n  axios.get(url).then((response) => response.data);\n\nexport function useGetTokenDetails({\n  tokenId\n}: {\n  tokenId: string;\n}): TokenOptionType {\n  const { network } = useGetNetworkConfig();\n\n  const {\n    data: selectedToken,\n    error\n  }: { data?: TokenInfoResponse; error?: string } = useSwr(\n    Boolean(tokenId) ? `${network.apiAddress}/tokens/${tokenId}` : null,\n    fetcher\n  );\n\n  if (!tokenId) {\n    return {\n      tokenDenomination: Number(network.egldDenomination),\n      tokenLabel: '',\n      tokenAvatar: ''\n    };\n  }\n\n  const tokenDenomination = selectedToken\n    ? selectedToken?.decimals\n    : Number(network.egldDenomination);\n  const tokenLabel = selectedToken ? selectedToken?.name : '';\n  const tokenAvatar = selectedToken ? `${selectedToken?.assets?.svgUrl}` : '';\n\n  return { tokenDenomination, tokenLabel, tokenAvatar, error };\n}\n\nexport default useGetTokenDetails;\n","import { useEffect, useState } from 'react';\nimport { Transaction } from '@elrondnetwork/erdjs';\nimport { useDispatch, useSelector } from 'redux/DappProviderContext';\nimport {\n  egldLabelSelector,\n  providerSelector,\n  transactionsToSignSelector\n} from 'redux/selectors';\nimport {\n  clearAllTransactionsToSign,\n  moveTransactionsToSignedState,\n  setSignTransactionsError\n} from 'redux/slices/transactionsSlice';\nimport { useParseMultiEsdtTransferData } from 'services/transactions/hooks/useParseMultiEsdtTransferData';\nimport { ActiveLedgerTransactionType, MultiSignTxType } from 'types';\nimport { LoginMethodsEnum, TransactionBatchStatusesEnum } from 'types/enums';\nimport { getIsProviderEqualTo, isTokenTransfer } from 'utils';\nimport { parseTransactionAfterSigning } from 'utils';\n\ninterface UseSignTransactionsWithLedgerPropsType {\n  onCancel: () => void;\n}\n\ntype LedgerSignedTransactions = Record<number, Transaction>;\n\ninterface UseSignTransactionsWithLedgerReturnType {\n  allTransactions: MultiSignTxType[];\n  onSignTransaction: () => void;\n  onNext: () => void;\n  onPrev: () => void;\n  onAbort: () => void;\n  waitingForDevice: boolean;\n  isLastTransaction: boolean;\n  currentStep: number;\n  callbackRoute?: string;\n  signedTransactions?: LedgerSignedTransactions;\n  currentTransaction: ActiveLedgerTransactionType | null;\n}\n\nexport function useSignTransactionsWithLedger({\n  onCancel\n}: UseSignTransactionsWithLedgerPropsType): UseSignTransactionsWithLedgerReturnType {\n  const transactionsToSign = useSelector(transactionsToSignSelector);\n\n  const {\n    sessionId,\n    transactions,\n    callbackRoute,\n    customTransactionInformation\n  } = transactionsToSign || {};\n  const [currentStep, setCurrentStep] = useState(0);\n  const [signedTransactions, setSignedTransactions] =\n    useState<LedgerSignedTransactions>();\n  const { getTxInfoByDataField, allTransactions } =\n    useParseMultiEsdtTransferData({ transactions });\n  const [currentTransaction, setCurrentTransaction] =\n    useState<ActiveLedgerTransactionType | null>(null);\n  const provider = useSelector(providerSelector);\n  const egldLabel = useSelector(egldLabelSelector);\n  const [waitingForDevice, setWaitingForDevice] = useState(false);\n  const dispatch = useDispatch();\n\n  const isLastTransaction = currentStep === allTransactions.length - 1;\n\n  useEffect(() => {\n    extractTransactionsInfo();\n  }, [currentStep, allTransactions]);\n\n  function extractTransactionsInfo() {\n    const tx = allTransactions[currentStep];\n    if (tx == null) {\n      return;\n    }\n    const { transaction, multiTxData } = tx;\n    const dataField = transaction.getData().toString();\n    const transactionTokenInfo = getTxInfoByDataField(\n      transaction.getData().toString(),\n      multiTxData\n    );\n    const { tokenId } = transactionTokenInfo;\n\n    const isTokenTransaction = Boolean(\n      tokenId && isTokenTransfer({ tokenId, erdLabel: egldLabel })\n    );\n\n    setCurrentTransaction({\n      transaction,\n      transactionTokenInfo,\n      isTokenTransaction,\n      dataField\n    });\n  }\n\n  function reset() {\n    setCurrentStep(0);\n    setSignedTransactions(undefined);\n    setWaitingForDevice(false);\n  }\n\n  async function sign() {\n    try {\n      if (currentTransaction == null || sessionId == null) {\n        return;\n      }\n\n      const trueForLedger = getIsProviderEqualTo(LoginMethodsEnum.ledger);\n      setWaitingForDevice(trueForLedger);\n\n      const signedTx = await provider.signTransaction(\n        currentTransaction.transaction\n      );\n      const newSignedTx = { [currentStep]: signedTx };\n      const newSignedTransactions: any = signedTransactions\n        ? { ...signedTransactions, ...newSignedTx }\n        : newSignedTx;\n      setSignedTransactions(newSignedTransactions);\n      if (!isLastTransaction) {\n        setCurrentStep((exising) => exising + 1);\n        setWaitingForDevice(false);\n      } else if (newSignedTransactions) {\n        dispatch(\n          moveTransactionsToSignedState({\n            sessionId,\n            status: TransactionBatchStatusesEnum.signed,\n            transactions: Object.values(newSignedTransactions).map((tx) =>\n              parseTransactionAfterSigning(tx as Transaction, trueForLedger)\n            )\n          })\n        );\n\n        reset();\n        if (\n          callbackRoute != null &&\n          customTransactionInformation?.redirectAfterSign &&\n          !window.location.pathname.includes(callbackRoute)\n        ) {\n          window.location.href = callbackRoute;\n        }\n      }\n    } catch (err) {\n      console.error(err, 'sign error');\n      reset();\n      dispatch(setSignTransactionsError((err as unknown as Error).message));\n    }\n  }\n\n  function signTx() {\n    try {\n      if (currentTransaction == null) {\n        return;\n      }\n      const signature = currentTransaction.transaction.getSignature();\n      if (signature) {\n        if (!isLastTransaction) {\n          setCurrentStep((exising) => exising + 1);\n        }\n      } else {\n        // currently code doesn't reach here because getSignature throws error if none is found\n        sign();\n      }\n    } catch {\n      // the only way to check if tx has signature is with try catch\n      sign();\n    }\n  }\n\n  function onAbort() {\n    if (isFirst) {\n      dispatch(clearAllTransactionsToSign());\n      onCancel();\n      if (\n        callbackRoute != null &&\n        customTransactionInformation?.redirectAfterSign\n      ) {\n        window.location.href = callbackRoute;\n      }\n    } else {\n      setCurrentStep((existing) => existing - 1);\n    }\n  }\n\n  const continueWithoutSigning =\n    currentTransaction?.transactionTokenInfo?.type &&\n    currentTransaction?.transactionTokenInfo?.multiTxData &&\n    !currentTransaction?.dataField.endsWith(\n      currentTransaction?.transactionTokenInfo?.multiTxData\n    );\n\n  function onSignTransaction() {\n    if (continueWithoutSigning) {\n      setCurrentStep((exising) => exising + 1);\n    } else {\n      signTx();\n    }\n  }\n\n  function onNext() {\n    setCurrentStep((current) => {\n      const nextStep = current + 1;\n      if (nextStep > allTransactions?.length) {\n        return current;\n      }\n      return nextStep;\n    });\n  }\n\n  function onPrev() {\n    setCurrentStep((current) => {\n      const nextStep = current - 1;\n      if (nextStep < 0) {\n        return current;\n      }\n      return nextStep;\n    });\n  }\n\n  const isFirst = currentStep === 0;\n\n  return {\n    allTransactions,\n    onSignTransaction,\n    onNext,\n    onPrev,\n    waitingForDevice,\n    onAbort,\n    isLastTransaction,\n    callbackRoute,\n    currentStep,\n    signedTransactions,\n    currentTransaction\n  };\n}\n\nexport default useSignTransactionsWithLedger;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { signTransactionsErrorSelector } from 'redux/selectors';\n\nexport const useGetSignTransactionsError = () => {\n  return useSelector(signTransactionsErrorSelector);\n};\n\nexport default useGetSignTransactionsError;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { accountInfoSelector } from 'redux/selectors';\n\nexport const useGetAccountInfo = () => {\n  return useSelector(accountInfoSelector);\n};\n\nexport default useGetAccountInfo;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { isLoggedInSelector, loginInfoSelector } from 'redux/selectors';\n\nexport const useGetLoginInfo = () => {\n  const loginInfo = useSelector(loginInfoSelector);\n  const isLoggedIn = useSelector(isLoggedInSelector);\n  return { ...loginInfo, isLoggedIn };\n};\n\nexport default useGetLoginInfo;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { providerSelector } from 'redux/selectors';\nimport { getProviderType } from 'utils';\n\nexport const useGetAccountProvider = () => {\n  const provider = useSelector(providerSelector);\n  const providerType = getProviderType(provider);\n  return { provider, providerType };\n};\n\nexport default useGetAccountProvider;\n","import axios from 'axios';\nimport {\n  addressSelector,\n  apiNetworkSelector,\n  shardSelector\n} from 'redux/selectors';\n\nimport { setAccountShard } from 'redux/slices';\nimport { store } from 'redux/store';\n\nexport default async function getAccountShard() {\n  const appState = store.getState();\n  const apiAddress = apiNetworkSelector(appState);\n  const address = addressSelector(appState);\n  const shard = shardSelector(appState);\n\n  try {\n    if (shard == null && address) {\n      const { data: account } = await axios.get(\n        `${apiAddress}/accounts/${address}`\n      );\n      store.dispatch(setAccountShard(account.shard));\n      return account.shard;\n    } else {\n      return shard;\n    }\n  } catch (err) {\n    console.error(err);\n    return null;\n  }\n}\n","import { useEffect, useState } from 'react';\nimport { Address } from '@elrondnetwork/erdjs/out';\nimport { getServerConfigurationForEnvironment } from 'apiCalls';\nimport { fallbackNetworkConfigurations } from 'constants/network';\nimport { useGetAccountInfo } from 'hooks';\nimport { loginAction } from 'redux/commonActions';\nimport { useDispatch } from 'redux/DappProviderContext';\nimport { initializeExtraActions } from 'redux/slices/extraActionsSlice';\nimport { initializeNetworkConfig } from 'redux/slices/networkConfigSlice';\nimport { CustomNetworkType, EnvironmentsEnum, ExtraActionsType } from 'types';\nimport { logout } from 'utils';\nimport getAccountShard from 'utils/account/getAccountShard';\n\ninterface AppInitializerPropsType {\n  customNetworkConfig?: CustomNetworkType;\n  children: any;\n  environment: EnvironmentsEnum;\n  extraActions?: ExtraActionsType;\n}\n\nexport function AppInitializer({\n  customNetworkConfig = {},\n  children,\n  environment,\n  extraActions\n}: AppInitializerPropsType) {\n  const [initialized, setInitialized] = useState(false);\n  const account = useGetAccountInfo();\n  const { address, publicKey } = account;\n  const dispatch = useDispatch();\n\n  async function initializeNetwork() {\n    const fallbackConfig = fallbackNetworkConfigurations[environment];\n    if (fallbackConfig != null) {\n      dispatch(\n        initializeNetworkConfig({ ...fallbackConfig, ...customNetworkConfig })\n      );\n    }\n    const serverConfig = await getServerConfigurationForEnvironment(\n      environment\n    );\n    if (serverConfig != null) {\n      dispatch(\n        initializeNetworkConfig({ ...serverConfig, ...customNetworkConfig })\n      );\n    }\n  }\n\n  function initializeCustomExtraActions() {\n    if (extraActions != null) {\n      try {\n        extraActions?.init({\n          onLogin: (address, loginMethod) => {\n            dispatch(loginAction({ address, loginMethod }));\n          },\n          log: (word) => {\n            console.log('dapp log: ', word);\n          }\n        });\n        dispatch(initializeExtraActions(extraActions));\n      } catch (err) {\n        console.error('Unable to initalize extraActions', err);\n      }\n    }\n  }\n\n  async function initializeApp() {\n    initializeCustomExtraActions();\n    await initializeNetwork();\n    setInitialized(true);\n\n    //sync redux with shardId from server\n    getAccountShard();\n  }\n\n  useEffect(() => {\n    if (address) {\n      const pubKey = new Address(address).hex();\n      if (pubKey !== publicKey) {\n        logout();\n      }\n    }\n  }, [address, publicKey]);\n\n  useEffect(() => {\n    initializeApp();\n  }, [customNetworkConfig, environment]);\n\n  return initialized ? children : null;\n}\n\nexport default AppInitializer;\n","import React, { useCallback } from 'react';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nimport {\n  getTransactionsByHashes,\n  sendSignedTransactions\n} from 'apiCalls/transactions';\nimport ProviderInitializer from 'components/ProviderInitializer';\nimport TransactionSender from 'components/TransactionSender';\nimport TransactionsTracker from 'components/TransactionsTracker';\nimport OverrideDefaultBehaviourContext from 'contexts/OverrideDefaultBehaviourContext';\nimport {\n  GetTransactionsByHashesType,\n  SendSignedTransactionsAsyncType\n} from 'contexts/types';\nimport { DappCoreContext } from 'redux/DappProviderContext';\nimport { CustomNetworkType, EnvironmentsEnum, ExtraActionsType } from 'types';\nimport AppInitializer from 'wrappers/AppInitializer';\n\nimport { store, persistor } from './store';\n\ninterface DappProviderPropsType {\n  children: React.ReactChildren | React.ReactElement;\n  customNetworkConfig?: CustomNetworkType;\n  extraActions?: ExtraActionsType;\n  completedTransactionsDelay?: number;\n  environment: 'testnet' | 'mainnet' | 'devnet' | EnvironmentsEnum;\n  sendSignedTransactionsAsync?: SendSignedTransactionsAsyncType;\n  getTransactionsByHash?: GetTransactionsByHashesType;\n}\n\nexport const DappProvider = ({\n  children,\n  customNetworkConfig = {},\n  extraActions,\n  completedTransactionsDelay = 0,\n  environment,\n  sendSignedTransactionsAsync = sendSignedTransactions,\n  getTransactionsByHash = getTransactionsByHashes\n}: DappProviderPropsType) => {\n  const memoizedSendSignedTransactionsAsync = useCallback(\n    sendSignedTransactionsAsync,\n    []\n  );\n\n  if (!environment) {\n    //throw if the user tries to initialize the app without a valid environment\n    throw new Error('missing environment flag');\n  }\n  const memoizedGetTransactionsByHash = useCallback(getTransactionsByHash, []);\n  return (\n    <Provider context={DappCoreContext} store={store}>\n      <PersistGate persistor={persistor} loading={null}>\n        <OverrideDefaultBehaviourContext.Provider\n          value={{\n            sendSignedTransactionsAsync: memoizedSendSignedTransactionsAsync,\n            getTransactionsByHash: memoizedGetTransactionsByHash,\n            completedTransactionsDelay\n          }}\n        >\n          <AppInitializer\n            environment={environment as EnvironmentsEnum}\n            customNetworkConfig={customNetworkConfig}\n            extraActions={extraActions}\n          >\n            <ProviderInitializer />\n            <TransactionSender />\n            <TransactionsTracker />\n            {children}\n          </AppInitializer>\n        </OverrideDefaultBehaviourContext.Provider>\n      </PersistGate>\n    </Provider>\n  );\n};\n","import React, { useRef } from 'react';\nimport { useSelector } from 'redux/DappProviderContext';\nimport {\n  isAccountLoadingSelector,\n  isLoggedInSelector,\n  walletLoginSelector\n} from 'redux/selectors';\n\nimport { RouteType } from 'types';\n\nconst AuthenticatedRoutesWrapper = ({\n  children,\n  routes,\n  unlockRoute,\n  onRedirect\n}: {\n  children: React.ReactNode;\n  routes: RouteType[];\n  unlockRoute: string;\n  onRedirect?: (unlockRoute?: string) => void;\n}) => {\n  const isLoggedIn = useSelector(isLoggedInSelector);\n\n  const isAccountLoading = useSelector(isAccountLoadingSelector);\n\n  const walletLogin = useSelector(walletLoginSelector);\n  const { pathname } = window.location;\n\n  const authenticatedRoutesRef = useRef(\n    routes.filter((route) => Boolean(route.authenticatedRoute))\n  );\n\n  const isOnAuthenticatedRoute = authenticatedRoutesRef.current.some(\n    ({ path }) => pathname === path\n  );\n\n  const shouldRedirect =\n    isOnAuthenticatedRoute && !isLoggedIn && walletLogin == null;\n\n  if (isAccountLoading || walletLogin) {\n    return null;\n  }\n\n  if (shouldRedirect) {\n    if (onRedirect) {\n      onRedirect(unlockRoute);\n    } else {\n      window.location.href = unlockRoute;\n    }\n    return null;\n  }\n\n  return <React.Fragment>{children}</React.Fragment>;\n};\n\nexport default AuthenticatedRoutesWrapper;\n","import { Address } from '@elrondnetwork/erdjs';\n\nexport class TransactionParameter {\n  sender: Address;\n  receiver: Address;\n  functionName: string;\n  inputParameters: string[];\n  outputParameters: string[];\n\n  constructor(\n    sender: Address,\n    receiver: Address,\n    functionName: string,\n    inputParameters: string[],\n    outputParameters: string[]\n  ) {\n    this.sender = sender;\n    this.receiver = receiver;\n    this.functionName = functionName;\n    this.inputParameters = inputParameters;\n    this.outputParameters = outputParameters;\n  }\n}\n","import React from 'react';\nimport { wrapperClassName } from 'utils';\n\nexport const withClassNameWrapper =\n  (Component: any) =>\n  ({ ...props }) =>\n    (\n      <span className={wrapperClassName}>\n        <Component {...props} />\n      </span>\n    );\n","import React from 'react';\nimport { validation } from '@elrondnetwork/dapp-utils';\nimport {\n  denomination as configDenomination,\n  decimals as configDecimals\n} from 'constants/index';\nimport { denominate, getEgldLabel } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\n\nexport interface DenominateType {\n  value: string;\n  showLastNonZeroDecimal?: boolean;\n  showLabel?: boolean;\n  token?: string;\n  decimals?: number;\n  denomination?: number;\n  'data-testid'?: string;\n}\n\nconst denominateInvalid = (props: DenominateType) => {\n  return (\n    <span\n      data-testid={\n        props['data-testid'] ? props['data-testid'] : 'denominateComponent'\n      }\n    >\n      <span className='int-amount'>...</span>\n    </span>\n  );\n};\n\nconst denominateValid = (props: DenominateType, erdLabel: string) => {\n  const { value, showLastNonZeroDecimal = false, showLabel = true } = props;\n  const decimals =\n    props.decimals !== undefined ? props.decimals : configDecimals;\n  const denomination =\n    props.denomination !== undefined ? props.denomination : configDenomination;\n\n  const denominatedValue = denominate({\n    input: value,\n    denomination,\n    decimals,\n    showLastNonZeroDecimal,\n    addCommas: true\n  });\n\n  const valueParts = denominatedValue.split('.');\n  const hasNoDecimals = valueParts.length === 1;\n  const isNotZero = denominatedValue !== '0';\n\n  if (decimals > 0 && hasNoDecimals && isNotZero) {\n    let zeros = '';\n\n    for (let i = 1; i <= decimals; i++) {\n      zeros = zeros + '0';\n    }\n\n    valueParts.push(zeros);\n  }\n\n  return (\n    <span\n      data-testid={\n        props['data-testid'] ? props['data-testid'] : 'denominateComponent'\n      }\n    >\n      <span className='int-amount'>{valueParts[0]}</span>\n      {valueParts.length > 1 && (\n        <span className='decimals'>.{valueParts[1]}</span>\n      )}\n      {showLabel && (\n        <span className={`symbol ${props.token ? 'text-muted' : ''}`}>\n          &nbsp;{props.token ? props.token : erdLabel}\n        </span>\n      )}\n    </span>\n  );\n};\n\nconst Denominate = (props: DenominateType & { egldLabel?: string }) => {\n  const { value } = props;\n\n  return !validation.stringIsInteger(value)\n    ? denominateInvalid(props)\n    : denominateValid(props, props.egldLabel || '');\n};\n\nconst DenominateWrapper = (props: DenominateType) => {\n  const egldLabel = getEgldLabel();\n  const denominateProps = { ...props, egldLabel };\n  return <Denominate {...denominateProps} />;\n};\n\nexport default withClassNameWrapper(DenominateWrapper);\n","let fontawesomeFreeSolidIcons: any = {};\ntry {\n  fontawesomeFreeSolidIcons = require('@fortawesome/free-solid-svg-icons');\n} catch (err) {}\n\nexport default fontawesomeFreeSolidIcons;\n","let ReactFontawesome: any = {};\ntry {\n  ReactFontawesome = require('@fortawesome/react-fontawesome');\n} catch (err) {}\n\nexport default ReactFontawesome;\n","import React from 'react';\nimport { useGetNetworkConfig } from 'hooks';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\n\nconst ExplorerLink = ({\n  page,\n  text,\n  className\n}: {\n  page: string;\n  text?: any;\n  className?: string;\n}) => {\n  const {\n    network: { explorerAddress }\n  } = useGetNetworkConfig();\n  return (\n    <a\n      href={`${explorerAddress}${page}`}\n      {...{\n        target: '_blank'\n      }}\n      className={`link-style ${className}`}\n    >\n      {text ? (\n        <React.Fragment>{text}</React.Fragment>\n      ) : (\n        <ReactFontawesome.FontAwesomeIcon\n          icon={icons.faSearch}\n          className='text-secondary'\n        />\n      )}\n    </a>\n  );\n};\n\nexport default withClassNameWrapper(ExplorerLink);\n","import React from 'react';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { useExtensionLogin } from 'services';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { ExtensionLoginButtonPropsType } from './types';\n\nconst ExtensionLoginButton: (\n  props: ExtensionLoginButtonPropsType\n) => JSX.Element = ({\n  token,\n  className = 'extension-login',\n  children,\n  callbackRoute,\n  buttonClassName,\n  loginButtonText = 'Maiar DeFi Wallet',\n  redirectAfterLogin = false,\n  shouldRenderDefaultCss = true\n}) => {\n  const [onInitiateLogin] = useExtensionLogin({\n    callbackRoute,\n    token,\n    redirectAfterLogin\n  });\n\n  const isFirefox = navigator.userAgent.indexOf('Firefox') != -1;\n  const classes = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: `btn btn-primary px-sm-4 m-1 mx-sm-3 ${\n      buttonClassName != null ? buttonClassName : ''\n    }`,\n    loginText: 'text-left',\n    noExtensionButtonWrapper: 'btn btn-unlock d-inline-block',\n    noExtensionButtonContent:\n      'd-flex justify-content-between align-items-center',\n    noExtensionButtonTitle: 'title',\n    noExtensionButtonIcon: ''\n  });\n\n  const handleLogin = () => {\n    onInitiateLogin();\n  };\n\n  return !window.elrondWallet ? (\n    <a\n      rel='noreferrer'\n      href={\n        isFirefox\n          ? 'https://addons.mozilla.org/en-US/firefox/addon/maiar-defi-wallet/'\n          : 'https://chrome.google.com/webstore/detail/dngmlblcodfobpdpecaadgfbcggfjfnm?authuser=0&hl=en'\n      }\n      target='_blank'\n      className={classes.noExtensionButtonWrapper}\n    >\n      {children || (\n        <div className={classes.noExtensionButtonContent}>\n          <div className={classes.noExtensionButtonTitle}>\n            Maiar DeFi Wallet\n          </div>\n          <ReactFontawesome.FontAwesomeIcon\n            className={classes.noExtensionButtonIcon}\n            icon={ReactFontawesome.faArrowRight}\n          />\n        </div>\n      )}\n    </a>\n  ) : (\n    <button onClick={handleLogin} className={classes.wrapper}>\n      {children || <span className={classes.loginText}>{loginButtonText}</span>}\n    </button>\n  );\n};\n\nexport default withClassNameWrapper(ExtensionLoginButton);\n","let ReactBootstrap: any = {};\ntry {\n  ReactBootstrap = require('react-bootstrap');\n} catch (err) {}\n\nexport default ReactBootstrap;\n","import React from 'react';\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactBootstrap from 'optionalPackages/react-bootstrap';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { wrapperClassName } from 'utils';\n\nconst ModalContainer = ({\n  children,\n  noSpacer,\n  className,\n  title,\n  onClose\n}: {\n  children: React.ReactNode;\n  noSpacer?: boolean;\n  className?: string;\n  title: React.ReactNode;\n  onClose?: () => void;\n}) => {\n  return (\n    <ReactBootstrap.Modal\n      show\n      backdrop='static'\n      onHide={onClose}\n      className={`modal-container ${\n        className ? className : ''\n      } ${wrapperClassName}`}\n      animation={false}\n      centered\n    >\n      <div className='modal-card card w-100'>\n        <div className='card-title h5 mb-0'>\n          <div className='d-flex justify-content-between align-items-center pt-spacer px-spacer mb-0'>\n            <div className={'px-3'}>{title}</div>\n            <button\n              type='button'\n              className='btn btn-light px-3 py-2'\n              onClick={onClose}\n            >\n              <ReactFontawesome.FontAwesomeIcon\n                size='lg'\n                icon={icons.faTimes}\n              />\n            </button>\n          </div>\n        </div>\n\n        <div\n          className={`modal-card-body text-center ${\n            noSpacer ? 'p-0' : 'p-spacer'\n          }`}\n        >\n          {children}\n        </div>\n      </div>\n    </ReactBootstrap.Modal>\n  );\n};\n\nexport default ModalContainer;\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from 'react';\nimport classNames from 'classnames';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { PageStateProps } from './types';\n\nexport const PageState = ({\n  icon,\n  title,\n  action,\n  iconClass,\n  dataTestId,\n  description,\n  iconBgClass,\n  iconSize = '5x',\n  className = 'page-state',\n  shouldRenderDefaultCss = true\n}: PageStateProps) => {\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper: 'state m-auto p-4 text-center',\n      iconContainer: classNames('icon-state mx-auto', {\n        [`${iconBgClass}`]: Boolean(iconBgClass)\n      }),\n      iconClass: classNames(iconClass != null && iconClass),\n      title: 'h4 my-4',\n      description: 'mb-3'\n    }\n  );\n\n  return (\n    <div className={generatedClasses.wrapper} data-testid={dataTestId}>\n      {icon && (\n        <span className={generatedClasses.iconContainer}>\n          <ReactFontawesome.FontAwesomeIcon\n            icon={icon}\n            className={generatedClasses.iconClass}\n            size={iconSize}\n          />\n        </span>\n      )}\n      {title && <p className={generatedClasses.title}>{title}</p>}\n      {description && (\n        <div className={generatedClasses.description}>{description}</div>\n      )}\n      {action && <React.Fragment>{action}</React.Fragment>}\n    </div>\n  );\n};\n\nexport default withClassNameWrapper(PageState);\n","import React from 'react';\n\nimport Denominate from 'UI/Denominate';\nimport { getAccountBalance } from 'utils';\n\ninterface AddressRowType {\n  selectedAddress?: string;\n  index: number;\n  address: string;\n  onSelectAddress: (address: { address: string; index: number } | null) => void;\n}\n\n// TODO: why not use Trim component?\nconst trimHash = (hash: string, keep = 10) => {\n  const start = hash.substring(0, keep);\n  const end = hash.substring(hash.length - keep);\n  return `${start}...${end}`;\n};\n\nconst noBalance = '...';\n\nconst AddressRow = ({\n  address,\n  index,\n  selectedAddress,\n  onSelectAddress\n}: AddressRowType) => {\n  const [balance, setBalance] = React.useState(noBalance);\n\n  const handleChange = (e: React.SyntheticEvent) => {\n    const { checked } = e.target as HTMLInputElement;\n    if (checked) {\n      onSelectAddress({ address, index });\n    }\n  };\n\n  const fetchBalance = async () => {\n    try {\n      const balance = await getAccountBalance(address);\n      setBalance(balance);\n    } catch (err) {\n      console.error('error fetching balance', balance);\n    }\n  };\n\n  React.useEffect(() => {\n    fetchBalance();\n  }, []);\n\n  return (\n    <tr>\n      <td className='text-left'>\n        <div className='d-flex align-items-start text-left form-check'>\n          <input\n            type='radio'\n            id={`check_${index}`}\n            data-testid={`check_${index}`}\n            onChange={handleChange}\n            role='button'\n            checked={selectedAddress === address}\n            className='form-check-input mr-1'\n          />\n          <label\n            htmlFor={`check_${index}`}\n            role='button'\n            data-testid={`label_${index}`}\n            className='form-check-label text-nowrap trim-size-xl m-0'\n          >\n            <div className='d-flex align-items-center text-nowrap trim'>\n              <span>{trimHash(address)}</span>\n            </div>\n          </label>\n        </div>\n      </td>\n      <td className='text-left'>\n        <Denominate value={balance} />\n      </td>\n      <td className='text-left'>{index}</td>\n    </tr>\n  );\n};\n\nexport default AddressRow;\n","import React from 'react';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport PageState from 'UI/PageState';\nimport { getGeneratedClasses } from 'utils';\n\nimport AddressRow from './AddressRow';\n\nconst ledgerWaitingText = 'Waiting for device';\n\nconst addressesPerPage = 10;\n\ninterface AddressTablePropsType {\n  loading: boolean;\n  accounts: string[];\n  startIndex: number;\n  selectedAddress?: string;\n  className: string;\n  shouldRenderDefaultCss: boolean;\n  onSelectAddress: (address: { address: string; index: number } | null) => void;\n  onGoToPrevPage: () => void;\n  onGoToNextPage: () => void;\n  onConfirmSelectedAddress: () => void;\n}\n\nconst AddressTable = ({\n  loading,\n  accounts,\n  startIndex,\n  selectedAddress,\n  onGoToPrevPage,\n  onGoToNextPage,\n  onConfirmSelectedAddress,\n  onSelectAddress,\n  shouldRenderDefaultCss = true,\n  className = 'ledger-address-table'\n}: AddressTablePropsType) => {\n  const classes = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: 'card my-4 text-center border-0',\n    cardBody: 'card-body p-4 mx-lg-4',\n    tableWrapper: 'table-responsive',\n    tableContent: 'table m-0 border-bottom',\n    tableHeader: 'py-2 text-semibold border-bottom',\n    tableHeaderText: 'text-left border-0',\n    buttonsWrapper: 'd-flex justify-content-center pager mt-2',\n    arrowButton: 'btn btn-link mx-2',\n    confirmButton: 'btn btn-primary px-4 mt-4'\n  });\n  switch (true) {\n    case loading:\n      return (\n        <PageState\n          className={className}\n          icon={icons.faCircleNotch}\n          iconClass='fa-spin text-primary'\n          title={ledgerWaitingText}\n        />\n      );\n    default:\n      return (\n        <React.Fragment>\n          <div className='m-auto'>\n            <div className={classes.wrapper}>\n              <div className={classes.cardBody}>\n                <div\n                  className={classes.tableWrapper}\n                  data-testid='ledgerAddresses'\n                >\n                  <table className={classes.tableContent}>\n                    <thead className={classes.tableHeader}>\n                      <tr>\n                        <th className={classes.tableHeaderText}>Address</th>\n                        <th className={classes.tableHeaderText}>Balance</th>\n                        <th className={classes.tableHeaderText}>#</th>\n                      </tr>\n                    </thead>\n                    <tbody data-testid='addressesTable'>\n                      {accounts.map((address, index) => {\n                        const key = index + startIndex * addressesPerPage;\n                        return (\n                          <AddressRow\n                            key={key}\n                            address={address}\n                            index={key}\n                            selectedAddress={selectedAddress}\n                            onSelectAddress={onSelectAddress}\n                          />\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n                <div className={classes.buttonsWrapper}>\n                  <button\n                    type='button'\n                    className={classes.arrowButton}\n                    onClick={onGoToPrevPage}\n                    data-testid='prevBtn'\n                    disabled={startIndex === 0}\n                  >\n                    <ReactFontawesome.FontAwesomeIcon\n                      size='sm'\n                      icon={icons.faChevronLeft}\n                    />{' '}\n                    Prev\n                  </button>\n                  <button\n                    type='button'\n                    className={classes.arrowButton}\n                    onClick={onGoToNextPage}\n                    data-testid='nextBtn'\n                  >\n                    Next{' '}\n                    <ReactFontawesome.FontAwesomeIcon\n                      size='sm'\n                      icon={icons.faChevronRight}\n                    />\n                  </button>\n                </div>\n                <button\n                  className={classes.confirmButton}\n                  disabled={selectedAddress === ''}\n                  onClick={onConfirmSelectedAddress}\n                  data-testid='confirmBtn'\n                >\n                  Confirm\n                </button>\n              </div>\n            </div>\n          </div>\n        </React.Fragment>\n      );\n  }\n};\n\nexport default AddressTable;\n","import React from 'react';\nimport { useGetAccountInfo } from 'hooks';\n\nconst ConfirmAddress = ({\n  token,\n  noBorder\n}: {\n  token?: string;\n  noBorder?: boolean;\n}) => {\n  const { ledgerAccount } = useGetAccountInfo();\n  return (\n    <div className='m-auto'>\n      <div className={`card my-4 text-center ${noBorder ? 'border-0' : ''}`}>\n        <div className='card-body p-4 mx-lg-4'>\n          <h4 className='mb-4'>Confirm Ledger Address</h4>\n          <p>For security, please confirm that your address: </p>\n          <p className='lead border rounded p-2'>\n            {ledgerAccount ? ledgerAccount.address : ''}\n          </p>\n          {token && (\n            <React.Fragment>\n              <p>and Auth Token</p>\n              <p className='lead border rounded p-2'>{`${token}{}`}</p>\n            </React.Fragment>\n          )}\n          <p className='m-0'>\n            {token\n              ? 'are the one shown on your Ledger device screen now.'\n              : 'is the one shown on your Ledger device screen now.'}\n          </p>\n\n          <p>Select Approve on your device to confirm.</p>\n          <p>\n            Or, if it does not match, close this page and{' '}\n            <a\n              href='https://help.elrond.com/en/'\n              {...{\n                target: '_blank'\n              }}\n            >\n              contact support\n            </a>\n            .\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ConfirmAddress;\n","import React from 'react';\nimport { ReactComponent as LedgerLogo } from '../assets/ledger-nano.svg';\n\nconst LedgerConnect = ({\n  onClick,\n  error,\n  connectPageContent\n}: {\n  onClick: () => void;\n  error: string;\n  connectPageContent?: React.ReactNode;\n}) => {\n  return (\n    <div className='m-auto login-container'>\n      <div className='card my-4 text-center border-0'>\n        <div className='card-body p-4 mx-lg-4'>\n          {connectPageContent ? (\n            <React.Fragment>{connectPageContent}</React.Fragment>\n          ) : (\n            <React.Fragment>\n              <LedgerLogo className='mb-4' />\n              <h4 className='mb-4'>Connect Ledger</h4>\n              <p className='lead mb-4'>\n                Unlock your device &amp; open the Elrond App.\n              </p>\n            </React.Fragment>\n          )}\n\n          <div>\n            {error && (\n              <p className='text-danger d-flex justify-content-center align-items-center'>\n                {error}\n              </p>\n            )}\n            <button\n              className='btn btn-primary px-4'\n              onClick={onClick}\n              data-testid='connectBtn'\n            >\n              Connect Ledger\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LedgerConnect;\n","import React from 'react';\nimport { useGetAccountInfo } from 'hooks';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport { useLedgerLogin } from 'services';\nimport ModalContainer from 'UI/ModalContainer';\n\nimport PageState from 'UI/PageState';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport AddressTable from './AddressTable';\nimport ConfirmAddress from './ConfirmAddress';\nimport LedgerConnect from './LedgerConnect';\n\nconst ledgerWaitingText = 'Waiting for device';\n\ninterface LedgerLoginContainerPropsType {\n  callbackRoute: string;\n  className?: string;\n  shouldRenderDefaultCss?: boolean;\n  wrapContentInsideModal?: boolean;\n  redirectAfterLogin?: boolean;\n  token?: string;\n  onClose?: () => void;\n}\n\nfunction LedgerLoginContainer({\n  callbackRoute,\n  className = 'login-modal-content',\n  shouldRenderDefaultCss = true,\n  wrapContentInsideModal = true,\n  redirectAfterLogin,\n  onClose,\n  token\n}: LedgerLoginContainerPropsType) {\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    { spinner: 'fa-spin text-primary' }\n  );\n  const { ledgerAccount } = useGetAccountInfo();\n  const [\n    onStartLogin,\n    { error, isLoading },\n    {\n      showAddressList,\n      accounts,\n      onGoToPrevPage,\n      onGoToNextPage,\n      onSelectAddress,\n      onConfirmSelectedAddress,\n      startIndex,\n      selectedAddress\n    }\n  ] = useLedgerLogin({ callbackRoute, token, redirectAfterLogin });\n\n  function getContent() {\n    if (isLoading) {\n      return (\n        <PageState\n          icon={icons.faCircleNotch}\n          iconClass={generatedClasses.spinner}\n          title={ledgerWaitingText}\n        />\n      );\n    }\n    if (ledgerAccount != null && !error) {\n      return <ConfirmAddress token={token} />;\n    }\n\n    if (showAddressList && !error) {\n      return (\n        <AddressTable\n          accounts={accounts}\n          loading={isLoading}\n          className={className}\n          shouldRenderDefaultCss={shouldRenderDefaultCss}\n          onGoToNextPage={onGoToNextPage}\n          onGoToPrevPage={onGoToPrevPage}\n          onSelectAddress={onSelectAddress}\n          startIndex={startIndex}\n          selectedAddress={selectedAddress?.address}\n          onConfirmSelectedAddress={onConfirmSelectedAddress}\n        />\n      );\n    }\n\n    return <LedgerConnect onClick={onStartLogin} error={error} />;\n  }\n  return wrapContentInsideModal ? (\n    <ModalContainer\n      title={'Login with ledger'}\n      className={className}\n      onClose={onClose}\n    >\n      {getContent()}\n    </ModalContainer>\n  ) : (\n    getContent()\n  );\n}\n\nexport default withClassNameWrapper(LedgerLoginContainer);\n","import React from 'react';\nimport { getGeneratedClasses, wrapperClassName } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport LedgerLoginContainer from '../LoginModal';\nimport { LedgerLoginButtonPropsType } from './types';\n\nconst LedgerLoginButton: (props: LedgerLoginButtonPropsType) => JSX.Element = ({\n  token,\n  callbackRoute,\n  children,\n  loginButtonText = 'Ledger',\n  buttonClassName,\n  className = 'ledger-login',\n  redirectAfterLogin = false,\n  wrapContentInsideModal = true,\n  shouldRenderDefaultCss = true\n}) => {\n  const [showLoginModal, setShowLoginModal] = React.useState(false);\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper: `btn btn-primary px-sm-4 m-1 mx-sm-3 ${\n        buttonClassName != null ? buttonClassName : ''\n      }`,\n      loginText: 'text-left'\n    }\n  );\n\n  function handleOpenModal() {\n    setShowLoginModal(true);\n  }\n\n  function handleCloseModal() {\n    setShowLoginModal(false);\n  }\n\n  return (\n    <span className={wrapperClassName}>\n      <button onClick={handleOpenModal} className={generatedClasses.wrapper}>\n        {children || (\n          <span className={generatedClasses.loginText}>{loginButtonText}</span>\n        )}\n      </button>\n      {showLoginModal && (\n        <LedgerLoginContainer\n          className={className}\n          shouldRenderDefaultCss={shouldRenderDefaultCss}\n          callbackRoute={callbackRoute}\n          token={token}\n          wrapContentInsideModal={wrapContentInsideModal}\n          redirectAfterLogin={redirectAfterLogin}\n          onClose={handleCloseModal}\n        />\n      )}\n    </span>\n  );\n};\n\nexport default withClassNameWrapper(LedgerLoginButton);\n","import React from 'react';\n\nimport { useGetNotification } from 'hooks';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactBootstrap from 'optionalPackages/react-bootstrap';\nimport { NotificationTypesEnum } from 'types';\n\nimport { wrapperClassName } from 'utils';\nimport PageState from '../PageState';\n\nconst notificationTypesToIcons = {\n  [NotificationTypesEnum.warning]: icons.faExclamationTriangle\n};\nconst defaultIcon = icons.faExclamationTriangle;\n\nexport function NotificationModal() {\n  const { notification, clearNotification } = useGetNotification();\n\n  const showModal = Boolean(notification);\n  const onDone = () => {\n    clearNotification();\n  };\n\n  const icon = notification\n    ? notificationTypesToIcons[notification?.type] || defaultIcon\n    : null;\n\n  return notification ? (\n    <ReactBootstrap.Modal\n      show={showModal}\n      backdrop={true}\n      onHide={notification}\n      className={`modal-container ${wrapperClassName}`}\n      animation={false}\n      centered\n    >\n      <div className='card w-100 notification-modal'>\n        <PageState\n          icon={icon}\n          iconClass={notification.iconClassName}\n          iconBgClass='p-4 rounded-bg-circle'\n          iconSize='3x'\n          title={notification.title}\n          description={notification.description}\n          action={\n            <button className='btn btn-primary' onClick={onDone}>\n              Done\n            </button>\n          }\n        />\n      </div>\n    </ReactBootstrap.Modal>\n  ) : null;\n}\n\nexport default NotificationModal;\n","import { useSelector } from 'redux/DappProviderContext';\nimport { loginInfoSelector } from 'redux/selectors';\n\nexport const useGetLoginInfo = () => {\n  const loginInfo = useSelector(loginInfoSelector);\n  return { ...loginInfo, isLoggedIn: loginInfo?.loginMethod != '' };\n};\n\nexport default useGetLoginInfo;\n","import React from 'react';\nimport classNames from 'optionalPackages/classnames';\nimport freeSolidIcons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactBootstrap from 'optionalPackages/react-bootstrap';\nimport { SignModalPropsType } from 'types';\nimport PageState from 'UI/PageState';\nimport { getGeneratedClasses, wrapperClassName } from 'utils';\n\nconst SignWithExtensionModal = ({\n  handleClose,\n  error,\n  callbackRoute,\n  transactions,\n  className = 'extension-modal'\n}: SignModalPropsType) => {\n  const classes = getGeneratedClasses(className, true, {\n    wrapper: 'modal-container extension',\n    icon: 'text-white',\n    closeBtn: 'btn btn-close-link mt-2'\n  });\n  const description = error\n    ? error\n    : transactions && transactions.length > 1\n    ? 'Check your Elrond Wallet Extension to sign the transactions'\n    : 'Check your Elrond Wallet Extension to sign the transaction';\n\n  const close = (e: React.MouseEvent) => {\n    e.preventDefault();\n    handleClose();\n    if (\n      callbackRoute != null &&\n      !window.location.pathname.includes(callbackRoute)\n    ) {\n      window.location.href = callbackRoute;\n    }\n  };\n\n  return (\n    <ReactBootstrap.Modal\n      show\n      backdrop='static'\n      onHide={handleClose}\n      className={classNames(classes.wrapper, wrapperClassName)}\n      animation={false}\n      centered\n    >\n      <PageState\n        icon={error ? freeSolidIcons.faTimes : freeSolidIcons.faHourglass}\n        iconClass={classes.icon}\n        className={className}\n        iconBgClass={error ? 'bg-danger' : 'bg-warning'}\n        iconSize='3x'\n        title='Confirm on Maiar DeFi Wallet'\n        description={description}\n        action={\n          <button\n            id='closeButton'\n            data-testid='closeButton'\n            onClick={close}\n            className={classes.closeBtn}\n          >\n            Close\n          </button>\n        }\n      />\n    </ReactBootstrap.Modal>\n  );\n};\n\nexport default SignWithExtensionModal;\n","import * as React from 'react';\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\n\nexport const Simple = ({ children }: { children: React.ReactNode }) => (\n  <div className='token-symbol'>{children}</div>\n);\n\nexport const Combined = ({\n  small,\n  children\n}: {\n  small: boolean | undefined;\n  children: React.ReactNode;\n}) => (\n  <div className={`token-symbol-combined ${small ? 'small' : ''}`}>\n    {children}\n  </div>\n);\n\nexport const Wrapped = ({ children }: { children: React.ReactNode }) => (\n  <div className='token-symbol-wrapped'>\n    <div className='wrapped rounded-circle shadow'>\n      <div className='locked-icon'>\n        <ReactFontawesome.FontAwesomeIcon icon={icons.faDollarSign} size='sm' />\n      </div>\n      {children}\n    </div>\n  </div>\n);\n\nexport const Pool = ({\n  first,\n  second\n}: {\n  first: React.ReactNode;\n  second: React.ReactNode;\n}) => (\n  <div className='token-symbol-pool'>\n    <div className='pool rounded-circle shadow'>\n      {first}\n      <div className='pool-icon'>{second}</div>\n    </div>\n  </div>\n);\n\nexport const Locked = ({ children }: { children: React.ReactNode }) => (\n  <div className='token-symbol-locked'>\n    <div className='locked rounded-circle shadow'>\n      <div className='locked-icon'>\n        <ReactFontawesome.FontAwesomeIcon icon={icons.faLock} size='sm' />\n      </div>\n      {children}\n    </div>\n  </div>\n);\n","import * as React from 'react';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { getEgldLabel, wrapperClassName } from 'utils';\nimport { ReactComponent as EgldIcon } from '../../assets/icons/EGLD.svg';\nimport { Simple, Combined } from './TokenSymbol';\n\nconst getIdentifierWithoutNonce = (identifier: string) => {\n  const tokenParts = identifier.split('-');\n  return identifier.includes('-')\n    ? `${tokenParts[0]}-${tokenParts[1]}`\n    : identifier;\n};\n\ntype TokenIconProps = {\n  token: string;\n  combined?: boolean | undefined;\n  small?: boolean | undefined;\n};\ntype TokenIconType = TokenIconProps & {\n  symbol: string;\n  label: string;\n  icon: React.ReactNode;\n};\n\nconst getDetails = (token: string): TokenIconType => {\n  const egldLabel = getEgldLabel();\n  const isEgldTransfer = token === egldLabel;\n  return {\n    token,\n    symbol: token ? token.split('-')[0] : '',\n    label: token,\n    // eslint-disable-next-line react/display-name\n    icon: () =>\n      isEgldTransfer ? (\n        <EgldIcon />\n      ) : (\n        <ReactFontawesome.FontAwesomeIcon icon={icons.faGem} />\n      )\n  };\n};\n\nexport default class TokenDetails extends React.Component {\n  static Token = (props: TokenIconProps) => (\n    <React.Fragment>{props.token}</React.Fragment>\n  );\n  static Symbol = (props: TokenIconProps) => (\n    <React.Fragment>\n      {getDetails(getIdentifierWithoutNonce(props.token)).symbol}\n    </React.Fragment>\n  );\n  static Label = (props: TokenIconProps) => (\n    <React.Fragment>\n      {getDetails(getIdentifierWithoutNonce(props.token)).label}\n    </React.Fragment>\n  );\n  static Icon = (props: TokenIconProps) => {\n    const Component: any =\n      process.env.NODE_ENV !== 'test'\n        ? getDetails(getIdentifierWithoutNonce(props.token)).icon\n        : () => null;\n\n    return (\n      <span className={wrapperClassName}>\n        {props.combined ? (\n          <Combined small={props.small}>\n            <Component />\n          </Combined>\n        ) : (\n          <Simple>\n            <Component />\n          </Simple>\n        )}\n      </span>\n    );\n  };\n  render() {\n    return null;\n  }\n}\n","import * as React from 'react';\nimport { decodePart } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\n\nconst allOccurences = (sourceStr: string, searchStr: string) =>\n  [...sourceStr.matchAll(new RegExp(searchStr, 'gi'))].map((a) => a.index);\n\nconst TransactionData = ({\n  data,\n  highlight,\n  isScCall\n}: {\n  data: string;\n  highlight?: string;\n  isScCall?: boolean;\n}) => {\n  let output = <React.Fragment>{data}</React.Fragment>;\n\n  const [encodedScCall, ...remainingDataFields] =\n    highlight && isScCall ? highlight.split('@') : [];\n\n  if (data && highlight && allOccurences(data, highlight).length === 1) {\n    switch (true) {\n      case data.startsWith(highlight): {\n        const [, rest] = data.split(highlight);\n        output = (\n          <React.Fragment>\n            {highlight}\n            <span className='text-muted'>{rest}</span>\n          </React.Fragment>\n        );\n        break;\n      }\n      case data.endsWith(highlight): {\n        const [rest] = data.split(highlight);\n        output = (\n          <React.Fragment>\n            <span className='text-muted'>{rest}</span>\n            {highlight}\n          </React.Fragment>\n        );\n        break;\n      }\n\n      default: {\n        const [start, end] = data.split(highlight);\n\n        output = (\n          <React.Fragment>\n            <span className='text-muted'>{start}</span>\n            <span className={'highlighted'}>{highlight}</span>\n            <span className='text-muted'>{end}</span>\n          </React.Fragment>\n        );\n        break;\n      }\n    }\n  }\n\n  return (\n    <React.Fragment>\n      {encodedScCall && (\n        <div className='form-group mb-0 data-field mw-100'>\n          <span className='form-label text-secondary d-block'>SC Call</span>\n\n          <div\n            data-testid='confirmScCall'\n            className='textarea sc-call form-control cursor-text mt-1 text-break-all'\n          >\n            {[decodePart(encodedScCall), ...remainingDataFields].join('@')}\n          </div>\n        </div>\n      )}\n      <div className='form-group mb-0 data-field mw-100'>\n        <span className='form-label text-secondary d-block'>Data</span>\n\n        <div\n          data-testid='confirmData'\n          className='textarea form-control cursor-text mt-1 text-break-all'\n        >\n          {data ? output : 'N/A'}\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default withClassNameWrapper(TransactionData);\n","import React from 'react';\nimport { Address } from '@elrondnetwork/erdjs/out';\nimport { useGetNetworkConfig } from 'hooks';\nimport useGetTokenDetails from 'hooks/transactions/useGetTokenDetails';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport PageState from 'UI/PageState';\nimport TokenDetails from 'UI/TokenDetails';\nimport TransactionData from 'UI/TransactionData';\nimport {\n  denominate,\n  getEgldLabel,\n  getGeneratedClasses,\n  isTokenTransfer\n} from 'utils';\n\nexport interface SignStepType {\n  onSignTransaction: () => void;\n  onPrev: () => void;\n  handleClose: () => void;\n  waitingForDevice: boolean;\n  error: string | null;\n  callbackRoute?: string;\n  title?: string;\n  currentStep: number;\n  currentTransaction: any;\n  isLastTransaction: boolean;\n  className: string;\n}\n\nconst SignStep = ({\n  onSignTransaction,\n  handleClose,\n  onPrev,\n  title = 'Confirm on Ledger',\n  waitingForDevice,\n  currentTransaction,\n  error,\n  isLastTransaction,\n  currentStep,\n  className\n}: SignStepType) => {\n  const egldLabel = getEgldLabel();\n  const transactionData = currentTransaction.transaction.getData().toString();\n  const { network } = useGetNetworkConfig();\n\n  const { tokenId, amount, type, multiTxData, receiver } =\n    currentTransaction.transactionTokenInfo;\n\n  const isTokenTransaction = Boolean(\n    tokenId && isTokenTransfer({ tokenId, erdLabel: egldLabel })\n  );\n\n  const onCloseClick = (e: React.MouseEvent) => {\n    e.preventDefault();\n    if (isFirst) {\n      handleClose();\n    } else {\n      onPrev();\n    }\n  };\n\n  const continueWithoutSigning =\n    type && multiTxData && !transactionData.endsWith(multiTxData);\n\n  let signBtnLabel = 'Sign & Continue';\n  signBtnLabel = waitingForDevice ? 'Check your Ledger' : signBtnLabel;\n  signBtnLabel =\n    isLastTransaction && !waitingForDevice ? 'Sign & Submit' : signBtnLabel;\n  signBtnLabel = continueWithoutSigning ? 'Continue' : signBtnLabel;\n\n  const isFirst = currentStep === 0;\n\n  const { tokenDenomination } = useGetTokenDetails({\n    tokenId: currentTransaction.transactionTokenInfo.tokenId\n  });\n\n  const denominatedAmount = denominate({\n    input: isTokenTransaction\n      ? amount\n      : currentTransaction.transaction.getValue().toString(),\n    denomination: isTokenTransaction\n      ? tokenDenomination\n      : Number(network.egldDenomination),\n    decimals: Number(network.decimals),\n    showLastNonZeroDecimal: false,\n    addCommas: true\n  });\n\n  const classes = getGeneratedClasses(className, true, {\n    formGroup: 'form-group text-left',\n    formLabel: 'form-label text-secondary',\n    icon: 'text-white',\n    contentWrapper:\n      'd-flex flex-column justify-content-start flex-md-row justify-content-md-between mb-3',\n    tokenWrapper: 'mb-3 mb-md-0 d-flex flex-column align-items-start',\n    tokenLabel: 'text-secondary text-left',\n    tokenValue: 'd-flex align-items-center mt-1',\n    tokenAmountLabel: 'text-secondary text-left',\n    tokenAmountValue: 'd-flex align-items-center',\n    dataFormGroup: 'form-group text-left',\n    errorMessage:\n      'text-danger d-flex justify-content-center align-items-center',\n    buttonsWrapper: 'd-flex align-items-center justify-content-end mt-spacer',\n    cancelButton: 'btn btn-dark text-white flex-even mr-2',\n    signButton: 'btn btn-primary flex-even ml-2'\n  });\n\n  return (\n    <PageState\n      icon={error ? icons.faTimes : icons.faHourglass}\n      iconClass={classes.icon}\n      iconBgClass={error ? 'bg-danger' : 'bg-warning'}\n      iconSize='3x'\n      className={className}\n      title={title}\n      description={\n        <React.Fragment>\n          {currentTransaction.transaction && (\n            <React.Fragment>\n              <div className={classes.formGroup} data-testid='transactionTitle'>\n                <div className={classes.formLabel}>To: </div>\n                {multiTxData\n                  ? new Address(receiver).bech32()\n                  : currentTransaction.transaction.getReceiver().toString()}\n              </div>\n\n              <div className={classes.contentWrapper}>\n                <div className={classes.tokenWrapper}>\n                  <div className={classes.tokenlabel}>Token</div>\n                  <div className={classes.tokenValue}>\n                    <TokenDetails.Icon token={tokenId || egldLabel} />\n                    <div className='mr-1'></div>\n                    <TokenDetails.Label token={tokenId || egldLabel} />\n                  </div>\n                </div>\n                <div>\n                  <div className={classes.tokenAmountLabel}>Amount</div>\n                  <div className={classes.tokenAmountValue}>\n                    <div className='mr-1'>{denominatedAmount}</div>\n                    <TokenDetails.Symbol token={tokenId || egldLabel} />\n                  </div>\n                </div>\n              </div>\n\n              <div className={classes.dataFormGroup}>\n                {currentTransaction.transaction.getData() && (\n                  <TransactionData\n                    {...{\n                      data: currentTransaction.transaction.getData().toString(),\n                      highlight: multiTxData,\n                      isScCall: !tokenId\n                    }}\n                  />\n                )}\n              </div>\n              {error && <p className={classes.errorMessage}>{error}</p>}\n            </React.Fragment>\n          )}\n        </React.Fragment>\n      }\n      action={\n        <div className={classes.buttonsWrapper}>\n          <button\n            id='closeButton'\n            data-testid='closeButton'\n            onClick={onCloseClick}\n            className={classes.cancelButton}\n          >\n            {isFirst ? 'Cancel' : 'Back'}\n          </button>\n\n          <button\n            type='button'\n            className={classes.signButton}\n            id='signBtn'\n            data-testid='signBtn'\n            onClick={onSignTransaction}\n            disabled={waitingForDevice}\n          >\n            {signBtnLabel}\n          </button>\n        </div>\n      }\n    />\n  );\n};\n\nexport default SignStep;\n","import React from 'react';\nimport { useSignTransactionsWithLedger } from 'hooks';\nimport classNames from 'optionalPackages/classnames';\nimport ReactBootstrap from 'optionalPackages/react-bootstrap';\nimport { SignModalPropsType } from 'types';\nimport { getGeneratedClasses, wrapperClassName } from 'utils';\nimport SignStep from './SignStep';\n\nconst SignWithLedgerModal = ({\n  handleClose,\n  error,\n  className = 'ledger-modal'\n}: SignModalPropsType) => {\n  const {\n    onSignTransaction,\n    onNext,\n    onPrev,\n    allTransactions,\n    waitingForDevice,\n    onAbort,\n    isLastTransaction,\n    currentStep,\n    callbackRoute,\n    currentTransaction\n  } = useSignTransactionsWithLedger({ onCancel: handleClose });\n  const classes = getGeneratedClasses(className, true, {\n    wrapper: 'modal-container wallet-connect',\n    container: 'card container',\n    cardBody: 'card-body'\n  });\n  return (\n    <ReactBootstrap.Modal\n      show={currentTransaction != null}\n      backdrop='static'\n      onHide={handleClose}\n      className={classNames(classes.wrapper, wrapperClassName)}\n      animation={false}\n      centered\n    >\n      <div className={classes.container}>\n        <div className={classes.cardBody}>\n          <SignStep\n            {...{\n              onSignTransaction,\n              onNext,\n              onPrev,\n              allTransactions,\n              waitingForDevice,\n              isLastTransaction,\n              currentStep,\n              callbackRoute,\n              currentTransaction,\n              handleClose: onAbort,\n              className,\n              error\n            }}\n          />\n        </div>\n      </div>\n    </ReactBootstrap.Modal>\n  );\n};\n\nexport default SignWithLedgerModal;\n","import React from 'react';\n\nimport classNames from 'optionalPackages/classnames';\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactBootstrap from 'optionalPackages/react-bootstrap';\nimport { SignModalPropsType } from 'types';\nimport PageState from 'UI/PageState';\nimport { getGeneratedClasses, wrapperClassName } from 'utils';\n\nexport const SignWithWalletConnectModal = ({\n  error,\n  handleClose,\n  callbackRoute,\n  transactions,\n  className = 'wallet-connect-modal'\n}: SignModalPropsType) => {\n  const classes = getGeneratedClasses(className, true, {\n    wrapper: 'modal-container wallet-connect',\n    icon: 'text-white',\n    closeBtn: 'btn btn-close-link mt-2'\n  });\n\n  const hasMultipleTransactions = transactions && transactions?.length > 1;\n  const description = error\n    ? error\n    : `Check your phone to sign the transaction${\n        hasMultipleTransactions ? 's' : ''\n      }`;\n\n  const close = (e: React.MouseEvent) => {\n    e.preventDefault();\n    handleClose();\n    if (\n      callbackRoute != null &&\n      !window.location.pathname.includes(callbackRoute)\n    ) {\n      window.location.href = callbackRoute;\n    }\n  };\n  return (\n    <ReactBootstrap.Modal\n      show\n      backdrop='static'\n      onHide={close}\n      className={classNames(classes.wrapper, wrapperClassName)}\n      animation={false}\n      centered\n    >\n      <PageState\n        icon={error ? icons.faTimes : icons.faHourglass}\n        iconClass={classes.icon}\n        className={className}\n        iconBgClass={error ? 'bg-danger' : 'bg-warning'}\n        iconSize='3x'\n        title='Confirm on Maiar'\n        description={description}\n        action={\n          <button\n            id='closeButton'\n            data-testid='closeButton'\n            onClick={close}\n            className={classes.closeBtn}\n          >\n            Close\n          </button>\n        }\n      />\n    </ReactBootstrap.Modal>\n  );\n};\n\nexport default SignWithWalletConnectModal;\n","import React from 'react';\n\nimport { Transaction } from '@elrondnetwork/erdjs';\nimport {\n  useGetAccountProvider,\n  useGetSignTransactionsError,\n  useSignTransactions\n} from 'hooks';\nimport useGetLoginInfo from 'hooks/useGetLoginInfo';\nimport { LoginMethodsEnum } from 'types';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport SignWithExtensionModal from './SignWithExtensionModal';\nimport SignWithLedgerModal from './SignWithLedgerModal';\nimport SignWithWalletConnectModal from './SignWithWalletConnectModal';\n\ninterface SignPropsType {\n  handleClose: () => void;\n  error: string | null;\n  sessionId?: string;\n  transactions: Transaction[];\n  providerType: LoginMethodsEnum;\n  callbackRoute: string;\n  className?: string;\n}\n\ninterface CustomConfirmScreensType {\n  Ledger: (signProps: SignPropsType) => JSX.Element;\n  Extension: (signProps: SignPropsType) => JSX.Element;\n  WalletConnect: (signProps: SignPropsType) => JSX.Element;\n  Extra: (signProps: SignPropsType) => JSX.Element;\n}\n\ninterface SignTransactionsPropsType {\n  className?: string;\n  CustomConfirmScreens?: CustomConfirmScreensType;\n}\n\nfunction SignTransactionsModals({\n  className,\n  CustomConfirmScreens\n}: SignTransactionsPropsType) {\n  const {\n    callbackRoute,\n    transactions,\n    error,\n    sessionId,\n    onAbort,\n    hasTransactions\n  } = useSignTransactions();\n\n  const { providerType } = useGetAccountProvider();\n  const signTransactionsError = useGetSignTransactionsError();\n  const { loginMethod } = useGetLoginInfo();\n\n  const handleClose = () => {\n    onAbort(sessionId);\n  };\n\n  const signError = error || signTransactionsError;\n\n  const signProps: SignPropsType = {\n    handleClose,\n    error: signError,\n    sessionId,\n    transactions: transactions!,\n    providerType,\n    callbackRoute,\n    className\n  };\n\n  if (signError || hasTransactions) {\n    switch (loginMethod) {\n      case LoginMethodsEnum.ledger:\n        return CustomConfirmScreens?.Ledger ? (\n          <CustomConfirmScreens.Ledger {...signProps} />\n        ) : (\n          <SignWithLedgerModal {...signProps} />\n        );\n\n      case LoginMethodsEnum.walletconnect:\n        return CustomConfirmScreens?.WalletConnect ? (\n          <CustomConfirmScreens.WalletConnect {...signProps} />\n        ) : (\n          <SignWithWalletConnectModal {...signProps} />\n        );\n\n      case LoginMethodsEnum.extension:\n        return CustomConfirmScreens?.Extension ? (\n          <CustomConfirmScreens.Extension {...signProps} />\n        ) : (\n          <SignWithExtensionModal {...signProps} />\n        );\n\n      case LoginMethodsEnum.extra:\n        return CustomConfirmScreens?.Extra ? (\n          <CustomConfirmScreens.Extra {...signProps} />\n        ) : null;\n\n      default:\n        return null;\n    }\n  }\n\n  return null;\n}\n\nexport default withClassNameWrapper(SignTransactionsModals);\n","enum SessionStorageKeysEnum {\n  'toasts' = 'toasts'\n}\n\nexport function setToastsIdsToStorage(ids: string[]) {\n  return sessionStorage.setItem(\n    SessionStorageKeysEnum.toasts,\n    JSON.stringify(ids)\n  );\n}\n\nexport function getToastsIdsFromStorage() {\n  const toastsIds = sessionStorage.getItem(SessionStorageKeysEnum.toasts);\n  return toastsIds != null ? JSON.parse(toastsIds) : [];\n}\n","import { Address } from '@elrondnetwork/erdjs/out';\nimport { getShardOfAddress } from 'utils';\n\ninterface IsCrossShardTransactionPropsType {\n  receiverAddress: string;\n  senderShard?: number;\n  senderAddress?: string;\n}\nexport function isCrossShardTransaction({\n  receiverAddress,\n  senderShard,\n  senderAddress\n}: IsCrossShardTransactionPropsType) {\n  try {\n    const receiver = new Address(receiverAddress);\n    const receiverShard = getShardOfAddress(receiver.pubkey());\n    if (senderShard == null && senderAddress != null) {\n      const sender = new Address(senderAddress);\n      return getShardOfAddress(sender) === receiverShard;\n    }\n    return receiverShard === senderShard;\n  } catch (err) {\n    return false;\n  }\n}\n","import React from 'react';\nimport classnames from 'optionalPackages/classnames';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { Props } from './types';\n\nconst IconState = ({\n  icon,\n  iconSize = '3x',\n  className = 'icon-state',\n  shouldRenderDefaultCss = true\n}: Props) => {\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper: classnames('icon-state mx-auto', className, {\n        half: iconSize === '2x'\n      }),\n      icon: classnames('text-white', className)\n    }\n  );\n\n  return (\n    <span className={generatedClasses.wrapper}>\n      <ReactFontawesome.FontAwesomeIcon\n        icon={icon}\n        size={iconSize}\n        className={generatedClasses.icon}\n      />\n    </span>\n  );\n};\n\nexport default withClassNameWrapper(IconState);\n","import React from 'react';\nimport moment from 'optionalPackages/moment';\nimport { logarithmicRest } from 'utils';\nimport storage from 'utils/session';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { Props } from './type';\n\nconst Progress = ({ id, children, progress, done }: Props) => {\n  const ref = React.useRef(null);\n  const intervalRef = React.useRef<any>();\n  const removeTxFromSession = () => {\n    const toastProgress = storage.getItem('toastProgress');\n    const hasSessionStoredTx = Boolean(toastProgress[id]);\n\n    if (!hasSessionStoredTx) {\n      return;\n    }\n\n    const expires = moment().add(10, 'minutes').unix();\n\n    delete toastProgress[id];\n\n    storage.setItem({\n      key: 'toastProgress',\n      data: toastProgress,\n      expires\n    });\n  };\n\n  const saveToSession = ({ value }: { value: number }) => {\n    const toastProgress = storage.getItem('toastProgress') || {};\n    toastProgress[id] = value;\n    storage.setItem({\n      key: 'toastProgress',\n      data: toastProgress,\n      expires: moment().add(10, 'minutes').unix()\n    });\n  };\n\n  const getInitialData = () => {\n    const totalSeconds = progress ? progress.endTime - progress.startTime : 0;\n    const toastProgress = storage.getItem('toastProgress');\n    const remaining = progress\n      ? ((progress.endTime - moment().unix()) * 100) / totalSeconds\n      : 0;\n\n    const currentRemaining =\n      toastProgress && id in toastProgress ? toastProgress[id] : remaining;\n    return { currentRemaining, totalSeconds };\n  };\n\n  const { totalSeconds, currentRemaining } = getInitialData();\n\n  const [percentRemaining, setPercentRemaining] =\n    React.useState<number>(currentRemaining);\n\n  React.useEffect(() => {\n    if (progress) {\n      const maxPercent = 90;\n      const perc = totalSeconds / maxPercent;\n      const int = moment.duration(perc.toFixed(2), 's').asMilliseconds();\n\n      if (done) {\n        intervalRef.current = setInterval(() => {\n          if (ref.current !== null) {\n            setPercentRemaining((existing) => {\n              const value = existing - 1;\n              if (value <= 0) {\n                clearInterval(intervalRef.current);\n                removeTxFromSession();\n                return 0;\n              } else {\n                saveToSession({ value });\n                return value;\n              }\n            });\n          }\n        }, 5);\n      } else {\n        intervalRef.current = setInterval(() => {\n          if (ref.current !== null) {\n            setPercentRemaining((existing) => {\n              const decrement =\n                existing > 100 - maxPercent ? 1 : logarithmicRest(existing);\n              const value = existing - decrement;\n              saveToSession({ value });\n              return value;\n            });\n          }\n        }, int);\n      }\n\n      return () => {\n        clearInterval(intervalRef.current);\n      };\n    }\n    return;\n  }, [progress, done]);\n  return progress ? (\n    <div className='progress position-relative' ref={ref}>\n      <div\n        className='progress-bar'\n        role='progressbar'\n        style={{ width: `${percentRemaining}%` }}\n        aria-valuenow={percentRemaining}\n        aria-valuemin={0}\n        aria-valuemax={100}\n      >\n        <div className='content-height'>{children}</div>\n      </div>\n      <div className='d-flex position-absolute w-100'>{children}</div>\n    </div>\n  ) : (\n    <React.Fragment>{children}</React.Fragment>\n  );\n};\n\nexport default withClassNameWrapper(Progress);\n","function fallbackCopyTextToClipboard(text: string) {\n  let success = false;\n\n  const textArea = document.createElement('textarea');\n  textArea.value = text;\n  textArea.style.position = 'fixed';\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    document.execCommand('copy');\n    success = true;\n  } catch (err) {\n    console.error('Fallback: Oops, unable to copy', err);\n  }\n\n  document.body.removeChild(textArea);\n\n  return success;\n}\n\nexport default async function copyTextToClipboard(text: string) {\n  let success = false;\n\n  if (!navigator.clipboard) {\n    success = fallbackCopyTextToClipboard(text);\n  } else {\n    success = await navigator.clipboard.writeText(text).then(\n      function done() {\n        return true;\n      },\n      function error(err) {\n        console.error('Async: Could not copy text: ', err);\n        return false;\n      }\n    );\n  }\n\n  return success;\n}\n","import React from 'react';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport copyTextToClipboard from './helpers/copyToClipboard';\n\ninterface CopyButtonType {\n  text: string;\n  className?: string;\n}\n\nconst CopyButton = ({ text, className = '' }: CopyButtonType) => {\n  const [copyResult, setCopyResut] = React.useState({\n    default: true,\n    success: false\n  });\n\n  const handleCopyToClipboard = async (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const noSpaces = text ? text.trim() : text;\n    setCopyResut({\n      default: false,\n      success: await copyTextToClipboard(noSpaces)\n    });\n\n    setTimeout(() => {\n      setCopyResut({\n        default: true,\n        success: false\n      });\n    }, 1000);\n  };\n\n  return (\n    <a\n      href='/#'\n      onClick={handleCopyToClipboard}\n      className={`side-action text-secondary ${className}`}\n    >\n      {copyResult.default || !copyResult.success ? (\n        <ReactFontawesome.FontAwesomeIcon icon={icons.faCopy} />\n      ) : (\n        <ReactFontawesome.FontAwesomeIcon\n          icon={icons.faCheck}\n          className='text-primary-highlight'\n        />\n      )}\n    </a>\n  );\n};\n\nexport default withClassNameWrapper(CopyButton);\n","import React from 'react';\nimport { useCallback } from 'react';\nimport debounce from 'lodash/debounce';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\n\ninterface TrimType {\n  text: string;\n  dataTestId?: string;\n}\n\nconst Trim = ({ text, dataTestId = '' }: TrimType) => {\n  const [overflow, setOverflow] = React.useState(false);\n  const trimRef = React.useRef(document.createElement('span'));\n  const hiddenTextRef = React.useRef(document.createElement('span'));\n\n  const listener = useCallback(\n    debounce(() => {\n      if (trimRef.current && hiddenTextRef.current) {\n        const diff =\n          hiddenTextRef.current.offsetWidth - trimRef.current.offsetWidth;\n        setOverflow(diff > 1);\n      }\n    }, 300),\n    []\n  );\n\n  const addWindowResizeListener = () => {\n    window.addEventListener('resize', listener);\n    return () => {\n      window.removeEventListener('resize', listener);\n    };\n  };\n\n  React.useEffect(addWindowResizeListener);\n\n  React.useEffect(() => {\n    listener();\n  }, []);\n\n  return (\n    <span\n      ref={trimRef}\n      className={`trim ${overflow ? 'overflow' : ''}`}\n      data-testid={dataTestId}\n    >\n      <span ref={hiddenTextRef} className='hidden-text-ref'>\n        {text}\n      </span>\n\n      {overflow ? (\n        <React.Fragment>\n          <span className='left'>\n            <span>\n              {String(text).substring(0, Math.floor(text.length / 2))}\n            </span>\n          </span>\n          <span className='ellipsis'>...</span>\n          <span className='right'>\n            <span>{String(text).substring(Math.ceil(text.length / 2))}</span>\n          </span>\n        </React.Fragment>\n      ) : (\n        <span>{text}</span>\n      )}\n    </span>\n  );\n};\n\nexport default withClassNameWrapper(Trim);\n","import React from 'react';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport CopyButton from 'UI/CopyButton';\nimport ExplorerLink from 'UI/ExplorerLink';\nimport Trim from 'UI/Trim';\nimport { getGeneratedClasses, isServerTransactionPending } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { Props } from './types';\n\nconst TxDetails = ({\n  title,\n  transactions,\n  className = 'tx-details',\n  isTimedOut = false,\n  shouldRenderDefaultCss = true\n}: Props) => {\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      title: 'mb-0',\n      statusTransactions: 'mb-2 mt-1',\n      iconSuccess: 'mr-1 text-secondary',\n      iconFailed: 'mr-1 text-secondary',\n      trimContainer: 'text-nowrap trim-fs-sm mr-3',\n      iconPending: 'mr-1 text-secondary fa-spin slow-spin',\n      item: 'tx-description d-flex justify-content-start align-items-center'\n    }\n  );\n\n  const iconSuccessData = {\n    icon: icons.faCheck,\n    classNames: generatedClasses.iconSuccess\n  };\n\n  const iconFailedData = {\n    icon: icons.faTimes,\n    classNames: generatedClasses.iconSuccess\n  };\n\n  const iconPendingData = {\n    icon: icons.faSpinner,\n    classNames: generatedClasses.iconPending\n  };\n\n  const iconData = {\n    pending: iconPendingData,\n    success: iconSuccessData,\n    completed: iconSuccessData,\n    fail: iconFailedData,\n    invalid: iconFailedData,\n    timedOut: iconFailedData\n  };\n  return (\n    <React.Fragment>\n      {title && <div className={generatedClasses.title}>{title}</div>}\n      <div className={generatedClasses.statusTransactions}>\n        {\n          transactions.filter((tx) => !isServerTransactionPending(tx.status))\n            .length\n        }{' '}\n        / {transactions.length} transactions processed\n      </div>\n      {transactions.map(({ hash, status }) => {\n        const iconSrc = iconData[status];\n        return (\n          <div className={generatedClasses.item} key={hash}>\n            {!isTimedOut && iconSrc != null && (\n              <ReactFontawesome.FontAwesomeIcon\n                icon={iconSrc.icon}\n                className={iconSrc.classNames}\n              />\n            )}\n            <span\n              className={generatedClasses.trimContainer}\n              style={{ width: '10rem' }}\n            >\n              <Trim text={hash} />\n            </span>\n            <CopyButton text={hash} />\n            {!isServerTransactionPending(status) && (\n              <ExplorerLink page={`/transactions/${hash}`} className='ml-2' />\n            )}\n          </div>\n        );\n      })}\n    </React.Fragment>\n  );\n};\n\nexport default withClassNameWrapper(TxDetails);\n","import React, { useMemo, useRef, useState } from 'react';\n\nimport { useGetTransactionDisplayInfo } from 'hooks';\n\nimport icons from 'optionalPackages/fortawesome-free-solid-svg-icons';\nimport moment from 'optionalPackages/moment';\nimport ReactBootstrap from 'optionalPackages/react-bootstrap';\nimport ReactFontawesome from 'optionalPackages/react-fontawesome';\nimport { useSelector } from 'redux/DappProviderContext';\nimport { shardSelector } from 'redux/selectors';\nimport { isCrossShardTransaction } from 'services/transactions/isCrossShardTransaction';\nimport { SignedTransactionType } from 'types';\nimport IconState from 'UI/IconState';\nimport Progress from 'UI/Progress';\nimport TxDetails from 'UI/TxDetails';\nimport {\n  getAddressFromDataField,\n  getGeneratedClasses,\n  getIsTransactionPending,\n  getIsTransactionTimedOut\n} from 'utils';\n\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { TransactionToastPropsType } from './types';\n\nconst averageTxDurationMs = 6000;\nconst crossShardRounds = 5;\n\nconst TransactionToast = ({\n  toastId,\n  title = '',\n  shouldRenderDefaultCss = true,\n  className = 'transaction-toast',\n  withTxNonce = false,\n  transactions,\n  status,\n  onClose\n}: TransactionToastPropsType) => {\n  const ref = useRef(null);\n  const [shouldRender, setShouldRender] = useState(true);\n  const transactionDisplayInfo = useGetTransactionDisplayInfo(toastId);\n  const accountShard = useSelector(shardSelector);\n\n  const {\n    errorMessage = 'Transaction failed',\n    timedOutMessage = 'Transaction timed out',\n    successMessage = 'Transaction successful',\n    processingMessage = 'Processing transaction'\n  } = transactionDisplayInfo;\n\n  const isSameShard = useMemo(\n    () =>\n      transactions!.reduce(\n        (\n          prevTxIsSameShard: boolean,\n          { receiver, data }: SignedTransactionType\n        ) => {\n          const receiverAddress = getAddressFromDataField({\n            receiver,\n            data\n          });\n          if (receiverAddress == null) {\n            return prevTxIsSameShard;\n          }\n          return (\n            prevTxIsSameShard &&\n            isCrossShardTransaction({\n              receiverAddress,\n              senderShard: accountShard\n            })\n          );\n        },\n        true\n      ),\n    [transactions, accountShard]\n  );\n\n  const shardAdjustedDuration = isSameShard\n    ? averageTxDurationMs\n    : crossShardRounds * averageTxDurationMs;\n\n  const transactionDuration =\n    transactionDisplayInfo?.transactionDuration || shardAdjustedDuration;\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      toastFooter: 'mb-0 text-break',\n      details: 'media-body flex-grow-1',\n      toastContainer: 'w-100 media p-2',\n      wrapper: 'toast-visible clickable',\n      toastHeader: 'd-flex justify-content-between mb-1',\n      iconContainer: 'align-self-center ml-2 mr-2 pr-1',\n      title: 'm-0 font-weight-normal text-nowrap text-truncate',\n      closeButton: 'close d-flex side-action align-items-center mx-2 outline-0'\n    }\n  );\n\n  const [startTime, endTime] = useMemo(() => {\n    const startTime = moment().unix();\n    const endTime = moment()\n      .add(Number(transactionDuration), 'milliseconds')\n      .unix();\n    return [startTime, endTime];\n  }, []);\n\n  const progress = { startTime, endTime };\n\n  const successToastData = {\n    id: toastId,\n    icon: icons.faCheck,\n    expires: 30000,\n    hasCloseButton: true,\n    title: successMessage,\n    iconClassName: 'bg-success'\n  };\n\n  const pendingToastData = {\n    id: toastId,\n    expires: false,\n    icon: icons.faHourglass,\n    hasCloseButton: false,\n    title: processingMessage,\n    iconClassName: 'bg-warning'\n  };\n\n  const failToastData = {\n    id: toastId,\n    icon: icons.faTimes,\n    title: errorMessage,\n    hasCloseButton: true,\n    iconClassName: 'bg-danger'\n  };\n\n  const timedOutToastData = {\n    id: toastId,\n    icon: icons.faTimes,\n    title: timedOutMessage,\n    hasCloseButton: true,\n    iconClassName: 'bg-warning'\n  };\n\n  const isPending = getIsTransactionPending(status);\n  const isTimedOut = getIsTransactionTimedOut(status);\n\n  const toatsOptionsData = {\n    signed: pendingToastData,\n    sent: pendingToastData,\n    pending: pendingToastData,\n    success: successToastData,\n    completed: successToastData,\n    cancelled: failToastData,\n    fail: failToastData,\n    timedOut: timedOutToastData\n  };\n\n  const toastDataState = toatsOptionsData[status!];\n\n  const handleDeleteToast = () => {\n    setShouldRender(false);\n    onClose?.(toastId);\n  };\n\n  if (!shouldRender || transactions == null) {\n    return null;\n  }\n\n  return (\n    <ReactBootstrap.Toast\n      ref={ref}\n      className={generatedClasses.wrapper}\n      key={toastId}\n    >\n      <Progress\n        key={toastId}\n        id={toastId}\n        progress={progress}\n        done={!isPending || isTimedOut}\n      >\n        <div className={generatedClasses.toastContainer}>\n          <div className={generatedClasses.iconContainer}>\n            <IconState\n              iconSize='2x'\n              icon={toastDataState.icon}\n              className={toastDataState.iconClassName}\n            />\n            {withTxNonce &&\n              transactions.map((tx: any) => (\n                <p key={tx.nonce.valueOf()}>{tx.nonce.valueOf()}</p>\n              ))}\n          </div>\n          <div className={generatedClasses.details} style={{ minWidth: 0 }}>\n            <div className={generatedClasses.toastHeader}>\n              <h5 className={generatedClasses.title}>{toastDataState.title}</h5>\n              {!isPending && (\n                <button\n                  type='button'\n                  className={generatedClasses.closeButton}\n                  onClick={handleDeleteToast}\n                >\n                  <ReactFontawesome.FontAwesomeIcon\n                    icon={icons.faTimes}\n                    size='xs'\n                  />\n                </button>\n              )}\n            </div>\n            <div className={generatedClasses.toastFooter}>\n              <TxDetails\n                transactions={transactions}\n                title={title}\n                isTimedOut={isTimedOut}\n              />\n            </div>\n          </div>\n        </div>\n      </Progress>\n    </ReactBootstrap.Toast>\n  );\n};\n\nexport default withClassNameWrapper(TransactionToast);\n","import React, { useEffect, useState } from 'react';\nimport { useGetSignedTransactions } from 'hooks';\nimport { useGetPendingTransactions } from 'services';\nimport {\n  getToastsIdsFromStorage,\n  setToastsIdsToStorage\n} from 'storage/session';\nimport { SignedTransactionsBodyType } from 'types';\nimport TransactionToast from 'UI/TransactionToast';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\n\nimport { TransactionsToastListPropsType } from './types';\n\nfunction TransactionsToastList({\n  shouldRenderDefaultCss = true,\n  withTxNonce = false,\n  className = 'transactions-toast-list',\n  pendingTransactions,\n  signedTransactions\n}: TransactionsToastListPropsType) {\n  const [toastsIds, setToastsIds] = useState<any>([]);\n\n  const pendingTransactionsFromStore =\n    useGetPendingTransactions().pendingTransactions;\n\n  const signedTransactionsFromStore =\n    useGetSignedTransactions().signedTransactions;\n\n  const pendingTransactionsToRender =\n    pendingTransactions || pendingTransactionsFromStore;\n\n  const signedTransactionsToRender =\n    signedTransactions || signedTransactionsFromStore;\n\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper:\n        'toast-messages d-flex flex-column align-items-center justify-content-sm-end',\n      toast: ''\n    }\n  );\n\n  const mappedToastsList = toastsIds?.map((toastId: string) => {\n    const currentTx: SignedTransactionsBodyType =\n      signedTransactionsToRender[toastId];\n    if (\n      currentTx == null ||\n      currentTx?.transactions == null ||\n      currentTx?.status == null\n    ) {\n      return null;\n    }\n\n    const { transactions, status } = currentTx;\n    return (\n      <TransactionToast\n        className={className}\n        key={toastId}\n        transactions={transactions}\n        status={status}\n        toastId={toastId}\n        withTxNonce={withTxNonce}\n      />\n    );\n  });\n\n  const mapPendingSignedTransactions = () => {\n    const newToasts = [...toastsIds];\n\n    for (const sessionId in pendingTransactionsToRender) {\n      const hasToast = toastsIds.includes(sessionId);\n\n      if (!hasToast) {\n        newToasts.push(sessionId);\n      }\n    }\n\n    setToastsIds(newToasts);\n  };\n\n  const fetchSessionStorageToasts = () => {\n    const sessionStorageToastsIds = getToastsIdsFromStorage();\n\n    if (sessionStorageToastsIds) {\n      const newToasts = [...toastsIds, ...sessionStorageToastsIds];\n      setToastsIds(newToasts);\n    }\n  };\n\n  const saveSessionStorageToasts = () => {\n    const shouldSaveLocalToasts = Boolean(toastsIds.length);\n    if (!shouldSaveLocalToasts) {\n      return;\n    }\n\n    setToastsIdsToStorage(toastsIds);\n  };\n\n  useEffect(() => {\n    fetchSessionStorageToasts();\n    return () => {\n      saveSessionStorageToasts();\n    };\n  }, []);\n\n  useEffect(() => {\n    mapPendingSignedTransactions();\n  }, [pendingTransactionsToRender]);\n\n  return <div className={generatedClasses.wrapper}>{mappedToastsList}</div>;\n}\n\nexport default withClassNameWrapper(TransactionsToastList);\n","let platform: any = {};\ntry {\n  platform = require('platform');\n} catch (err) {}\n\nexport default platform;\n","let qrcode: any = {};\ntry {\n  qrcode = require('qrcode');\n} catch (err) {}\n\nexport default qrcode;\n","import React, { useEffect, useState } from 'react';\n\nimport platform from 'optionalPackages/platform';\nimport QRCode from 'optionalPackages/qrcode';\nimport { useWalletConnectLogin } from 'services';\nimport ModalContainer from 'UI/ModalContainer';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { ReactComponent as Lighting } from '../WalletConnectLoginButton/lightning.svg';\nimport { LoginModalPropsType } from './types';\n\nfunction WalletConnectLoginContainer({\n  callbackRoute,\n  loginButtonText,\n  title = 'Maiar Login',\n  logoutRoute = '/unlock',\n  className = 'wallect-connect-login-modal',\n  lead = 'Scan the QR code using Maiar',\n  shouldRenderDefaultCss = true,\n  wrapContentInsideModal = true,\n  redirectAfterLogin,\n  token,\n  onClose\n}: LoginModalPropsType) {\n  const [\n    initLoginWithWalletConnect,\n    { error },\n    { uriDeepLink, walletConnectUri }\n  ] = useWalletConnectLogin({\n    logoutRoute,\n    callbackRoute,\n    token,\n    redirectAfterLogin,\n    shouldLoginUser: true\n  });\n  const [qrCodeSvg, setQrCodeSvg] = useState<string>('');\n  const isMobileDevice =\n    platform?.os?.family === 'iOS' || platform?.os?.family === 'Android';\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper: 'btn btn-primary px-sm-4 m-1 mx-sm-3',\n      loginText: 'text-left',\n      container: 'm-auto login-container',\n      card: 'card my-3 text-center',\n      cardBody: 'card-body p-4 mx-lg-4',\n      qrCodeSvgContainer: 'mx-auto mb-3',\n      title: 'mb-3',\n      leadText: 'lead mb-0',\n      mobileLoginButton: 'btn btn-primary px-4 mt-4',\n      errorMessage:\n        'text-danger d-flex justify-content-center align-items-center'\n    }\n  );\n\n  const generateQRCode = async () => {\n    if (!walletConnectUri) {\n      return;\n    }\n\n    const svg = await QRCode.toString(walletConnectUri, {\n      type: 'svg'\n    });\n\n    setQrCodeSvg(svg);\n  };\n\n  useEffect(() => {\n    generateQRCode();\n  }, [walletConnectUri]);\n\n  useEffect(() => {\n    initLoginWithWalletConnect();\n  }, []);\n\n  const content = (\n    <div className={generatedClasses.container}>\n      <div className={generatedClasses.root}>\n        <div className={generatedClasses.card}>\n          <div className={generatedClasses.cardBody}>\n            <div\n              className={generatedClasses.qrCodeSvgContainer}\n              dangerouslySetInnerHTML={{\n                __html: qrCodeSvg\n              }}\n              style={{\n                width: '15rem',\n                height: '15rem'\n              }}\n            />\n            <h4 className={generatedClasses.title}>{title}</h4>\n            {isMobileDevice ? (\n              <React.Fragment>\n                <p className={generatedClasses.leadText}>{loginButtonText}</p>\n                <a\n                  id='accessWalletBtn'\n                  data-testid='accessWalletBtn'\n                  className={generatedClasses.mobileLoginButton}\n                  href={uriDeepLink || undefined}\n                  rel='noopener noreferrer nofollow'\n                  target='_blank'\n                >\n                  <Lighting\n                    className={generatedClasses.cardBody}\n                    style={{\n                      width: '0.7rem',\n                      height: '0.7rem'\n                    }}\n                  />\n                  {title}\n                </a>\n              </React.Fragment>\n            ) : (\n              <p className={generatedClasses.leadText}>{lead}</p>\n            )}\n            <div>\n              {error && (\n                <p className={generatedClasses.errorMessage}>{error}</p>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  return wrapContentInsideModal ? (\n    <ModalContainer\n      title={'Login with Maiar'}\n      className={className}\n      onClose={onClose}\n    >\n      {content}\n    </ModalContainer>\n  ) : (\n    content\n  );\n}\n\nexport default withClassNameWrapper(WalletConnectLoginContainer);\n","import React, { Fragment, useState } from 'react';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport WalletConnectLoginContainer from '../WalletConnectLoginContainer';\nimport { WalletConnectLoginButtonPropsType } from './types';\n\nconst WalletConnectLoginButton = ({\n  children,\n  callbackRoute,\n  loginButtonText = 'Maiar App',\n  title = 'Maiar Login',\n  logoutRoute = '/unlock',\n  shouldRenderDefaultCss = true,\n  wrapContentInsideModal = true,\n  redirectAfterLogin = false,\n  buttonClassName,\n  className = 'wallect-connect-login',\n  lead = 'Scan the QR code using Maiar',\n  token\n}: WalletConnectLoginButtonPropsType) => {\n  const [showLoginModal, setShowLoginModal] = useState(false);\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper: `btn btn-primary px-sm-4 m-1 mx-sm-3 ${\n        buttonClassName != null ? buttonClassName : ''\n      }`,\n      loginText: 'text-left'\n    }\n  );\n\n  const handleOpenModal = () => {\n    setShowLoginModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setShowLoginModal(false);\n  };\n\n  return (\n    <Fragment>\n      <button onClick={handleOpenModal} className={generatedClasses.wrapper}>\n        {children || (\n          <span className={generatedClasses.loginText}>{loginButtonText}</span>\n        )}\n      </button>\n      {showLoginModal && (\n        <WalletConnectLoginContainer\n          callbackRoute={callbackRoute}\n          loginButtonText={loginButtonText}\n          title={title}\n          token={token}\n          className={className}\n          logoutRoute={logoutRoute}\n          lead={lead}\n          wrapContentInsideModal={wrapContentInsideModal}\n          redirectAfterLogin={redirectAfterLogin}\n          onClose={handleCloseModal}\n        />\n      )}\n    </Fragment>\n  );\n};\n\nexport default withClassNameWrapper(WalletConnectLoginButton);\n","import React from 'react';\nimport { useWebWalletLogin } from 'services';\nimport { getGeneratedClasses } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { WebWalletLoginButtonPropsType } from './types';\n\nconst WebWalletLoginButton: (\n  props: WebWalletLoginButtonPropsType\n) => JSX.Element = ({\n  children,\n  token,\n  className = 'web-wallet-login',\n  callbackRoute,\n  buttonClassName,\n  loginButtonText = 'Elrond Web Wallet',\n  shouldRenderDefaultCss = true\n}) => {\n  const [onInitiateLogin] = useWebWalletLogin({\n    callbackRoute,\n    token\n  });\n  const classes = getGeneratedClasses(className, shouldRenderDefaultCss, {\n    wrapper: `btn btn-primary px-sm-4 m-1 mx-sm-3 ${\n      buttonClassName != null ? buttonClassName : ''\n    }`,\n    loginText: 'text-left'\n  });\n\n  const handleLogin = () => {\n    onInitiateLogin();\n  };\n\n  return (\n    <button onClick={handleLogin} className={classes.wrapper}>\n      {children || <span className={classes.loginText}>{loginButtonText}</span>}\n    </button>\n  );\n};\n\nexport default withClassNameWrapper(WebWalletLoginButton);\n","import React from 'react';\nimport { useGetLoginInfo } from 'hooks';\nimport ExtensionLoginButton from 'UI/extension/LoginButton';\n\nimport LedgerLoginButton from 'UI/ledger/LoginButton';\nimport WalletConnectLoginButton from 'UI/walletConnect/WalletConnectLoginButton';\nimport WebWalletLoginButton from 'UI/webWallet/LoginButton';\nimport { getGeneratedClasses, wrapperClassName } from 'utils';\nimport { withClassNameWrapper } from 'wrappers/withClassNameWrapper';\nimport { Props } from './types';\n\nconst UnlockPage = ({\n  loginRoute,\n  title = 'Login',\n  className = 'unlock-page',\n  shouldRenderDefaultCss = true,\n  LedgerLoginButtonText = 'Ledger',\n  description = 'Pick a login method',\n  WalletConnectLoginButtonText = 'Maiar',\n  ExtensionLoginButtonText = 'Extension',\n  WebWalletLoginButtonText = 'Web wallet'\n}: Props) => {\n  const generatedClasses = getGeneratedClasses(\n    className,\n    shouldRenderDefaultCss,\n    {\n      wrapper: `home d-flex flex-fill align-items-center ${wrapperClassName}`,\n      title: 'mb-4',\n      description: 'mb-4',\n      cardContainer: 'm-auto',\n      card: 'card my-4 text-center',\n      cardBody: 'card-body py-4 px-2 px-sm-2 mx-lg-4'\n    }\n  );\n  const { isLoggedIn } = useGetLoginInfo();\n\n  React.useEffect(() => {\n    if (isLoggedIn) {\n      window.location.href = loginRoute;\n    }\n  }, [isLoggedIn]);\n\n  return (\n    <div className={generatedClasses.wrapper}>\n      <div className={generatedClasses.cardContainer}>\n        <div className={generatedClasses.card}>\n          <div className={generatedClasses.cardBody}>\n            <h4 className={generatedClasses.title}>{title}</h4>\n            <p className={generatedClasses.description}>{description}</p>\n            <ExtensionLoginButton\n              callbackRoute={loginRoute}\n              loginButtonText={ExtensionLoginButtonText}\n            />\n            <WebWalletLoginButton\n              callbackRoute={loginRoute}\n              loginButtonText={WebWalletLoginButtonText}\n            />\n            <LedgerLoginButton\n              loginButtonText={LedgerLoginButtonText}\n              callbackRoute={loginRoute}\n            />\n            <WalletConnectLoginButton\n              callbackRoute={loginRoute}\n              loginButtonText={WalletConnectLoginButtonText}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withClassNameWrapper(UnlockPage);\n"]},"metadata":{},"sourceType":"module"}