{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TransactionEventTopic = exports.TransactionEvent = exports.TransactionLogs = void 0;\n\nconst _1 = require(\".\");\n\nconst errors_1 = require(\"./errors\");\n\nclass TransactionLogs {\n  constructor(address, events) {\n    this.address = address;\n    this.events = events;\n  }\n\n  static empty() {\n    return new TransactionLogs(new _1.Address(), []);\n  }\n\n  static fromHttpResponse(logs) {\n    let address = new _1.Address(logs.address);\n    let events = (logs.events || []).map(event => TransactionEvent.fromHttpResponse(event));\n    return new TransactionLogs(address, events);\n  }\n\n  findEventByIdentifier(identifier) {\n    let event = this.events.filter(event => event.identifier == identifier)[0];\n\n    if (event) {\n      return event;\n    }\n\n    throw new errors_1.ErrTransactionEventNotFound(identifier);\n  }\n\n}\n\nexports.TransactionLogs = TransactionLogs;\n\nclass TransactionEvent {\n  constructor(address, identifier, topics) {\n    this.address = address;\n    this.identifier = identifier;\n    this.topics = topics;\n  }\n\n  static fromHttpResponse(responsePart) {\n    let topics = (responsePart.topics || []).map(topic => new TransactionEventTopic(topic));\n    let address = new _1.Address(responsePart.address);\n    let identifier = responsePart.identifier || \"\";\n    let event = new TransactionEvent(address, identifier, topics);\n    return event;\n  }\n\n}\n\nexports.TransactionEvent = TransactionEvent;\n\nclass TransactionEventTopic {\n  constructor(topic) {\n    this.raw = Buffer.from(topic || \"\", \"base64\");\n  }\n\n  toString() {\n    return this.raw.toString(\"utf8\");\n  }\n\n  valueOf() {\n    return this.raw;\n  }\n\n}\n\nexports.TransactionEventTopic = TransactionEventTopic;","map":{"version":3,"sources":["../src/transactionLogs.ts"],"names":[],"mappings":";;;;;;;AAAA,MAAA,EAAA,GAAA,OAAA,CAAA,GAAA,CAAA;;AACA,MAAA,QAAA,GAAA,OAAA,CAAA,UAAA,CAAA;;AAEA,MAAa,eAAb,CAA4B;AAIxB,EAAA,WAAA,CAAY,OAAZ,EAA8B,MAA9B,EAAwD;AACpD,SAAK,OAAL,GAAe,OAAf;AACA,SAAK,MAAL,GAAc,MAAd;AACH;;AAEW,SAAL,KAAK,GAAA;AACR,WAAO,IAAI,eAAJ,CAAoB,IAAI,EAAA,CAAA,OAAJ,EAApB,EAAmC,EAAnC,CAAP;AACH;;AAEsB,SAAhB,gBAAgB,CAAC,IAAD,EAAU;AAC7B,QAAI,OAAO,GAAG,IAAI,EAAA,CAAA,OAAJ,CAAY,IAAI,CAAC,OAAjB,CAAd;AACA,QAAI,MAAM,GAAG,CAAC,IAAI,CAAC,MAAL,IAAe,EAAhB,EAAoB,GAApB,CAAyB,KAAD,IAAgB,gBAAgB,CAAC,gBAAjB,CAAkC,KAAlC,CAAxC,CAAb;AACA,WAAO,IAAI,eAAJ,CAAoB,OAApB,EAA6B,MAA7B,CAAP;AACH;;AAED,EAAA,qBAAqB,CAAC,UAAD,EAAmB;AACpC,QAAI,KAAK,GAAG,KAAK,MAAL,CAAY,MAAZ,CAAmB,KAAK,IAAI,KAAK,CAAC,UAAN,IAAoB,UAAhD,EAA4D,CAA5D,CAAZ;;AACA,QAAI,KAAJ,EAAW;AACP,aAAO,KAAP;AACH;;AAED,UAAM,IAAI,QAAA,CAAA,2BAAJ,CAAgC,UAAhC,CAAN;AACH;;AA1BuB;;AAA5B,OAAA,CAAA,eAAA,GAAA,eAAA;;AA6BA,MAAa,gBAAb,CAA6B;AAKzB,EAAA,WAAA,CAAY,OAAZ,EAA8B,UAA9B,EAAkD,MAAlD,EAAiF;AAC7E,SAAK,OAAL,GAAe,OAAf;AACA,SAAK,UAAL,GAAkB,UAAlB;AACA,SAAK,MAAL,GAAc,MAAd;AACH;;AAEsB,SAAhB,gBAAgB,CAAC,YAAD,EAItB;AACG,QAAI,MAAM,GAAG,CAAC,YAAY,CAAC,MAAb,IAAuB,EAAxB,EAA4B,GAA5B,CAAgC,KAAK,IAAI,IAAI,qBAAJ,CAA0B,KAA1B,CAAzC,CAAb;AACA,QAAI,OAAO,GAAG,IAAI,EAAA,CAAA,OAAJ,CAAY,YAAY,CAAC,OAAzB,CAAd;AACA,QAAI,UAAU,GAAG,YAAY,CAAC,UAAb,IAA2B,EAA5C;AACA,QAAI,KAAK,GAAG,IAAI,gBAAJ,CAAqB,OAArB,EAA8B,UAA9B,EAA0C,MAA1C,CAAZ;AACA,WAAO,KAAP;AACH;;AArBwB;;AAA7B,OAAA,CAAA,gBAAA,GAAA,gBAAA;;AAwBA,MAAa,qBAAb,CAAkC;AAG9B,EAAA,WAAA,CAAY,KAAZ,EAAyB;AACrB,SAAK,GAAL,GAAW,MAAM,CAAC,IAAP,CAAY,KAAK,IAAI,EAArB,EAAyB,QAAzB,CAAX;AACH;;AAED,EAAA,QAAQ,GAAA;AACJ,WAAO,KAAK,GAAL,CAAS,QAAT,CAAkB,MAAlB,CAAP;AACH;;AAED,EAAA,OAAO,GAAA;AACH,WAAO,KAAK,GAAZ;AACH;;AAb6B;;AAAlC,OAAA,CAAA,qBAAA,GAAA,qBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TransactionEventTopic = exports.TransactionEvent = exports.TransactionLogs = void 0;\nconst _1 = require(\".\");\nconst errors_1 = require(\"./errors\");\nclass TransactionLogs {\n    constructor(address, events) {\n        this.address = address;\n        this.events = events;\n    }\n    static empty() {\n        return new TransactionLogs(new _1.Address(), []);\n    }\n    static fromHttpResponse(logs) {\n        let address = new _1.Address(logs.address);\n        let events = (logs.events || []).map((event) => TransactionEvent.fromHttpResponse(event));\n        return new TransactionLogs(address, events);\n    }\n    findEventByIdentifier(identifier) {\n        let event = this.events.filter(event => event.identifier == identifier)[0];\n        if (event) {\n            return event;\n        }\n        throw new errors_1.ErrTransactionEventNotFound(identifier);\n    }\n}\nexports.TransactionLogs = TransactionLogs;\nclass TransactionEvent {\n    constructor(address, identifier, topics) {\n        this.address = address;\n        this.identifier = identifier;\n        this.topics = topics;\n    }\n    static fromHttpResponse(responsePart) {\n        let topics = (responsePart.topics || []).map(topic => new TransactionEventTopic(topic));\n        let address = new _1.Address(responsePart.address);\n        let identifier = responsePart.identifier || \"\";\n        let event = new TransactionEvent(address, identifier, topics);\n        return event;\n    }\n}\nexports.TransactionEvent = TransactionEvent;\nclass TransactionEventTopic {\n    constructor(topic) {\n        this.raw = Buffer.from(topic || \"\", \"base64\");\n    }\n    toString() {\n        return this.raw.toString(\"utf8\");\n    }\n    valueOf() {\n        return this.raw;\n    }\n}\nexports.TransactionEventTopic = TransactionEventTopic;\n//# sourceMappingURL=transactionLogs.js.map"]},"metadata":{},"sourceType":"script"}