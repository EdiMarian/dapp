{"ast":null,"code":"var _jsxFileName = \"/Users/ediichim/Documents/workspace/temp/estar dapp/client/src/components/Button/Components/EnterRace.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Modal } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst EnterRace = ({\n  showSelect,\n  nft,\n  race,\n  address,\n  estar,\n  egld,\n  socket\n}) => {\n  _s();\n\n  const navigate = useNavigate();\n  const [show, setShow] = useState(showSelect);\n  const [success, setSuccess] = useState(false);\n  const [message, setMessage] = useState(null);\n  const [raceId, setRaceId] = useState('');\n\n  function setDelay(ms) {\n    return new Promise((resolve, reject) => {\n      setTimeout(resolve, ms);\n    });\n  }\n\n  const enter = async (horse, url) => {\n    await setDelay(2000);\n    const data = await {\n      address: address,\n      horse: horse,\n      horseUrl: url,\n      feePaid: true,\n      entryFee: race.withEstar ? estar : egld,\n      with: race.withEstar ? 'ESTAR' : 'EGLD',\n      raceId: race.id\n    };\n    socket.emit('enter-race', data);\n\n    const handle = response => {\n      setSuccess(true);\n      setShow(response.showb);\n      setMessage(response.message);\n      setRaceId(response.id);\n    };\n\n    socket.on('recive-response', handle);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      size: \"xl\",\n      backdrop: \"static\",\n      keyboard: false,\n      onHide: () => setShow(false),\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        className: \"bg-white\",\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          id: \"contained-modal-title-vcenter\",\n          children: \"Select Horse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        className: \"bg-white px-0\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: nft ? nft.map(({\n            fileUri,\n            name,\n            stamina,\n            inRace\n          }) => {\n            if (race.id != 1) {\n              if (!inRace) {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12 col-md-4 text-center\",\n                  onClick: () => {\n                    enter(name, fileUri);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: fileUri,\n                    className: \"d-block mx-auto\",\n                    height: \"250px\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 70,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      color: 'black'\n                    },\n                    children: name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 71,\n                    columnNumber: 29\n                  }, this)]\n                }, name, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 27\n                }, this);\n              }\n            } else {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12 col-md-4 text-center\",\n                onClick: () => {\n                  enter(name, fileUri);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: fileUri,\n                  className: \"d-block mx-auto\",\n                  height: \"250px\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: 'black'\n                  },\n                  children: name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 29\n                }, this), race.id > 1 ? '' : stamina == 25 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-danger\",\n                  children: [\"Stamina: \", stamina]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 66\n                }, this) || stamina == 50 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-warning\",\n                  children: [\"Stamina: \", stamina]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 48\n                }, this) || stamina > 50 && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-primary\",\n                  children: [\"Stamina: \", stamina]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 47\n                }, this)]\n              }, name, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 27\n              }, this);\n            }\n          }) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"You don't have EquiStar Nfts.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: success,\n      backdrop: \"static\",\n      keyboard: false,\n      size: \"md-down\",\n      onHide: () => setSuccess(false),\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        className: \"bg-white\",\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          id: \"contained-modal-title-vcenter\",\n          children: \"\\uD83C\\uDF89 Congratulations!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        className: \"bg-white px-3\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        className: \"bg-white\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary d-block mx-auto\",\n          onClick: () => navigate(`/race/${raceId}`),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(EnterRace, \"MaWwFofyP4GtbYde/WRz/d6YqKM=\", false, function () {\n  return [useNavigate];\n});\n\n_c = EnterRace;\nexport default EnterRace;\n\nvar _c;\n\n$RefreshReg$(_c, \"EnterRace\");","map":{"version":3,"sources":["/Users/ediichim/Documents/workspace/temp/estar dapp/client/src/components/Button/Components/EnterRace.js"],"names":["React","useState","useNavigate","Modal","EnterRace","showSelect","nft","race","address","estar","egld","socket","navigate","show","setShow","success","setSuccess","message","setMessage","raceId","setRaceId","setDelay","ms","Promise","resolve","reject","setTimeout","enter","horse","url","data","horseUrl","feePaid","entryFee","withEstar","with","id","emit","handle","response","showb","on","map","fileUri","name","stamina","inRace","color"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { useNavigate } from 'react-router-dom';\nimport { Modal } from 'react-bootstrap';\n\nconst EnterRace = ({ showSelect, nft, race, address, estar, egld, socket }) => {\n  const navigate = useNavigate();\n  const [show, setShow] = useState(showSelect);\n  const [success, setSuccess] = useState(false);\n  const [message, setMessage] = useState(null);\n  const [raceId, setRaceId] = useState('');\n\n  function setDelay(ms) {\n    return new Promise((resolve, reject) => {\n      setTimeout(resolve, ms);\n    })\n  }\n\n  const enter = async (horse, url) => {\n    await setDelay(2000);\n    const data = await {\n        address: address,\n        horse: horse,\n        horseUrl: url,\n        feePaid: true,\n        entryFee: race.withEstar ? estar : egld,\n        with: race.withEstar ? 'ESTAR' : 'EGLD',\n        raceId: race.id,\n      };\n    socket.emit('enter-race', data);\n    const handle = (response) => {\n        setSuccess(true);\n        setShow(response.showb);\n        setMessage(response.message);\n        setRaceId(response.id);\n      }\n\n      socket.on('recive-response', handle);\n  };\n\n  return (\n    <>\n      <Modal\n        show={show}\n        size='xl'\n        backdrop='static'\n        keyboard={false}\n        onHide={() => setShow(false)}\n        aria-labelledby='contained-modal-title-vcenter'\n        centered\n      >\n        <Modal.Header className='bg-white'>\n          <Modal.Title id='contained-modal-title-vcenter'>\n            Select Horse\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body className='bg-white px-0'>\n            <div className='row'>\n              {nft ? (\n                nft.map(({ fileUri, name, stamina, inRace }) => {\n                      if(race.id != 1) {\n                        if(!inRace) {\n                          return (\n                          <div\n                            key={name}\n                            className='col-12 col-md-4 text-center'\n                            onClick={() => {\n                             enter(name, fileUri);\n                            }}\n                          >\n                            <img src={fileUri} className='d-block mx-auto' height='250px' />\n                            <p style={{ color: 'black' }}>{name}</p>\n                          </div>\n                        );\n                        }\n                      } else {\n                        return (\n                          <div\n                            key={name}\n                            className='col-12 col-md-4 text-center'\n                            onClick={() => {\n                             enter(name, fileUri);\n                            }}\n                          >\n                            <img src={fileUri} className='d-block mx-auto' height='250px' />\n                            <p style={{ color: 'black' }}>{name}</p>\n                            {race.id > 1 ? '' : stamina == 25 && <p className='text-danger'>Stamina: {stamina}</p> ||\n                              stamina == 50 && <p className='text-warning'>Stamina: {stamina}</p> ||\n                              stamina > 50 && <p className='text-primary'>Stamina: {stamina}</p>\n                            }\n                          </div>\n                        );\n                      }\n                    })\n              ) : (\n                <p>You don&apos;t have EquiStar Nfts.</p>\n              )}\n            </div>\n        </Modal.Body>\n      </Modal>\n      <Modal\n        show={success}\n        backdrop='static'\n        keyboard={false}\n        size='md-down'\n        onHide={() => setSuccess(false)}\n        aria-labelledby='contained-modal-title-vcenter'\n        centered\n      >\n        <Modal.Header className='bg-white'>\n          <Modal.Title id='contained-modal-title-vcenter'>\n            🎉 Congratulations!\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body className='bg-white px-3'>\n            <h4>{message}</h4>\n        </Modal.Body>\n        <Modal.Footer className='bg-white'>\n            <button\n              className='btn btn-primary d-block mx-auto'\n              onClick={() => navigate(`/race/${raceId}`)}\n            >\n              Close\n            </button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  )\n}\n\nexport default EnterRace\n"]},"metadata":{},"sourceType":"module"}