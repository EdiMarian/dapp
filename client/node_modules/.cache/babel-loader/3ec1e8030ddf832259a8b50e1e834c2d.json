{"ast":null,"code":"\"use strict\";\n\nvar _createClass = require(\"/Users/ediichim/Documents/workspace/temp/estar dapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _classCallCheck = require(\"/Users/ediichim/Documents/workspace/temp/estar dapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _inherits = require(\"/Users/ediichim/Documents/workspace/temp/estar dapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/Users/ediichim/Documents/workspace/temp/estar dapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VariadicValue = exports.VariadicType = void 0;\n\nvar types_1 = require(\"./types\");\n\nvar VariadicType = /*#__PURE__*/function (_types_1$Type) {\n  _inherits(VariadicType, _types_1$Type);\n\n  var _super = _createSuper(VariadicType);\n\n  function VariadicType(typeParameter) {\n    _classCallCheck(this, VariadicType);\n\n    return _super.call(this, \"Variadic\", [typeParameter], types_1.TypeCardinality.variable());\n  }\n\n  return VariadicType;\n}(types_1.Type);\n\nexports.VariadicType = VariadicType;\n/**\n * An abstraction that represents a sequence of values held under the umbrella of a variadic input / output parameter.\n *\n * Since at the time of constructing input parameters or decoding output parameters, the length is known,\n * this TypedValue behaves similar to a List.\n */\n\nvar VariadicValue = /*#__PURE__*/function (_types_1$TypedValue) {\n  _inherits(VariadicValue, _types_1$TypedValue);\n\n  var _super2 = _createSuper(VariadicValue);\n\n  /**\n   *\n   * @param type the type of this TypedValue (an instance of VariadicType), not the type parameter of the VariadicType\n   * @param items the items, having the type type.getFirstTypeParameter()\n   */\n  function VariadicValue(type, items) {\n    var _this;\n\n    _classCallCheck(this, VariadicValue);\n\n    _this = _super2.call(this, type); // TODO: assert items are of type type.getFirstTypeParameter()\n\n    _this.items = items;\n    return _this;\n  }\n\n  _createClass(VariadicValue, [{\n    key: \"getItems\",\n    value: function getItems() {\n      return this.items;\n    }\n  }, {\n    key: \"valueOf\",\n    value: function valueOf() {\n      return this.items.map(function (item) {\n        return item.valueOf();\n      });\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(other) {\n      if (this.getType().differs(other.getType())) {\n        return false;\n      }\n\n      for (var i = 0; i < this.items.length; i++) {\n        var selfItem = this.items[i];\n        var otherItem = other.items[i];\n\n        if (!selfItem.equals(otherItem)) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }], [{\n    key: \"fromItems\",\n    value: function fromItems() {\n      for (var _len = arguments.length, items = new Array(_len), _key = 0; _key < _len; _key++) {\n        items[_key] = arguments[_key];\n      }\n\n      if (items.length == 0) {\n        return new VariadicValue(new VariadicType(new types_1.TypePlaceholder()), []);\n      }\n\n      var typeParameter = items[0].getType();\n      return new VariadicValue(new VariadicType(typeParameter), items);\n    }\n  }]);\n\n  return VariadicValue;\n}(types_1.TypedValue);\n\nexports.VariadicValue = VariadicValue;","map":{"version":3,"sources":["../../../src/smartcontracts/typesystem/variadic.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,IAAA,OAAA,GAAA,OAAA,CAAA,SAAA,CAAA;;IAEa,Y;;;;;AACT,wBAAY,aAAZ,EAA+B;AAAA;;AAAA,6BACrB,UADqB,EACT,CAAC,aAAD,CADS,EACQ,OAAA,CAAA,eAAA,CAAgB,QAAhB,EADR;AAE9B;;;EAH6B,OAAA,CAAA,I;;AAAlC,OAAA,CAAA,YAAA,GAAA,YAAA;AAMA;;;;;AAKG;;IACU,a;;;;;AAGT;;;;AAIG;AACH,yBAAY,IAAZ,EAAgC,KAAhC,EAAmD;AAAA;;AAAA;;AAC/C,+BAAM,IAAN,EAD+C,CAG/C;;AAEA,UAAK,KAAL,GAAa,KAAb;AAL+C;AAMlD;;;;WAWD,oBAAQ;AACJ,aAAO,KAAK,KAAZ;AACH;;;WAED,mBAAO;AACH,aAAO,KAAK,KAAL,CAAW,GAAX,CAAe,UAAA,IAAI;AAAA,eAAI,IAAI,CAAC,OAAL,EAAJ;AAAA,OAAnB,CAAP;AACH;;;WAED,gBAAO,KAAP,EAA2B;AACvB,UAAI,KAAK,OAAL,GAAe,OAAf,CAAuB,KAAK,CAAC,OAAN,EAAvB,CAAJ,EAA6C;AACzC,eAAO,KAAP;AACH;;AAED,WAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,KAAK,KAAL,CAAW,MAA/B,EAAuC,CAAC,EAAxC,EAA4C;AACxC,YAAI,QAAQ,GAAG,KAAK,KAAL,CAAW,CAAX,CAAf;AACA,YAAI,SAAS,GAAG,KAAK,CAAC,KAAN,CAAY,CAAZ,CAAhB;;AAEA,YAAI,CAAC,QAAQ,CAAC,MAAT,CAAgB,SAAhB,CAAL,EAAiC;AAC7B,iBAAO,KAAP;AACH;AACJ;;AAED,aAAO,IAAP;AACH;;;WAhCD,qBAAuC;AAAA,wCAAnB,KAAmB;AAAnB,QAAA,KAAmB;AAAA;;AACnC,UAAI,KAAK,CAAC,MAAN,IAAgB,CAApB,EAAuB;AACnB,eAAO,IAAI,aAAJ,CAAkB,IAAI,YAAJ,CAAiB,IAAI,OAAA,CAAA,eAAJ,EAAjB,CAAlB,EAA2D,EAA3D,CAAP;AACH;;AAED,UAAI,aAAa,GAAG,KAAK,CAAC,CAAD,CAAL,CAAS,OAAT,EAApB;AACA,aAAO,IAAI,aAAJ,CAAkB,IAAI,YAAJ,CAAiB,aAAjB,CAAlB,EAAmD,KAAnD,CAAP;AACH;;;;EAvB8B,OAAA,CAAA,U;;AAAnC,OAAA,CAAA,aAAA,GAAA,aAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VariadicValue = exports.VariadicType = void 0;\nconst types_1 = require(\"./types\");\nclass VariadicType extends types_1.Type {\n    constructor(typeParameter) {\n        super(\"Variadic\", [typeParameter], types_1.TypeCardinality.variable());\n    }\n}\nexports.VariadicType = VariadicType;\n/**\n * An abstraction that represents a sequence of values held under the umbrella of a variadic input / output parameter.\n *\n * Since at the time of constructing input parameters or decoding output parameters, the length is known,\n * this TypedValue behaves similar to a List.\n */\nclass VariadicValue extends types_1.TypedValue {\n    /**\n     *\n     * @param type the type of this TypedValue (an instance of VariadicType), not the type parameter of the VariadicType\n     * @param items the items, having the type type.getFirstTypeParameter()\n     */\n    constructor(type, items) {\n        super(type);\n        // TODO: assert items are of type type.getFirstTypeParameter()\n        this.items = items;\n    }\n    static fromItems(...items) {\n        if (items.length == 0) {\n            return new VariadicValue(new VariadicType(new types_1.TypePlaceholder()), []);\n        }\n        let typeParameter = items[0].getType();\n        return new VariadicValue(new VariadicType(typeParameter), items);\n    }\n    getItems() {\n        return this.items;\n    }\n    valueOf() {\n        return this.items.map(item => item.valueOf());\n    }\n    equals(other) {\n        if (this.getType().differs(other.getType())) {\n            return false;\n        }\n        for (let i = 0; i < this.items.length; i++) {\n            let selfItem = this.items[i];\n            let otherItem = other.items[i];\n            if (!selfItem.equals(otherItem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\nexports.VariadicValue = VariadicValue;\n//# sourceMappingURL=variadic.js.map"]},"metadata":{},"sourceType":"script"}