{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/ediichim/Documents/workspace/temp/estar dapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/ediichim/Documents/workspace/temp/estar dapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EndpointParameterDefinition = exports.EndpointModifiers = exports.EndpointDefinition = void 0;\n\nvar typeExpressionParser_1 = require(\"./typeExpressionParser\");\n\nvar NamePlaceholder = \"?\";\nvar DescriptionPlaceholder = \"N / A\";\n\nvar EndpointDefinition = /*#__PURE__*/function () {\n  function EndpointDefinition(name, input, output, modifiers) {\n    _classCallCheck(this, EndpointDefinition);\n\n    this.input = [];\n    this.output = [];\n    this.name = name;\n    this.input = input || [];\n    this.output = output || [];\n    this.modifiers = modifiers;\n  }\n\n  _createClass(EndpointDefinition, [{\n    key: \"isConstructor\",\n    value: function isConstructor() {\n      return this.name == \"constructor\";\n    }\n  }], [{\n    key: \"fromJSON\",\n    value: function fromJSON(json) {\n      json.name = json.name == null ? NamePlaceholder : json.name;\n      json.payableInTokens = json.payableInTokens || [];\n      json.inputs = json.inputs || [];\n      json.outputs = json.outputs || [];\n      var input = json.inputs.map(function (param) {\n        return EndpointParameterDefinition.fromJSON(param);\n      });\n      var output = json.outputs.map(function (param) {\n        return EndpointParameterDefinition.fromJSON(param);\n      });\n      var modifiers = new EndpointModifiers(json.storageModifier, json.payableInTokens);\n      return new EndpointDefinition(json.name, input, output, modifiers);\n    }\n  }]);\n\n  return EndpointDefinition;\n}();\n\nexports.EndpointDefinition = EndpointDefinition;\n\nvar EndpointModifiers = /*#__PURE__*/function () {\n  function EndpointModifiers(storageModifier, payableInTokens) {\n    _classCallCheck(this, EndpointModifiers);\n\n    this.storageModifier = storageModifier || \"\";\n    this.payableInTokens = payableInTokens || [];\n  }\n\n  _createClass(EndpointModifiers, [{\n    key: \"isPayableInEGLD\",\n    value: function isPayableInEGLD() {\n      return this.isPayableInToken(\"EGLD\");\n    }\n  }, {\n    key: \"isPayableInToken\",\n    value: function isPayableInToken(token) {\n      if (this.payableInTokens.includes(token)) {\n        return true;\n      }\n\n      if (this.payableInTokens.includes(\"!\".concat(token))) {\n        return false;\n      }\n\n      if (this.payableInTokens.includes(\"*\")) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"isPayable\",\n    value: function isPayable() {\n      return this.payableInTokens.length != 0;\n    }\n  }, {\n    key: \"isReadonly\",\n    value: function isReadonly() {\n      return this.storageModifier == \"readonly\";\n    }\n  }]);\n\n  return EndpointModifiers;\n}();\n\nexports.EndpointModifiers = EndpointModifiers;\n\nvar EndpointParameterDefinition = /*#__PURE__*/function () {\n  function EndpointParameterDefinition(name, description, type) {\n    _classCallCheck(this, EndpointParameterDefinition);\n\n    this.name = name;\n    this.description = description;\n    this.type = type;\n  }\n\n  _createClass(EndpointParameterDefinition, null, [{\n    key: \"fromJSON\",\n    value: function fromJSON(json) {\n      var parsedType = new typeExpressionParser_1.TypeExpressionParser().parse(json.type);\n      return new EndpointParameterDefinition(json.name || NamePlaceholder, json.description || DescriptionPlaceholder, parsedType);\n    }\n  }]);\n\n  return EndpointParameterDefinition;\n}();\n\nexports.EndpointParameterDefinition = EndpointParameterDefinition;","map":{"version":3,"sources":["../../../src/smartcontracts/typesystem/endpoint.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EndpointParameterDefinition = exports.EndpointModifiers = exports.EndpointDefinition = void 0;\nconst typeExpressionParser_1 = require(\"./typeExpressionParser\");\nconst NamePlaceholder = \"?\";\nconst DescriptionPlaceholder = \"N / A\";\nclass EndpointDefinition {\n    constructor(name, input, output, modifiers) {\n        this.input = [];\n        this.output = [];\n        this.name = name;\n        this.input = input || [];\n        this.output = output || [];\n        this.modifiers = modifiers;\n    }\n    isConstructor() {\n        return this.name == \"constructor\";\n    }\n    static fromJSON(json) {\n        json.name = json.name == null ? NamePlaceholder : json.name;\n        json.payableInTokens = json.payableInTokens || [];\n        json.inputs = json.inputs || [];\n        json.outputs = json.outputs || [];\n        let input = json.inputs.map(param => EndpointParameterDefinition.fromJSON(param));\n        let output = json.outputs.map(param => EndpointParameterDefinition.fromJSON(param));\n        let modifiers = new EndpointModifiers(json.storageModifier, json.payableInTokens);\n        return new EndpointDefinition(json.name, input, output, modifiers);\n    }\n}\nexports.EndpointDefinition = EndpointDefinition;\nclass EndpointModifiers {\n    constructor(storageModifier, payableInTokens) {\n        this.storageModifier = storageModifier || \"\";\n        this.payableInTokens = payableInTokens || [];\n    }\n    isPayableInEGLD() {\n        return this.isPayableInToken(\"EGLD\");\n    }\n    isPayableInToken(token) {\n        if (this.payableInTokens.includes(token)) {\n            return true;\n        }\n        if (this.payableInTokens.includes(`!${token}`)) {\n            return false;\n        }\n        if (this.payableInTokens.includes(\"*\")) {\n            return true;\n        }\n        return false;\n    }\n    isPayable() {\n        return this.payableInTokens.length != 0;\n    }\n    isReadonly() {\n        return this.storageModifier == \"readonly\";\n    }\n}\nexports.EndpointModifiers = EndpointModifiers;\nclass EndpointParameterDefinition {\n    constructor(name, description, type) {\n        this.name = name;\n        this.description = description;\n        this.type = type;\n    }\n    static fromJSON(json) {\n        let parsedType = new typeExpressionParser_1.TypeExpressionParser().parse(json.type);\n        return new EndpointParameterDefinition(json.name || NamePlaceholder, json.description || DescriptionPlaceholder, parsedType);\n    }\n}\nexports.EndpointParameterDefinition = EndpointParameterDefinition;\n//# sourceMappingURL=endpoint.js.map"]},"metadata":{},"sourceType":"script"}